{"version":3,"file":"static/js/895.18d1cca5.chunk.js","mappings":"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","sources":["services/adminApi.js","pages/AdminLogin.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport const auth = {\r\n  login: async (email, password, captchaValue, role) => {\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/login', {\r\n        email,\r\n        password,\r\n        captchaToken: captchaValue,\r\n        role\r\n      });\r\n      const { token, user } = response.data;\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('role', user.role);\r\n      localStorage.setItem('designation', user.designation || '');\r\n      return { success: true, role: user.role };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Login failed' };\r\n    }\r\n  },\r\n  getCurrentUser: async () => {\r\n    try {\r\n      const response = await api.get('/auth/me');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to get user info' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const staffApi = {\r\n  getDesignations: async () => {\r\n    try {\r\n      const response = await api.get('/staff/designations');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch designations' };\r\n    }\r\n  },\r\n  addDesignation: async (name) => {\r\n    try {\r\n      const response = await api.post('/staff/designations', { name });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to add designation' };\r\n    }\r\n  },\r\n  registerStaff: async (staffData) => {\r\n    try {\r\n      const response = await api.post('/users/staff/register', staffData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to register staff' };\r\n    }\r\n  },\r\n  getStaff: async () => {\r\n    try {\r\n      const response = await api.get('/staff');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch staff' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const enquiryApi = {\r\n  addEnquiry: async (enquiryData) => {\r\n    try {\r\n      const response = await api.post('/enquiries', enquiryData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to add enquiry' };\r\n    }\r\n  },\r\n  getEnquiries: async () => {\r\n    try {\r\n      const response = await api.get('/enquiries');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch enquiries' };\r\n    }\r\n  },\r\n  updateEnquiry: async (id, updateData) => {\r\n    try {\r\n      const response = await api.put(`/enquiries/${id}`, updateData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to update enquiry' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const workApi = {\r\n  addWork: async (workData) => {\r\n    try {\r\n      const response = await api.post('/works', workData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to add work' };\r\n    }\r\n  },\r\n  getWorks: async () => {\r\n    try {\r\n      const response = await api.get('/works');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch works' };\r\n    }\r\n  },\r\n  addWorkReport: async (reportData) => {\r\n    try {\r\n      const response = await api.post('/work-reports', reportData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to add work report' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const staffAttendanceApi = {\r\n  getStaffList: async () => {\r\n    try {\r\n      const response = await api.get('/erp/staff/list');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch staff list' };\r\n    }\r\n  },\r\n  getAttendance: async (date) => {\r\n    try {\r\n      const response = await api.get('/erp/staff/attendance', { params: { date } });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch attendance' };\r\n    }\r\n  },\r\n  markAttendance: async (date, attendanceData) => {\r\n    try {\r\n      const response = await api.post('/erp/staff/attendance', { date, attendanceData });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to mark attendance' };\r\n    }\r\n  },\r\n  getAttendanceRecords: async (startDate, endDate) => {\r\n    try {\r\n      const response = await api.get('/erp/staff/attendance/records', { params: { startDate, endDate } });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch attendance records' };\r\n    }\r\n  },\r\n  getLeaveRequests: async () => {\r\n    try {\r\n      const response = await api.get('/erp/staff/leaves');\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch leave requests' };\r\n    }\r\n  },\r\n  updateLeaveStatus: async (leaveId, status) => {\r\n    try {\r\n      const response = await api.put(`/erp/staff/leave/${leaveId}/status`, { status });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to update leave status' };\r\n    }\r\n  },\r\n  getMonthlyAttendance: async (month, year) => {\r\n    try {\r\n      const response = await api.get('/erp/staff/attendance/monthly', { params: { month, year } });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch monthly attendance' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const feesApi = {\r\n  searchStudent: async (query) => {\r\n    try {\r\n      const response = await api.get('/users', { params: { search: query, role: 'student' } });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to search students' };\r\n    }\r\n  },\r\n  getStudentFees: async (studentId) => {\r\n    try {\r\n      const response = await api.get(`/payments/student/${studentId}`);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch student fees' };\r\n    }\r\n  },\r\n  collectFee: async (paymentData) => {\r\n    try {\r\n      const response = await api.post('/payments/initiate', paymentData);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to collect fee' };\r\n    }\r\n  },\r\n  generateReceipt: async (paymentId) => {\r\n    try {\r\n      const response = await api.post('/receipts/generate', { paymentId });\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to generate receipt' };\r\n    }\r\n  },\r\n  getPaymentDetails: async (paymentId) => {\r\n    try {\r\n      const response = await api.get(`/payments/${paymentId}`);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch payment details' };\r\n    }\r\n  },\r\n  getStudentDetails: async (studentId, role) => {\r\n    try {\r\n      const response = await api.get(`/users/${studentId}/${role}`);\r\n      return { success: true, data: response.data };\r\n    } catch (err) {\r\n      return { success: false, error: err.response?.data?.message || 'Failed to fetch student details' };\r\n    }\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { auth } from '../services/adminApi';\r\nimport ReCAPTCHA from 'react-google-recaptcha';\r\nimport '../styles/AdminLogin.css';\r\n\r\nconst AdminLogin = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [captchaValue, setCaptchaValue] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const result = await auth.login(email, password, captchaValue, 'admin');\r\n      if (result.success) {\r\n        navigate('/admin/dashboard');\r\n      } else {\r\n        setError(result.error);\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Login failed');\r\n      setCaptchaValue(null);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-login-container\">\r\n      <h2>Admin Login</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <ReCAPTCHA\r\n            sitekey=\"6LcLptQrAAAAAHdtlrO3jVvYFwFUE_ixdSKWkzaP\"\r\n            onChange={(value) => setCaptchaValue(value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" disabled={loading || !captchaValue}>\r\n          {loading ? 'Logging in...' : 'Login'}\r\n        </button>\r\n        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      </form>\r\n      <p>Student? <Link to=\"/login\">Student Login</Link></p>\r\n      <p>Staff? <Link to=\"/staff/login\">Staff Login</Link></p>\r\n      <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n"],"names":["api","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","auth","login","async","email","password","captchaValue","role","response","post","captchaToken","user","data","setItem","designation","success","err","_err$response","_err$response$data","error","message","getCurrentUser","get","_err$response2","_err$response2$data","staffApi","getDesignations","_err$response3","_err$response3$data","addDesignation","name","_err$response4","_err$response4$data","registerStaff","staffData","_err$response5","_err$response5$data","getStaff","_err$response6","_err$response6$data","enquiryApi","addEnquiry","enquiryData","_err$response7","_err$response7$data","getEnquiries","_err$response8","_err$response8$data","updateEnquiry","id","updateData","put","_err$response9","_err$response9$data","workApi","addWork","workData","_err$response0","_err$response0$data","getWorks","_err$response1","_err$response1$data","addWorkReport","reportData","_err$response10","_err$response10$data","staffAttendanceApi","getStaffList","_err$response11","_err$response11$data","getAttendance","params","date","_err$response12","_err$response12$data","markAttendance","attendanceData","_err$response13","_err$response13$data","getAttendanceRecords","startDate","endDate","_err$response14","_err$response14$data","getLeaveRequests","_err$response15","_err$response15$data","updateLeaveStatus","leaveId","status","_err$response16","_err$response16$data","getMonthlyAttendance","month","year","_err$response17","_err$response17$data","feesApi","searchStudent","search","query","_err$response18","_err$response18$data","getStudentFees","studentId","_err$response19","_err$response19$data","collectFee","paymentData","_err$response20","_err$response20$data","generateReceipt","paymentId","_err$response21","_err$response21$data","getPaymentDetails","_err$response22","_err$response22$data","getStudentDetails","_err$response23","_err$response23$data","AdminLogin","setEmail","useState","setPassword","setError","loading","setLoading","setCaptchaValue","navigate","useNavigate","_jsxs","className","children","_jsx","onSubmit","e","preventDefault","result","type","value","onChange","target","required","ReCAPTCHA","sitekey","disabled","style","color","Link","to"],"sourceRoot":""}