{"version":3,"file":"static/js/441.62d9d2dc.chunk.js","mappings":"0KAEA,MAwBA,EAxBuBA,IAAmB,IAAlB,SAAEC,GAAUD,EAKlC,OACEE,EAAAA,EAAAA,KAAA,UACEC,QANgBC,KAClBC,OAAOC,KAAKL,EAAU,WAMpBM,MAAO,CACLC,QAAS,WACTC,gBAAiB,UACjBC,MAAO,QACPC,OAAQ,OACRC,aAAc,MACdC,OAAQ,UACRC,SAAU,OACVC,OAAQ,UACRC,SACH,0BCsJL,EArKoBC,KAClB,MAAOC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,OAC1CC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,OAChCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IACpCK,EAASC,IAAcN,EAAAA,EAAAA,UAAS,KAChCO,EAAOC,IAAYR,EAAAA,EAAAA,UAAS,IAC7BS,GAAeC,EAAAA,EAAAA,QAAO,MAiF5B,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBhB,SAAA,EACrCd,EAAAA,EAAAA,KAAA,MAAAc,SAAI,0BACJd,EAAAA,EAAAA,KAAA,KAAAc,SAAG,kFACHd,EAAAA,EAAAA,KAAC+B,EAAc,CAAChC,SAAS,4DAExB0B,IAASzB,EAAAA,EAAAA,KAAA,OAAK8B,UAAU,gBAAgBzB,MAAO,CAAEG,MAAO,MAAOwB,aAAc,QAASlB,SAAEW,IACxFF,IAAWvB,EAAAA,EAAAA,KAAA,OAAK8B,UAAU,kBAAkBzB,MAAO,CAAEG,MAAO,QAASwB,aAAc,QAASlB,SAAES,KAE/FM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBhB,SAAA,EAC7Bd,EAAAA,EAAAA,KAAA,SACEiC,KAAK,OACLC,IAAKP,EACLQ,SA5FkBC,IACxB,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChC,GAAIF,EAAM,CAGR,IADqB,CAAC,aAAc,YAAa,YAAa,aAC5CG,SAASH,EAAKJ,MAE9B,YADAP,EAAS,qDAKX,GAAIW,EAAKI,KAAO,QAEd,YADAf,EAAS,mCAIXT,EAAgBoB,GAChBX,EAAS,IAGT,MAAMgB,EAAS,IAAIC,WACnBD,EAAOE,OAAUC,GAAMzB,EAAWyB,EAAEP,OAAOQ,QAC3CJ,EAAOK,cAAcV,EACvB,GAsEMW,OAAO,UACP3C,MAAO,CAAE2B,aAAc,UAGxBb,IACCU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAkBzB,MAAO,CAAE2B,aAAc,QAASlB,SAAA,EAC/Dd,EAAAA,EAAAA,KAAA,MAAAc,SAAI,cACJd,EAAAA,EAAAA,KAACiD,EAAAA,EAAS,CACRC,IAAK/B,EACLgC,IAAI,kBACJC,MAAO,IACPC,OAAQ,IACRhD,MAAO,CACLK,aAAc,MACd4C,UAAW,QACX7C,OAAQ,wBAMhBoB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBhB,SAAA,EAC7Bd,EAAAA,EAAAA,KAAA,UACEC,QA1FWsD,UACnB,GAAKvC,EAAL,CAKAM,GAAa,GACbI,EAAS,IACTF,EAAW,IAEX,IACE,MAAMgC,EAAQC,aAAaC,QAAQ,SAC7BC,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkB7C,GAElC,MAAM8C,EAAS,CACbC,QAAS,CACPC,cAAc,UAADC,OAAYT,GACzB,eAAgB,8BAIGU,EAAAA,EAAMC,KAAK,oDAAqDR,EAAUG,GAEjGtC,EAAW,0CACXP,EAAgB,MAChBG,EAAW,MACPO,EAAayC,UACfzC,EAAayC,QAAQC,MAAQ,IAI/BC,WAAW,KACTnE,OAAOoE,SAASC,UACf,KAEL,CAAE,MAAO/C,GAAQ,IAADgD,EAAAC,EACdhD,GAAuB,QAAd+C,EAAAhD,EAAMkD,gBAAQ,IAAAF,GAAM,QAANC,EAAdD,EAAgBG,YAAI,IAAAF,OAAN,EAAdA,EAAsBnD,UAAW,mCAC5C,CAAC,QACCD,GAAa,EACf,CApCA,MAFEI,EAAS,+BAyFHmD,UAAW7D,GAAgBK,EAC3BhB,MAAO,CACLC,QAAS,YACTwE,YAAa,OACbvE,gBAAiBS,IAAiBK,EAAY,UAAY,OAC1Db,MAAO,QACPC,OAAQ,OACRC,aAAc,MACdC,OAAQK,IAAiBK,EAAY,UAAY,eACjDP,SAEDO,EAAY,eAAiB,kBAGhCrB,EAAAA,EAAAA,KAAA,UACEC,QA/DW8E,KACnB9D,EAAgB,MAChBG,EAAW,MACXM,EAAS,IACTF,EAAW,IACPG,EAAayC,UACfzC,EAAayC,QAAQC,MAAQ,KA0DvBQ,SAAUxD,EACVhB,MAAO,CACLC,QAAS,YACTC,gBAAiB,UACjBC,MAAO,QACPC,OAAQ,OACRC,aAAc,MACdC,OAAQU,EAAY,cAAgB,WACpCP,SACH,kBAMLe,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAczB,MAAO,CAAE2E,UAAW,OAAQpE,SAAU,OAAQJ,MAAO,QAASM,SAAA,EACzFe,EAAAA,EAAAA,MAAA,KAAAf,SAAA,EAAGd,EAAAA,EAAAA,KAAA,UAAAc,SAAQ,uBAA2B,sBACtCe,EAAAA,EAAAA,MAAA,KAAAf,SAAA,EAAGd,EAAAA,EAAAA,KAAA,UAAAc,SAAQ,uBAA2B,WACtCe,EAAAA,EAAAA,MAAA,KAAAf,SAAA,EAAGd,EAAAA,EAAAA,KAAA,UAAAc,SAAQ,iBAAqB,8D,4JCnGxC,GA/DkBmE,EAAAA,EAAAA,MAAKnF,IAAgF,IAA/E,IAAEoD,EAAG,OAAEgC,EAAM,MAAEC,EAAK,IAAEhC,EAAG,MAAEC,EAAK,OAAEC,EAAM,QAAE+B,EAAO,WAAEC,GAAsBvF,EAAPwF,GAAKC,EAAAA,EAAAA,GAAAzF,EAAA0F,GAC7F,MAAOC,EAAUC,IAAexE,EAAAA,EAAAA,WAAS,IAClCyE,EAAUC,IAAe1E,EAAAA,EAAAA,WAAS,GACnC2E,GAASjE,EAAAA,EAAAA,WAEfkE,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAW,IAAIC,qBACnBC,IAAc,IAAZC,GAAMD,EACFC,EAAMC,iBACRP,GAAY,GACZG,EAASK,eAGb,CAAEC,UAAW,KAOf,OAJIR,EAAOzB,SACT2B,EAASO,QAAQT,EAAOzB,SAGnB,IAAM2B,EAASK,cACrB,IAOkBG,MACnB,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOpD,MAAQ,EACfoD,EAAOnD,OAAS,EACTmD,EAAOG,UAAU,cAAcC,QAAQ,oBAGhCL,GAEhB,OACE1E,EAAAA,EAAAA,MAAA,WAAAf,SAAA,CACG6E,GAAYP,IACXpF,EAAAA,EAAAA,KAAA,UAAQkF,OAAQG,GAAcD,EAASnD,KAAK,aAAakD,MAAOA,KAElEnF,EAAAA,EAAAA,KAAA,OAAA6G,EAAAA,EAAAA,GAAA,CACE3E,IAAK2D,EACL3C,IAAKyC,EAAWzC,OAAM4D,EACtB5B,OAAQS,EAAWT,OAAS4B,EAC5B3B,MAAOA,EACPhC,IAAKA,EACLC,MAAOA,EACPC,OAAQA,EACR0D,OA3BaC,KACjBtB,GAAY,IA2BRrF,MAAO,CACL4G,QAASxB,EAAW,EAAI,GACxByB,WAAY,eACZC,WAAY,WAEdC,QAAQ,QACJ9B,Q,iBC1DZ,SAASC,EAAyB1C,EAAGwE,GACnC,GAAI,MAAQxE,EAAG,MAAO,CAAC,EACvB,IAAIyE,EACFC,EACAC,ECLJ,SAAuCD,EAAG1E,GACxC,GAAI,MAAQ0E,EAAG,MAAO,CAAC,EACvB,IAAIF,EAAI,CAAC,EACT,IAAK,IAAII,KAAKF,EAAG,GAAI,CAAC,EAAEG,eAAeC,KAAKJ,EAAGE,GAAI,CACjD,IAAK,IAAM5E,EAAE+D,QAAQa,GAAI,SACzBJ,EAAEI,GAAKF,EAAEE,EACX,CACA,OAAOJ,CACT,CDHQ,CAA6BxE,EAAGwE,GACtC,GAAIO,OAAOC,sBAAuB,CAChC,IAAIJ,EAAIG,OAAOC,sBAAsBhF,GACrC,IAAK0E,EAAI,EAAGA,EAAIE,EAAEK,OAAQP,IAAKD,EAAIG,EAAEF,IAAK,IAAMF,EAAET,QAAQU,IAAM,CAAC,EAAES,qBAAqBJ,KAAK9E,EAAGyE,KAAOE,EAAEF,GAAKzE,EAAEyE,GAClH,CACA,OAAOE,CACT,C","sources":["components/TutorialButton.js","components/Student Pannel/UploadPhoto.js","pages/LazyImage.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst TutorialButton = ({ videoUrl }) => {\r\n  const handleClick = () => {\r\n    window.open(videoUrl, '_blank');\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={handleClick}\r\n      style={{\r\n        padding: '8px 16px',\r\n        backgroundColor: '#ff0000',\r\n        color: 'white',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer',\r\n        fontSize: '14px',\r\n        margin: '10px 0'\r\n      }}\r\n    >\r\n      Watch Tutorial Video\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default TutorialButton;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport LazyImage from '../../pages/LazyImage';\r\nimport TutorialButton from '../TutorialButton';\r\n\r\nconst UploadPhoto = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        setError('Please select a valid image file (JPEG, PNG, GIF)');\r\n        return;\r\n      }\r\n\r\n      // Validate file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('File size must be less than 5MB');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setError('');\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setPreview(e.target.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select a file first');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setError('');\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('profilePicture', selectedFile);\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:5000/api/student/profile-picture', formData, config);\r\n\r\n      setMessage('Profile picture uploaded successfully!');\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n      // Optionally refresh the page or update parent component\r\n      setTimeout(() => {\r\n        window.location.reload(); // Simple refresh to show new picture\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Failed to upload profile picture');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n    setError('');\r\n    setMessage('');\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-photo-container\">\r\n      <h1>Upload Profile Photo</h1>\r\n      <p>Upload and crop profile picture for ID card, attendance logs, and dashboard.</p>\r\n      <TutorialButton videoUrl=\"https://www.youtube.com/watch?v=placeholder-uploadphoto\" />\r\n\r\n      {error && <div className=\"error-message\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n      {message && <div className=\"success-message\" style={{ color: 'green', marginBottom: '10px' }}>{message}</div>}\r\n\r\n      <div className=\"upload-section\">\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect}\r\n          accept=\"image/*\"\r\n          style={{ marginBottom: '10px' }}\r\n        />\r\n\r\n        {preview && (\r\n          <div className=\"preview-section\" style={{ marginBottom: '20px' }}>\r\n            <h3>Preview:</h3>\r\n            <LazyImage\r\n              src={preview}\r\n              alt=\"Profile Preview\"\r\n              width={200}\r\n              height={200}\r\n              style={{\r\n                borderRadius: '50%',\r\n                objectFit: 'cover',\r\n                border: '2px solid #ccc'\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"upload-actions\">\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={!selectedFile || uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              marginRight: '10px',\r\n              backgroundColor: selectedFile && !uploading ? '#007bff' : '#ccc',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: selectedFile && !uploading ? 'pointer' : 'not-allowed'\r\n            }}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload Photo'}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleCancel}\r\n            disabled={uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#6c757d',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: uploading ? 'not-allowed' : 'pointer'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"upload-info\" style={{ marginTop: '20px', fontSize: '14px', color: '#666' }}>\r\n        <p><strong>Supported formats:</strong> JPEG, PNG, GIF</p>\r\n        <p><strong>Maximum file size:</strong> 5MB</p>\r\n        <p><strong>Recommended:</strong> Square images (1:1 aspect ratio) for best results</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPhoto;\r\n","import React, { useState, useRef, useEffect, memo } from 'react';\r\n\r\nconst LazyImage = memo(({ src, srcSet, sizes, alt, width, height, webpSrc, webpSrcSet, ...props }) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isInView, setIsInView] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setIsInView(true);\r\n          observer.disconnect();\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (imgRef.current) {\r\n      observer.observe(imgRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  const handleLoad = () => {\r\n    setIsLoaded(true);\r\n  };\r\n\r\n  // Check if browser supports WebP\r\n  const supportsWebP = () => {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\r\n  };\r\n\r\n  const useWebP = supportsWebP();\r\n\r\n  return (\r\n    <picture>\r\n      {isInView && webpSrc && (\r\n        <source srcSet={webpSrcSet || webpSrc} type=\"image/webp\" sizes={sizes} />\r\n      )}\r\n      <img\r\n        ref={imgRef}\r\n        src={isInView ? src : undefined}\r\n        srcSet={isInView ? srcSet : undefined}\r\n        sizes={sizes}\r\n        alt={alt}\r\n        width={width}\r\n        height={height}\r\n        onLoad={handleLoad}\r\n        style={{\r\n          opacity: isLoaded ? 1 : 0.5,\r\n          transition: 'opacity 0.3s',\r\n          willChange: 'opacity'\r\n        }}\r\n        loading=\"lazy\"\r\n        {...props}\r\n      />\r\n    </picture>\r\n  );\r\n});\r\n\r\nexport default LazyImage;\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["_ref","videoUrl","_jsx","onClick","handleClick","window","open","style","padding","backgroundColor","color","border","borderRadius","cursor","fontSize","margin","children","UploadPhoto","selectedFile","setSelectedFile","useState","preview","setPreview","uploading","setUploading","message","setMessage","error","setError","fileInputRef","useRef","_jsxs","className","TutorialButton","marginBottom","type","ref","onChange","event","file","target","files","includes","size","reader","FileReader","onload","e","result","readAsDataURL","accept","LazyImage","src","alt","width","height","objectFit","async","token","localStorage","getItem","formData","FormData","append","config","headers","Authorization","concat","axios","post","current","value","setTimeout","location","reload","_error$response","_error$response$data","response","data","disabled","marginRight","handleCancel","marginTop","memo","srcSet","sizes","webpSrc","webpSrcSet","props","_objectWithoutProperties","_excluded","isLoaded","setIsLoaded","isInView","setIsInView","imgRef","useEffect","observer","IntersectionObserver","_ref2","entry","isIntersecting","disconnect","threshold","observe","supportsWebP","canvas","document","createElement","toDataURL","indexOf","_objectSpread","undefined","onLoad","handleLoad","opacity","transition","willChange","loading","t","o","r","i","n","hasOwnProperty","call","Object","getOwnPropertySymbols","length","propertyIsEnumerable"],"sourceRoot":""}