{"version":3,"file":"static/js/810.b4081439.chunk.js","mappings":"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","sources":["components/Staff Pannel/Alert.js","components/Staff Pannel/Dashboard.js","components/Staff Pannel/Profile.js","components/Staff Pannel/CreateAssignment.js","components/Staff Pannel/ViewAssignments.js","components/Staff Pannel/Circulars.js","components/Staff Pannel/MarkAttendance.js","components/Staff Pannel/AttendanceReport.js","components/Staff Pannel/Messaging.js","components/Staff Pannel/ReportCard.js","components/Staff Pannel/Settings.js","components/Staff Pannel/LeaveManagement.js","components/Staff Pannel/Timetable.js","components/Staff Pannel/Payroll.js","components/Staff Pannel/AssignClass.js","components/Staff Pannel/StaffViewDocuments.js","components/Staff Pannel/StaffVerifyDocuments.js","components/Staff Pannel/TotalFeeCollectionSummary.js","components/Staff Pannel/ActivePendingOverdueFees.js","pages/StaffPanel.js","components/Student Pannel/ViewFees.js","components/Staff Pannel/UploadPhoto.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nconst Alert = ({ message, type = 'info', onClose, duration = 5000 }) => {\r\n  useEffect(() => {\r\n    if (duration > 0) {\r\n      const timer = setTimeout(onClose, duration);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [onClose, duration]);\r\n\r\n  const getAlertClass = () => {\r\n    switch (type) {\r\n      case 'success': return 'alert-success';\r\n      case 'error': return 'alert-error';\r\n      case 'warning': return 'alert-warning';\r\n      default: return 'alert-info';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`alert ${getAlertClass()}`}>\r\n      <span>{message}</span>\r\n      <button className=\"alert-close\" onClick={onClose}></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'; // Assuming Axios is installed; for API calls\r\nimport Alert from './Alert';\r\nimport './Alert.css';\r\n\r\nconst Dashboard = () => {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [showAlerts, setShowAlerts] = useState(false);\r\n  const [assignedClasses, setAssignedClasses] = useState(0);\r\n  const [todayTimetable, setTodayTimetable] = useState([]);\r\n  const [pendingAssignments, setPendingAssignments] = useState(0);\r\n  const [unreadMessages, setUnreadMessages] = useState(0);\r\n  const [attendanceSummary, setAttendanceSummary] = useState({ present: 0, total: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAlerts();\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token'); // Assuming JWT token stored\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        // Fetch assigned classes count\r\n        const classesRes = await axios.get('/api/staff/assigned-classes', config);\r\n        setAssignedClasses(classesRes.data.length || 0);\r\n\r\n        // Fetch today's timetable (assume today is Monday for demo; use Date in prod)\r\n        const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });\r\n        const timetableRes = await axios.get(`/api/staff/timetable?day=${today}`, config);\r\n        setTodayTimetable(timetableRes.data);\r\n\r\n        // Fetch pending assignments count (due today or soon)\r\n        const assignmentsRes = await axios.get('/api/staff/work/assignments', config);\r\n        const pending = assignmentsRes.data.filter(a => new Date(a.dueDate) < new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)).length; // Within 7 days\r\n        setPendingAssignments(pending);\r\n\r\n        // Fetch unread messages count\r\n        const messagesRes = await axios.get('/api/staff/messages/inbox', config);\r\n        const unread = messagesRes.data.filter(m => !m.isRead).length;\r\n        setUnreadMessages(unread);\r\n\r\n        // Fetch monthly attendance summary (current month)\r\n        const month = new Date().toISOString().slice(0, 7); // YYYY-MM\r\n        const attendanceRes = await axios.get(`/api/staff/attendance/monthly?month=${month}`, config);\r\n        if (attendanceRes.data.summary && attendanceRes.data.summary.length > 0) {\r\n          const totalPresent = attendanceRes.data.summary.reduce((sum, s) => sum + s.present, 0);\r\n          const totalDays = attendanceRes.data.summary[0].total; // Assuming uniform\r\n          setAttendanceSummary({ present: totalPresent, total: totalDays * attendanceRes.data.summary.length });\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchAlerts = async () => {\r\n    // Mock data for demonstration\r\n    const mockAlerts = [\r\n      { _id: '1', message: 'Staff meeting scheduled for tomorrow', type: 'info' },\r\n      { _id: '2', message: 'New student enrollment deadline approaching', type: 'warning' }\r\n    ];\r\n    setAlerts(mockAlerts);\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get('/api/alerts', config);\r\n    //   setAlerts(res.data);\r\n    // } catch (error) {\r\n    //   console.error('Error fetching alerts:', error);\r\n    // }\r\n  };\r\n\r\n  const dismissAlert = (alertId) => {\r\n    setAlerts(alerts.filter(alert => alert._id !== alertId));\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading dashboard...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Staff Dashboard</h1>\r\n        <div className=\"alert-icon\" onClick={() => setShowAlerts(!showAlerts)}>\r\n          \r\n          {alerts.length > 0 && <span className=\"alert-count\">{alerts.length}</span>}\r\n        </div>\r\n      </div>\r\n\r\n      {showAlerts && (\r\n        <div className=\"alerts-panel\">\r\n          {alerts.length === 0 ? (\r\n            <p>No new alerts.</p>\r\n          ) : (\r\n            alerts.map(alert => (\r\n              <Alert\r\n                key={alert._id}\r\n                message={alert.message}\r\n                type={alert.type}\r\n                onClose={() => dismissAlert(alert._id)}\r\n                duration={5000}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h3>Assigned Classes</h3>\r\n          <p>{assignedClasses}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Today's Timetable</h3>\r\n          <ul>\r\n            {todayTimetable.map((slot, idx) => (\r\n              <li key={idx}>{slot.period}: {slot.class} - {slot.subject} ({slot.time})</li>\r\n            ))}\r\n            {todayTimetable.length === 0 && <li>No classes today</li>}\r\n          </ul>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Pending Assignments</h3>\r\n          <p>{pendingAssignments}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Unread Messages</h3>\r\n          <p>{unreadMessages}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Attendance Summary (This Month)</h3>\r\n          <p>Present: {attendanceSummary.present} / Total: {attendanceSummary.total}</p>\r\n          <p>Percentage: {attendanceSummary.total > 0 ? Math.round((attendanceSummary.present / attendanceSummary.total) * 100) : 0}%</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"recent-notices\">\r\n        <h3>Recent Notices</h3>\r\n        {/* Placeholder; fetch from /api/circulars in full impl */}\r\n        <p>No recent notices available.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Profile = () => {\r\n  const [profile, setProfile] = useState({\r\n    _id: '',\r\n    name: '',\r\n    designation: '',\r\n    department: '',\r\n    qualifications: '',\r\n    joiningDate: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    profilePicture: null\r\n  });\r\n\r\n  // Helper function to format date for input\r\n  const formatDateForInput = (date) => {\r\n    if (!date) return '';\r\n    const d = new Date(date);\r\n    return d.toISOString().split('T')[0];\r\n  };\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('http://localhost:5000/api/staff/profile', config);\r\n      console.log('Profile data received:', res.data);\r\n      console.log('Profile picture field:', res.data.profilePicture);\r\n      setProfile(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      setError('Failed to fetch profile');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setProfile({ ...profile, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError('');\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put('http://localhost:5000/api/staff/profile', profile, config);\r\n      setEditing(false);\r\n      // Refetch profile to ensure we have latest data\r\n      await fetchProfile();\r\n    } catch (error) {\r\n      setError('Failed to update profile');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading profile...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-profile\">\r\n      <h1>Staff Profile</h1>\r\n      {error && <div className=\"error\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n\r\n      {/* Profile Picture Display */}\r\n      <div className=\"profile-picture-section\" style={{ marginBottom: '20px', textAlign: 'center' }}>\r\n        {profile.profilePicture ? (\r\n          <img\r\n            src={`http://localhost:5000/uploads/profile-pictures/${profile.profilePicture}`}\r\n            alt=\"Profile\"\r\n            style={{\r\n              width: '150px',\r\n              height: '150px',\r\n              borderRadius: '50%',\r\n              objectFit: 'cover',\r\n              border: '3px solid #007bff'\r\n            }}\r\n            onError={(e) => {\r\n              console.error('Image failed to load:', e.target.src);\r\n              // Hide broken image and show fallback\r\n              e.target.style.display = 'none';\r\n              e.target.nextSibling.style.display = 'flex';\r\n            }}\r\n          />\r\n        ) : null}\r\n        <div\r\n          style={{\r\n            width: '150px',\r\n            height: '150px',\r\n            borderRadius: '50%',\r\n            backgroundColor: '#f0f0f0',\r\n            display: profile.profilePicture ? 'none' : 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            border: '3px solid #ccc',\r\n            margin: '0 auto'\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '48px', color: '#666' }}></span>\r\n        </div>\r\n        <div style={{ marginTop: '10px' }}>\r\n          <a href=\"/staff/upload-photo\" style={{ color: '#007bff', textDecoration: 'none' }}>\r\n            {profile.profilePicture ? 'Change Photo' : 'Upload Photo'}\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Staff ID:</label>\r\n          <input type=\"text\" name=\"staffId\" value={profile.staffId || profile._id} disabled />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Name:</label>\r\n          <input type=\"text\" name=\"name\" value={profile.name} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Designation:</label>\r\n          <input type=\"text\" name=\"designation\" value={profile.designation} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Department:</label>\r\n          <input type=\"text\" name=\"department\" value={profile.department} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Qualifications:</label>\r\n          <textarea name=\"qualifications\" value={profile.qualifications} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Joining Date:</label>\r\n          <input type=\"date\" name=\"joiningDate\" value={formatDateForInput(profile.joiningDate)} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Email:</label>\r\n          <input type=\"email\" name=\"email\" value={profile.email} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Phone:</label>\r\n          <input type=\"tel\" name=\"phone\" value={profile.phone} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Address:</label>\r\n          <textarea name=\"address\" value={profile.address} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <button type=\"button\" onClick={() => setEditing(!editing)}>\r\n          {editing ? 'Cancel' : 'Edit Profile'}\r\n        </button>\r\n        {editing && <button type=\"submit\">Save Changes</button>}\r\n      </form>\r\n      <div className=\"profile-actions\">\r\n        <a href=\"/staff/upload-photo\">Upload Photo</a>\r\n        {/* Link to contact info update if separate */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CreateAssignment = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    class: '',\r\n    subject: '',\r\n    title: '',\r\n    description: '',\r\n    dueDate: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const fetchClasses = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assigned-classes', config);\r\n      setClasses(res.data.map(c => c.class));\r\n    } catch (error) {\r\n      console.error('Error fetching classes:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/work/assign', formData, config);\r\n      setMessage('Assignment created successfully');\r\n      setFormData({ class: '', subject: '', title: '', description: '', dueDate: '' });\r\n    } catch (error) {\r\n      setMessage('Failed to create assignment');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-assignment\">\r\n      <h1>Create Assignment</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Class:</label>\r\n          <select name=\"class\" value={formData.class} onChange={handleChange} required>\r\n            <option value=\"\">Select Class</option>\r\n            {classes.map(cls => <option key={cls} value={cls}>{cls}</option>)}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Subject:</label>\r\n          <select name=\"subject\" value={formData.subject} onChange={handleChange} required>\r\n            <option value=\"\">Select Subject</option>\r\n            {/* Placeholder subjects; fetch dynamically if needed */}\r\n            <option value=\"Math\">Math</option>\r\n            <option value=\"Science\">Science</option>\r\n            <option value=\"English\">English</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Title:</label>\r\n          <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description:</label>\r\n          <textarea name=\"description\" value={formData.description} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Due Date:</label>\r\n          <input type=\"date\" name=\"dueDate\" value={formData.dueDate} onChange={handleChange} required />\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>Create Assignment</button>\r\n      </form>\r\n      {message && <div className=\"message\">{message}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAssignment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewAssignments = () => {\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\r\n  const [submissions, setSubmissions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assignments', config);\r\n      setAssignments(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSubmissions = async (assignmentId) => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/assignments/${assignmentId}/submissions`, config);\r\n      setSubmissions(res.data);\r\n      setSelectedAssignment(assignmentId);\r\n    } catch (error) {\r\n      console.error('Error fetching submissions:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const updateGrade = async (submissionId, grade) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put(`/api/staff/submissions/${submissionId}/grade`, { grade }, config);\r\n      fetchSubmissions(selectedAssignment); // Refresh\r\n    } catch (error) {\r\n      console.error('Error updating grade:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"view-assignments\">\r\n      <h1>View Assignments</h1>\r\n      <div className=\"assignments-list\">\r\n        <h2>Your Assignments</h2>\r\n        {assignments.map(assignment => (\r\n          <div key={assignment._id} className=\"assignment-item\">\r\n            <h3>{assignment.title} - {assignment.class} ({assignment.subject})</h3>\r\n            <p>Due: {new Date(assignment.dueDate).toLocaleDateString()}</p>\r\n            <button onClick={() => fetchSubmissions(assignment._id)}>View Submissions</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {selectedAssignment && (\r\n        <div className=\"submissions\">\r\n          <h2>Submissions</h2>\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Student</th>\r\n                  <th>Status</th>\r\n                  <th>Submitted At</th>\r\n                  <th>Grade</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {submissions.map(sub => (\r\n                  <tr key={sub._id}>\r\n                    <td>{sub.studentName}</td>\r\n                    <td>{sub.status}</td>\r\n                    <td>{sub.submittedAt ? new Date(sub.submittedAt).toLocaleDateString() : 'N/A'}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={sub.grade}\r\n                        onChange={(e) => updateGrade(sub._id, e.target.value)}\r\n                        placeholder=\"Enter grade\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewAssignments;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Circulars = () => {\r\n  const [circulars, setCirculars] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCirculars();\r\n  }, []);\r\n\r\n  const fetchCirculars = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/circulars', config);\r\n      setCirculars(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching circulars:', error);\r\n    }\r\n  };\r\n\r\n  const downloadCircular = (url, title) => {\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = title;\r\n    a.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"circulars\">\r\n      <h1>Circulars / Notices</h1>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <ul>\r\n          {circulars.map(circular => (\r\n            <li key={circular._id}>\r\n              <h3>{circular.title}</h3>\r\n              <p>{circular.description}</p>\r\n              <p><small>{new Date(circular.date).toLocaleDateString()}</small></p>\r\n              {circular.fileUrl && (\r\n                <button onClick={() => downloadCircular(circular.fileUrl, circular.title)}>Download</button>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Circulars;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MarkAttendance.css';\r\n\r\nconst MarkAttendance = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    subject: '',\r\n    date: new Date().toISOString().split('T')[0], // Default to today\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [markAllPresent, setMarkAllPresent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch subjects when semester changes\r\n  useEffect(() => {\r\n    if (filters.semester) {\r\n      fetchSubjects(filters.course, filters.semester);\r\n    } else {\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester]);\r\n\r\n  // Fetch students when subject changes\r\n  useEffect(() => {\r\n    if (filters.subject) {\r\n      fetchStudents(filters.course, filters.semester, filters.subject);\r\n    } else {\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester, filters.subject]);\r\n\r\n  // Update attendance when students change or markAllPresent toggles\r\n  useEffect(() => {\r\n    if (students.length > 0) {\r\n      const initialAttendance = {};\r\n      students.forEach(student => {\r\n        initialAttendance[student.rollNo] = {\r\n          status: markAllPresent ? 'Present' : 'Absent',\r\n          remarks: '',\r\n        };\r\n      });\r\n      setAttendance(initialAttendance);\r\n    }\r\n  }, [students, markAllPresent]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      console.log('Fetching courses...');\r\n      const response = await axios.get('/api/courses');\r\n      console.log('Courses response:', response.data);\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching courses:', err);\r\n      // Mock data for demonstration\r\n      setCourses([\r\n        { id: 1, name: 'BA' },\r\n        { id: 2, name: 'BSc' },\r\n        { id: 3, name: 'B.Ed' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      console.log('Fetching semesters for course:', course);\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      console.log('Semesters response:', response.data);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching semesters:', err);\r\n      // Mock data for demonstration\r\n      setSemesters([\r\n        { id: 1, name: 'Semester 1' },\r\n        { id: 2, name: 'Semester 2' },\r\n        { id: 3, name: 'Semester 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSubjects = async (course, semester) => {\r\n    try {\r\n      console.log('Fetching subjects for course:', course, 'semester:', semester);\r\n      const response = await axios.get(`/api/subjects?course=${course}&semester=${semester}`);\r\n      console.log('Subjects response:', response.data);\r\n      setSubjects(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching subjects:', err);\r\n      // Mock data for demonstration\r\n      setSubjects([\r\n        { id: 1, name: 'Subject 1' },\r\n        { id: 2, name: 'Subject 2' },\r\n        { id: 3, name: 'Subject 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (course, semester, subject) => {\r\n    try {\r\n      console.log('Fetching students for course:', course, 'semester:', semester, 'subject:', subject);\r\n      const response = await axios.get(`/api/students?course=${course}&semester=${semester}&subject=${subject}`);\r\n      console.log('Students response:', response.data);\r\n      setStudents(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching students:', err);\r\n      // Mock data for demonstration\r\n      setStudents([\r\n        { rollNo: '101', name: 'Student A' },\r\n        { rollNo: '102', name: 'Student B' },\r\n        { rollNo: '103', name: 'Student C' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAttendanceChange = (rollNo, field, value) => {\r\n    setAttendance(prev => ({\r\n      ...prev,\r\n      [rollNo]: { ...prev[rollNo], [field]: value }\r\n    }));\r\n  };\r\n\r\n  const filteredStudents = students.filter(student =>\r\n    student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.rollNo.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const handleSubmit = async () => {\r\n    if (!filters.course || !filters.semester || !filters.subject || !filters.date) {\r\n      setError('Please select all filters');\r\n      return;\r\n    }\r\n    const markedStudents = Object.keys(attendance).filter(rollNo => attendance[rollNo].status !== 'Absent');\r\n    if (markedStudents.length === 0) {\r\n      setError('Please mark attendance for at least one student');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const payload = {\r\n        course: filters.course,\r\n        semester: filters.semester,\r\n        subject: filters.subject,\r\n        date: filters.date,\r\n        attendance: attendance,\r\n      };\r\n      await axios.post('/api/attendance', payload);\r\n      setSuccess('Attendance marked successfully');\r\n    } catch (err) {\r\n      setError('Failed to save attendance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mark-attendance\">\r\n      <h1>Mark Student Attendance</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {success && <div className=\"success\">{success}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-course-select\">Course</label>\r\n          <select\r\n            id=\"attendance-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-semester-select\">Semester</label>\r\n          <select\r\n            id=\"attendance-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-subject-select\">Subject</label>\r\n          <select\r\n            id=\"attendance-subject-select\"\r\n            name=\"subject\"\r\n            value={filters.subject}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.semester}\r\n          >\r\n            <option value=\"\">Select Subject</option>\r\n            {subjects.map(sub => (\r\n              <option key={sub.id} value={sub.name}>{sub.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-date-select\">Date</label>\r\n          <input\r\n            id=\"attendance-date-select\"\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={filters.date}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Student Attendance Table */}\r\n      {students.length > 0 && (\r\n        <>\r\n          <div className=\"table-controls\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name or roll no\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={markAllPresent}\r\n                onChange={(e) => setMarkAllPresent(e.target.checked)}\r\n              />\r\n              Mark All Present\r\n            </label>\r\n          </div>\r\n          <table className=\"attendance-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Roll No</th>\r\n                <th>Student Name</th>\r\n                <th>Status</th>\r\n                <th>Remarks</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredStudents.map(student => (\r\n                <tr key={student.rollNo}>\r\n                  <td>{student.rollNo}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>\r\n                    <select\r\n                      value={attendance[student.rollNo]?.status || 'Absent'}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'status', e.target.value)}\r\n                    >\r\n                      <option value=\"Present\">Present</option>\r\n                      <option value=\"Absent\">Absent</option>\r\n                      <option value=\"Leave\">Leave</option>\r\n                    </select>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={attendance[student.rollNo]?.remarks || ''}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'remarks', e.target.value)}\r\n                      placeholder=\"Optional remarks\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <button onClick={handleSubmit} disabled={loading}>\r\n            {loading ? 'Submitting...' : 'Submit Attendance'}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarkAttendance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport './AttendanceReport.css';\r\n\r\nconst AttendanceReport = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [summary, setSummary] = useState({\r\n    totalDays: 0,\r\n    present: 0,\r\n    absent: 0,\r\n    leave: 0,\r\n    percentage: 0,\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    dateFrom: '',\r\n    dateTo: '',\r\n    student: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [viewMode, setViewMode] = useState('table'); // table or chart\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch attendance when filters change\r\n  useEffect(() => {\r\n    const fetchAttendance = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const params = new URLSearchParams({\r\n          course: filters.course,\r\n          semester: filters.semester,\r\n          dateFrom: filters.dateFrom,\r\n          dateTo: filters.dateTo,\r\n          student: filters.student,\r\n        });\r\n        const response = await axios.get(`/api/attendance?${params}`);\r\n        setAttendanceData(response.data.records);\r\n        setSummary(response.data.summary);\r\n      } catch (err) {\r\n        setError('Failed to fetch attendance data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (filters.course && filters.semester && filters.dateFrom && filters.dateTo) {\r\n      fetchAttendance();\r\n    } else {\r\n      setAttendanceData([]);\r\n      setSummary({ totalDays: 0, present: 0, absent: 0, leave: 0, percentage: 0 });\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const response = await axios.get('/api/courses');\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch courses');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch semesters');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const exportToPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.text('Attendance Report', 20, 10);\r\n    doc.autoTable({\r\n      head: [['Date', 'Subject', 'Status', 'Remarks']],\r\n      body: attendanceData.map(record => [record.date, record.subject || '', record.status, record.remarks || '']),\r\n    });\r\n    doc.save('attendance-report.pdf');\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const csvContent = 'data:text/csv;charset=utf-8,' +\r\n      'Date,Subject,Status,Remarks\\n' +\r\n      attendanceData.map(record => `${record.date},${record.subject || ''},${record.status},${record.remarks || ''}`).join('\\n');\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement('a');\r\n    link.setAttribute('href', encodedUri);\r\n    link.setAttribute('download', 'attendance-report.csv');\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  const getPercentageColor = (percentage) => {\r\n    if (percentage >= 90) return 'green';\r\n    if (percentage >= 75) return 'orange';\r\n    return 'red';\r\n  };\r\n\r\n  return (\r\n    <div className=\"attendance-report\">\r\n      <h1>View Attendance Summary</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-course-select\">Course</label>\r\n          <select\r\n            id=\"summary-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-semester-select\">Semester</label>\r\n          <select\r\n            id=\"summary-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-from\">Date From</label>\r\n          <input\r\n            id=\"summary-date-from\"\r\n            type=\"date\"\r\n            name=\"dateFrom\"\r\n            value={filters.dateFrom}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-to\">Date To</label>\r\n          <input\r\n            id=\"summary-date-to\"\r\n            type=\"date\"\r\n            name=\"dateTo\"\r\n            value={filters.dateTo}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-student-search\">Student Name/ID</label>\r\n          <input\r\n            id=\"summary-student-search\"\r\n            type=\"text\"\r\n            name=\"student\"\r\n            value={filters.student}\r\n            onChange={handleFilterChange}\r\n            placeholder=\"Optional\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Attendance Summary */}\r\n      {attendanceData.length > 0 && (\r\n        <>\r\n          <div className=\"summary-section\">\r\n            <h2>Attendance Summary</h2>\r\n            <div className=\"summary-stats\">\r\n              <div>Total Working Days: {summary.totalDays}</div>\r\n              <div>Days Present: {summary.present}</div>\r\n              <div>Days Absent: {summary.absent}</div>\r\n              <div>Days on Leave: {summary.leave}</div>\r\n              <div style={{ color: getPercentageColor(summary.percentage) }}>\r\n                Attendance %: {summary.percentage.toFixed(2)}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* View Toggle */}\r\n          <div className=\"view-toggle\">\r\n            <button onClick={() => setViewMode('table')} className={viewMode === 'table' ? 'active' : ''}>Table View</button>\r\n            <button onClick={() => setViewMode('chart')} className={viewMode === 'chart' ? 'active' : ''}>Chart View</button>\r\n          </div>\r\n\r\n          {/* Table View */}\r\n          {viewMode === 'table' && (\r\n            <table className=\"attendance-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Subject</th>\r\n                  <th>Status</th>\r\n                  <th>Remarks</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {attendanceData.map((record, index) => (\r\n                  <tr key={index}>\r\n                    <td>{record.date}</td>\r\n                    <td>{record.subject || ''}</td>\r\n                    <td className={`status-${record.status.toLowerCase()}`}>{record.status}</td>\r\n                    <td>{record.remarks || ''}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n\r\n          {/* Chart View Placeholder */}\r\n          {viewMode === 'chart' && (\r\n            <div className=\"chart-placeholder\">\r\n              <p>Chart view not implemented yet. Placeholder for Chart.js integration.</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Export Buttons */}\r\n          <div className=\"export-buttons\">\r\n            <button onClick={exportToPDF}>Export to PDF</button>\r\n            <button onClick={exportToCSV}>Export to CSV</button>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {loading && <div className=\"loading\">Loading...</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceReport;\r\n","import React, { useState, useEffect } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport Select from 'react-select';\r\nimport { toast } from 'react-toastify';\r\nimport { api } from '../../services/adminApi';\r\n\r\nconst Messaging = () => {\r\n  const [subject, setSubject] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [selectedSemester, setSelectedSemester] = useState(null);\r\n  const [selectedSection, setSelectedSection] = useState(null);\r\n  const [selectedStudents, setSelectedStudents] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Removed fetchMessages as staff only send, no view sent messages here\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const res = await api.get('/courses');\r\n      setCourses(res.data.map(course => ({ value: course._id, label: course.name })));\r\n    } catch (error) {\r\n      console.error('Error fetching courses:', error);\r\n      toast.error('Failed to fetch courses.');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (courseId) => {\r\n    try {\r\n      const res = await api.get(`/courses/${courseId}/semesters`);\r\n      setSemesters(res.data.map(sem => ({ value: sem._id, label: sem.name })));\r\n    } catch (error) {\r\n      console.error('Error fetching semesters:', error);\r\n      toast.error('Failed to fetch semesters.');\r\n    }\r\n  };\r\n\r\n  const fetchSections = async (semesterId) => {\r\n    try {\r\n      const res = await api.get(`/semesters/${semesterId}/sections`);\r\n      setSections(res.data.map(sec => ({ value: sec._id, label: sec.name })));\r\n    } catch (error) {\r\n      console.error('Error fetching sections:', error);\r\n      toast.error('Failed to fetch sections.');\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (sectionId) => {\r\n    try {\r\n      const res = await api.get(`/sections/${sectionId}/students`);\r\n      setStudents(res.data.map(stu => ({ value: stu._id, label: stu.name })));\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n      toast.error('Failed to fetch students.');\r\n    }\r\n  };\r\n\r\n  const handleCourseChange = (selectedOption) => {\r\n    setSelectedCourse(selectedOption);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSemesters(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSemesterChange = (selectedOption) => {\r\n    setSelectedSemester(selectedOption);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSections(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSectionChange = (selectedOption) => {\r\n    setSelectedSection(selectedOption);\r\n    setSelectedStudents([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchStudents(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleStudentChange = (selectedOptions) => {\r\n    setSelectedStudents(selectedOptions);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setSubject('');\r\n    setBody('');\r\n    setSelectedCourse(null);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!subject.trim() || !body.trim() || selectedStudents.length === 0) {\r\n      toast.error('Please fill all required fields and select at least one student.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const sender_id = localStorage.getItem('userId') || 'current_user_id';\r\n      const recipientIds = selectedStudents.map(stu => stu.value);\r\n      await api.post('/message', {\r\n        sender_id,\r\n        recipient_ids: recipientIds,\r\n        subject,\r\n        body,\r\n        timestamp: new Date().toISOString(),\r\n        status: 'sent'\r\n      });\r\n      toast.success('Message sent successfully!');\r\n      resetForm();\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      toast.error('Failed to send message.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"messaging\">\r\n      <h1>Messaging</h1>\r\n      <div className=\"send-message\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Subject (max 100 chars)\"\r\n          value={subject}\r\n          onChange={(e) => setSubject(e.target.value.slice(0, 100))}\r\n          maxLength=\"100\"\r\n          required\r\n        />\r\n        <ReactQuill\r\n          value={body}\r\n          onChange={setBody}\r\n          placeholder=\"Message Body (max 5000 chars)\"\r\n          modules={{\r\n            toolbar: [\r\n              [{ 'header': [1, 2, false] }],\r\n              ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n              [{'list': 'ordered'}, {'list': 'bullet'}, {'indent': '-1'}, {'indent': '+1'}],\r\n              ['link', 'image'],\r\n              ['clean']\r\n            ],\r\n          }}\r\n          formats={[\r\n            'header', 'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n            'list', 'bullet', 'indent', 'link', 'image'\r\n          ]}\r\n        />\r\n        <div className=\"filters\">\r\n          <Select\r\n            value={selectedCourse}\r\n            onChange={handleCourseChange}\r\n            options={courses}\r\n            placeholder=\"Select Course\"\r\n            isClearable\r\n          />\r\n          <Select\r\n            value={selectedSemester}\r\n            onChange={handleSemesterChange}\r\n            options={semesters}\r\n            placeholder=\"Select Semester\"\r\n            isClearable\r\n            isDisabled={!selectedCourse}\r\n          />\r\n          <Select\r\n            value={selectedSection}\r\n            onChange={handleSectionChange}\r\n            options={sections}\r\n            placeholder=\"Select Section\"\r\n            isClearable\r\n            isDisabled={!selectedSemester}\r\n          />\r\n          <Select\r\n            value={selectedStudents}\r\n            onChange={handleStudentChange}\r\n            options={students}\r\n            placeholder=\"Select Students\"\r\n            isMulti\r\n            isDisabled={!selectedSection}\r\n          />\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button onClick={sendMessage} disabled={loading || !subject.trim() || !body.trim() || selectedStudents.length === 0}>\r\n            {loading ? 'Sending...' : 'Send'}\r\n          </button>\r\n          <button onClick={resetForm} disabled={loading}>Reset</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messaging;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ReportCard = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState('');\r\n  const [reportCard, setReportCard] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/students', config); // Assume endpoint for assigned students\r\n      setStudents(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n    }\r\n  };\r\n\r\n  const generateReportCard = async () => {\r\n    if (!selectedStudent) return;\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/report-card/${selectedStudent}`, config);\r\n      setReportCard(res.data);\r\n    } catch (error) {\r\n      console.error('Error generating report card:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"report-card\">\r\n      <h1>Report Card</h1>\r\n      <div className=\"select-student\">\r\n        <select value={selectedStudent} onChange={(e) => setSelectedStudent(e.target.value)}>\r\n          <option value=\"\">Select Student</option>\r\n          {students.map(student => (\r\n            <option key={student._id} value={student._id}>{student.name} - {student.class}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={generateReportCard} disabled={loading || !selectedStudent}>Generate Report</button>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : reportCard ? (\r\n        <div className=\"report-details\">\r\n          <h2>Report for {reportCard.studentName}</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Subject</th>\r\n                <th>Grade</th>\r\n                <th>Attendance %</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reportCard.subjects.map(subject => (\r\n                <tr key={subject.subject}>\r\n                  <td>{subject.subject}</td>\r\n                  <td>{subject.grade}</td>\r\n                  <td>{subject.attendancePercentage}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <p><strong>Overall Grade:</strong> {reportCard.overallGrade}</p>\r\n          <p><strong>Overall Attendance:</strong> {reportCard.overallAttendance}%</p>\r\n        </div>\r\n      ) : (\r\n        <p>Select a student to generate report card.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportCard;\r\n","import React, { useState } from 'react';\r\n\r\nconst Settings = () => {\r\n  const [preferences, setPreferences] = useState({\r\n    language: 'English',\r\n    notifications: true,\r\n    theme: 'light'\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const savePreferences = () => {\r\n    // Save to localStorage or API\r\n    localStorage.setItem('preferences', JSON.stringify(preferences));\r\n    alert('Preferences saved!');\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <h1>Settings</h1>\r\n      <div className=\"preferences\">\r\n        <h2>Preferences</h2>\r\n        <label>\r\n          Language:\r\n          <select name=\"language\" value={preferences.language} onChange={handleChange}>\r\n            <option value=\"English\">English</option>\r\n            <option value=\"Hindi\">Hindi</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Notifications:\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"notifications\"\r\n            checked={preferences.notifications}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          Theme:\r\n          <select name=\"theme\" value={preferences.theme} onChange={handleChange}>\r\n            <option value=\"light\">Light</option>\r\n            <option value=\"dark\">Dark</option>\r\n          </select>\r\n        </label>\r\n        <button onClick={savePreferences}>Save Preferences</button>\r\n      </div>\r\n      <div className=\"logout\">\r\n        <button onClick={logout}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LeaveManagement = () => {\r\n  const [leaves, setLeaves] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    type: 'sick',\r\n    startDate: '',\r\n    endDate: '',\r\n    reason: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchLeaves();\r\n  }, []);\r\n\r\n  const fetchLeaves = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/leaves', config);\r\n      setLeaves(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching leaves:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const start = new Date(formData.startDate);\r\n      const end = new Date(formData.endDate);\r\n      const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n      await axios.post('/api/staff/leave/apply', {\r\n        ...formData,\r\n        days\r\n      }, config);\r\n      setMessage('Leave applied successfully');\r\n      setFormData({ type: 'sick', startDate: '', endDate: '', reason: '' });\r\n      fetchLeaves(); // Refresh list\r\n    } catch (error) {\r\n      setMessage('Failed to apply leave');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"leave-management\">\r\n      <h1>Leave Management</h1>\r\n      <div className=\"apply-leave\">\r\n        <h2>Apply for Leave</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Type:</label>\r\n            <select name=\"type\" value={formData.type} onChange={handleChange} required>\r\n              <option value=\"sick\">Sick</option>\r\n              <option value=\"casual\">Casual</option>\r\n              <option value=\"earned\">Earned</option>\r\n              <option value=\"maternity\">Maternity</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Start Date:</label>\r\n            <input type=\"date\" name=\"startDate\" value={formData.startDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>End Date:</label>\r\n            <input type=\"date\" name=\"endDate\" value={formData.endDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Reason:</label>\r\n            <textarea name=\"reason\" value={formData.reason} onChange={handleChange} required />\r\n          </div>\r\n          <button type=\"submit\" disabled={loading}>Apply Leave</button>\r\n        </form>\r\n        {message && <div className=\"message\">{message}</div>}\r\n      </div>\r\n      <div className=\"leave-history\">\r\n        <h2>Leave History</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Type</th>\r\n              <th>Start Date</th>\r\n              <th>End Date</th>\r\n              <th>Days</th>\r\n              <th>Status</th>\r\n              <th>Reason</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {leaves.map(leave => (\r\n              <tr key={leave._id}>\r\n                <td>{leave.type}</td>\r\n                <td>{new Date(leave.startDate).toLocaleDateString()}</td>\r\n                <td>{new Date(leave.endDate).toLocaleDateString()}</td>\r\n                <td>{leave.days}</td>\r\n                <td>{leave.status}</td>\r\n                <td>{leave.reason}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveManagement;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Timetable = () => {\r\n  const [timetable, setTimetable] = useState([]);\r\n  const [selectedDay, setSelectedDay] = useState('Monday');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTimetable();\r\n  }, [selectedDay]);\r\n\r\n  const fetchTimetable = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/timetable?day=${selectedDay}`, config);\r\n      setTimetable(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching timetable:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  if (loading) {\r\n    return <div>Loading timetable...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"timetable\">\r\n      <h1>Timetable</h1>\r\n      <div className=\"day-selector\">\r\n        <label>Select Day:</label>\r\n        <select value={selectedDay} onChange={(e) => setSelectedDay(e.target.value)}>\r\n          {days.map(day => <option key={day} value={day}>{day}</option>)}\r\n        </select>\r\n      </div>\r\n      <div className=\"timetable-view\">\r\n        <h2>{selectedDay}'s Schedule</h2>\r\n        {timetable.length > 0 ? (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Period</th>\r\n                <th>Class</th>\r\n                <th>Subject</th>\r\n                <th>Time</th>\r\n                <th>Room</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {timetable.map(slot => (\r\n                <tr key={slot._id}>\r\n                  <td>{slot.period}</td>\r\n                  <td>{slot.class}</td>\r\n                  <td>{slot.subject}</td>\r\n                  <td>{slot.time}</td>\r\n                  <td>{slot.room || 'N/A'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No classes scheduled for {selectedDay}.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timetable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Payroll = () => {\r\n  const [payrolls, setPayrolls] = useState([]);\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7));\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPayrolls();\r\n  }, [selectedMonth]);\r\n\r\n  const fetchPayrolls = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/payroll?month=${selectedMonth}`, config);\r\n      setPayrolls(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching payroll:', error);\r\n    }\r\n  };\r\n\r\n  const generatePayslip = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/payroll/generate', { month: selectedMonth }, config);\r\n      setMessage('Payslip generated successfully');\r\n      fetchPayrolls(); // Refresh\r\n    } catch (error) {\r\n      setMessage('Failed to generate payslip');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"payroll\">\r\n      <h1>Payroll</h1>\r\n      <div className=\"month-selector\">\r\n        <label>Select Month:</label>\r\n        <input type=\"month\" value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} />\r\n        <button onClick={generatePayslip} disabled={loading}>Generate Payslip</button>\r\n      </div>\r\n      {message && <div className=\"message\">{message}</div>}\r\n      <div className=\"payroll-details\">\r\n        {payrolls.length > 0 ? (\r\n          payrolls.map(payroll => (\r\n            <div key={payroll._id} className=\"payslip\">\r\n              <h3>Payslip for {payroll.month}</h3>\r\n              <p><strong>Base Salary:</strong> {payroll.baseSalary}</p>\r\n              <p><strong>Allowances:</strong></p>\r\n              <ul>\r\n                {payroll.allowances.map((allow, idx) => (\r\n                  <li key={idx}>{allow.type}: {allow.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Deductions:</strong></p>\r\n              <ul>\r\n                {payroll.deductions.map((deduct, idx) => (\r\n                  <li key={idx}>{deduct.type}: {deduct.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Net Salary:</strong> {payroll.netSalary}</p>\r\n              <p><strong>Status:</strong> {payroll.status}</p>\r\n              {payroll.payslipUrl && <a href={payroll.payslipUrl} target=\"_blank\" rel=\"noopener noreferrer\">Download Payslip</a>}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No payroll data for selected month.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payroll;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './AssignClass.css';\r\n\r\n// Static JSON data for classes and subjects\r\nconst staticClasses = [\r\n  {\r\n    class_id: \"C101\",\r\n    class_name: \"Physics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C102\",\r\n    class_name: \"Chemistry 101\",\r\n    section: \"B\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C103\",\r\n    class_name: \"Mathematics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  }\r\n];\r\n\r\nconst staticSubjects = {\r\n  \"C101\": [\r\n    {\r\n      subject_id: \"S101\",\r\n      subject_name: \"Mechanics\",\r\n      subject_code: \"PHY101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S102\",\r\n      subject_name: \"Physics Lab\",\r\n      subject_code: \"PHY101L\",\r\n      subject_type: \"Lab\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C102\": [\r\n    {\r\n      subject_id: \"S201\",\r\n      subject_name: \"Organic Chemistry\",\r\n      subject_code: \"CHEM101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C103\": [\r\n    {\r\n      subject_id: \"S301\",\r\n      subject_name: \"Calculus\",\r\n      subject_code: \"MATH101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S302\",\r\n      subject_name: \"Linear Algebra\",\r\n      subject_code: \"MATH102\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ]\r\n};\r\n\r\nconst AssignClass = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState(null);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [showPanel, setShowPanel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load static classes on component mount\r\n    setClasses(staticClasses);\r\n  }, []);\r\n\r\n  const handleClassClick = (classItem) => {\r\n    setSelectedClass(classItem);\r\n    setSubjects(staticSubjects[classItem.class_id] || []);\r\n    setShowPanel(true);\r\n  };\r\n\r\n  const handleClosePanel = () => {\r\n    setSelectedClass(null);\r\n    setSubjects([]);\r\n    setShowPanel(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"assign-class\">\r\n      <h1>Assigned Classes</h1>\r\n      <table className=\"classes-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Class Name</th>\r\n            <th>Section</th>\r\n            <th>Academic Year</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {classes.length > 0 ? (\r\n            classes.map(cls => (\r\n              <tr key={cls.class_id} onClick={() => handleClassClick(cls)} tabIndex=\"0\" onKeyDown={(e) => e.key === 'Enter' && handleClassClick(cls)}>\r\n                <td>{cls.class_name}</td>\r\n                <td>{cls.section}</td>\r\n                <td>{cls.academic_year}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr className=\"empty-state\">\r\n              <td colSpan=\"3\">No classes assigned yet</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {showPanel && selectedClass && (\r\n        <div className=\"subject-panel\">\r\n          <h2>Subjects for {selectedClass.class_name} - Section {selectedClass.section}</h2>\r\n          <table className=\"subjects-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Subject Name</th>\r\n                <th>Code</th>\r\n                <th>Type</th>\r\n                <th>Semester</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {subjects.length > 0 ? (\r\n                subjects.map(sub => (\r\n                  <tr key={sub.subject_id} className={sub.subject_type === 'Theory' ? 'theory-row' : 'lab-row'}>\r\n                    <td>{sub.subject_name}</td>\r\n                    <td>{sub.subject_code}</td>\r\n                    <td>{sub.subject_type}</td>\r\n                    <td>{sub.semester}</td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr className=\"empty-state\">\r\n                  <td colSpan=\"4\">No subjects mapped to this class</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          <button className=\"close-btn\" onClick={handleClosePanel}>Close</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignClass;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/ViewDocuments.css';\r\n\r\nconst StaffViewDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [staffCourse, setStaffCourse] = useState(''); // Will be set from API response\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDocuments(data.students);\r\n        // Set course from first student if available\r\n        if (data.students.length > 0) {\r\n          setStaffCourse(data.students[0].course);\r\n        }\r\n      } else {\r\n        alert('Failed to fetch documents');\r\n      }\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n      alert('Failed to fetch documents');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, documentType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(documentType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = documentType;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        alert('Download failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Download error:', error);\r\n      alert('Download failed');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading documents...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"view-documents\">\r\n      <h2>View Student Documents ({staffCourse})</h2>\r\n      {documents.map(student => (\r\n        <div key={student.studentId} className=\"student-documents\">\r\n          <h3>{student.studentName} (ID: {student.studentId}) - Course: {student.course}</h3>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Document Type</th>\r\n                <th>Status</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {student.documents.map((doc, index) => (\r\n                <tr key={index}>\r\n                  <td>{doc.type}</td>\r\n                  <td>{doc.status}</td>\r\n                  <td>\r\n                    {doc.fileName ? (\r\n                      <button onClick={() => handleDownload(student.studentId, doc.type)}>Download</button>\r\n                    ) : (\r\n                      <span>Not Uploaded</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffViewDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst StaffVerifyDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('No authentication token found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setDocuments(data.students || []);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerify = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Verified'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Verified' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error verifying document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleReject = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Rejected'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Rejected' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error rejecting document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(docType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${docType.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`; // Default to PDF, adjust as needed\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (err) {\r\n      alert(`Error downloading document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"verify-documents\"><p>Loading documents...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"verify-documents\"><p>Error: {error}</p></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"verify-documents\">\r\n      <h2>Verify Student Documents</h2>\r\n      {documents.length === 0 ? (\r\n        <p>No documents pending verification.</p>\r\n      ) : (\r\n        documents.map(student => (\r\n          <div key={student.studentId} className=\"student-documents\">\r\n            <h3>{student.studentName} (ID: {student.studentId})</h3>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Document Type</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {student.documents.map((doc, index) => (\r\n                  <tr key={index}>\r\n                    <td>{doc.type}</td>\r\n                    <td>{doc.status}</td>\r\n                    <td>\r\n                      {doc.fileName && <button onClick={() => handleDownload(student.studentId, doc.type)}>View</button>}\r\n                      {doc.status === 'Pending' && (\r\n                        <>\r\n                          <button onClick={() => handleVerify(student.studentId, doc.type)}>Verify</button>\r\n                          <button onClick={() => handleReject(student.studentId, doc.type)}>Reject</button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffVerifyDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst TotalFeeCollectionSummary = () => {\r\n  const [summaryData, setSummaryData] = useState({\r\n    daily: [],\r\n    weekly: [],\r\n    monthly: [],\r\n    yearly: []\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('monthly');\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: ''\r\n  });\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCollectionSummary();\r\n  }, [activeTab, filters]);\r\n\r\n  const fetchCollectionSummary = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams({\r\n        period: activeTab,\r\n        ...filters\r\n      });\r\n\r\n      const response = await fetch(`http://localhost:5000/api/reports/collections?${queryParams}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSummaryData(prev => ({\r\n          ...prev,\r\n          [activeTab]: data\r\n        }));\r\n      } else {\r\n        setMessage('Failed to fetch collection summary');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error fetching collection summary: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getTotalCollection = (data) => {\r\n    return data.reduce((sum, item) => sum + item.totalCollection, 0);\r\n  };\r\n\r\n  const getTotalPayments = (data) => {\r\n    return data.reduce((sum, item) => sum + item.totalPayments, 0);\r\n  };\r\n\r\n  const renderSummaryTable = () => {\r\n    const data = summaryData[activeTab] || [];\r\n\r\n    if (loading) {\r\n      return <div className=\"loading\">Loading collection summary...</div>;\r\n    }\r\n\r\n    if (data.length === 0) {\r\n      return <div className=\"no-data\">No collection data available for the selected period.</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"summary-container\">\r\n        <div className=\"summary-cards\">\r\n          <div className=\"summary-card\">\r\n            <h3>Total Collection</h3>\r\n            <p className=\"amount\">{formatCurrency(getTotalCollection(data))}</p>\r\n          </div>\r\n          <div className=\"summary-card\">\r\n            <h3>Total Payments</h3>\r\n            <p className=\"count\">{getTotalPayments(data)}</p>\r\n          </div>\r\n          <div className=\"summary-card\">\r\n            <h3>Average per Payment</h3>\r\n            <p className=\"amount\">\r\n              {getTotalPayments(data) > 0\r\n                ? formatCurrency(getTotalCollection(data) / getTotalPayments(data))\r\n                : formatCurrency(0)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"summary-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Course</th>\r\n                <th>Year</th>\r\n                <th>Semester</th>\r\n                <th>Total Collection</th>\r\n                <th>Total Payments</th>\r\n                <th>Payment Types</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{item._id.course}</td>\r\n                  <td>{item._id.year}</td>\r\n                  <td>{item._id.semester}</td>\r\n                  <td className=\"amount-cell\">{formatCurrency(item.totalCollection)}</td>\r\n                  <td>{item.totalPayments}</td>\r\n                  <td>\r\n                    {item.paymentTypes?.map((type, idx) => (\r\n                      <div key={idx} className=\"payment-type\">\r\n                        {type.type}: {formatCurrency(type.totalAmount)} ({type.count} payments)\r\n                      </div>\r\n                    ))}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Total Fee Collection Summary</h1>\r\n      <p>Comprehensive overview of fee collections across different time periods and categories.</p>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filter-row\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              value={filters.course}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, course: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <input\r\n              type=\"number\"\r\n              value={filters.year}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, year: e.target.value }))}\r\n              placeholder=\"e.g., 2024\"\r\n            />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select\r\n              value={filters.semester}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, semester: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">Semester 1</option>\r\n              <option value=\"2\">Semester 2</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Time Period Tabs */}\r\n      <div className=\"tab-navigation\">\r\n        {['daily', 'weekly', 'monthly', 'yearly'].map(period => (\r\n          <button\r\n            key={period}\r\n            className={`tab-button ${activeTab === period ? 'active' : ''}`}\r\n            onClick={() => setActiveTab(period)}\r\n          >\r\n            {period.charAt(0).toUpperCase() + period.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Summary Content */}\r\n      <div className=\"tab-content\">\r\n        {renderSummaryTable()}\r\n      </div>\r\n\r\n      <style>{`\r\n        .menu-content {\r\n          padding: 20px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n\r\n        .message {\r\n          padding: 10px;\r\n          margin: 10px 0;\r\n          border-radius: 4px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .message.error {\r\n          background-color: #ffebee;\r\n          color: #c62828;\r\n          border: 1px solid #ef5350;\r\n        }\r\n\r\n        .message.success {\r\n          background-color: #e8f5e8;\r\n          color: #2e7d32;\r\n          border: 1px solid #4caf50;\r\n        }\r\n\r\n        .filters-section {\r\n          background: #f8f9fa;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .filter-row {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-width: 150px;\r\n        }\r\n\r\n        .filter-group label {\r\n          margin-bottom: 5px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .filter-group select,\r\n        .filter-group input {\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .tab-navigation {\r\n          display: flex;\r\n          margin-bottom: 20px;\r\n          border-bottom: 1px solid #ddd;\r\n        }\r\n\r\n        .summary-container {\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .summary-cards {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 20px;\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .summary-card {\r\n          background: white;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          text-align: center;\r\n        }\r\n\r\n        .summary-card h3 {\r\n          margin: 0 0 10px 0;\r\n          color: #666;\r\n          font-size: 14px;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .summary-card .amount {\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n          color: #28a745;\r\n          margin: 0;\r\n        }\r\n\r\n        .summary-card .count {\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n          color: #007bff;\r\n          margin: 0;\r\n        }\r\n\r\n        .table-container {\r\n          background: white;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          overflow: hidden;\r\n        }\r\n\r\n        .summary-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n        }\r\n\r\n        .summary-table th,\r\n        .summary-table td {\r\n          padding: 12px;\r\n          text-align: left;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .summary-table th {\r\n          background: #f8f9fa;\r\n          font-weight: bold;\r\n          color: #333;\r\n        }\r\n\r\n        .amount-cell {\r\n          font-weight: bold;\r\n          color: #28a745;\r\n        }\r\n\r\n        .payment-type {\r\n          margin-bottom: 4px;\r\n          font-size: 12px;\r\n          color: #666;\r\n        }\r\n\r\n        .loading, .no-data {\r\n          text-align: center;\r\n          padding: 40px;\r\n          font-size: 16px;\r\n          color: #666;\r\n        }\r\n\r\n        .no-data {\r\n          color: #999;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TotalFeeCollectionSummary;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ActivePendingOverdueFees = () => {\r\n  const [statusData, setStatusData] = useState({\r\n    paid: { count: 0, amount: 0, students: [] },\r\n    pending: { count: 0, amount: 0, students: [] },\r\n    overdue: { count: 0, amount: 0, students: [] }\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: ''\r\n  });\r\n  const [message, setMessage] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchFeeStatusOverview();\r\n  }, [filters]);\r\n\r\n  const fetchFeeStatusOverview = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters);\r\n\r\n      // Fetch payment statistics\r\n      const statsResponse = await fetch(`http://localhost:5000/api/reports/payments/stats?${queryParams}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      // Fetch defaulter reports only if course is selected\r\n      let defaulterResponse = null;\r\n      if (filters.course) {\r\n        defaulterResponse = await fetch(`http://localhost:5000/api/reports/defaulters?${queryParams}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n      }\r\n\r\n      if (statsResponse.ok) {\r\n        const statsData = await statsResponse.json();\r\n        let defaulterData = { totalDefaulters: 0, totalDueAmount: 0, defaulters: [] };\r\n\r\n        if (defaulterResponse) {\r\n          defaulterData = await defaulterResponse.json();\r\n        }\r\n\r\n        // Process the data\r\n        const processedData = processStatusData(statsData, defaulterData);\r\n        setStatusData(processedData);\r\n      } else {\r\n        setMessage('Failed to fetch fee status data');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error fetching fee status data: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const processStatusData = (statsData, defaulterData) => {\r\n    // Calculate totals from stats data\r\n    let totalPaid = 0;\r\n    let totalPending = 0;\r\n    let totalOverdue = 0;\r\n\r\n    statsData.forEach(stat => {\r\n      totalPaid += stat.paid || 0;\r\n      totalPending += stat.pending || 0;\r\n    });\r\n\r\n    // Overdue from defaulters\r\n    totalOverdue = defaulterData.totalDueAmount || 0;\r\n\r\n    return {\r\n      paid: {\r\n        count: statsData.reduce((sum, stat) => sum + (stat.paidCount || 0), 0),\r\n        amount: totalPaid,\r\n        students: [] // Would need additional API call to get student details\r\n      },\r\n      pending: {\r\n        count: statsData.reduce((sum, stat) => sum + (stat.pendingCount || 0), 0),\r\n        amount: totalPending,\r\n        students: [] // Would need additional API call to get student details\r\n      },\r\n      overdue: {\r\n        count: defaulterData.totalDefaulters || 0,\r\n        amount: totalOverdue,\r\n        students: defaulterData.defaulters || []\r\n      }\r\n    };\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'paid': return '#28a745';\r\n      case 'pending': return '#ffc107';\r\n      case 'overdue': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  const renderOverview = () => {\r\n    return (\r\n      <div className=\"overview-grid\">\r\n        <div className=\"status-card paid\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Paid Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.paid.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.paid.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status-card pending\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Pending Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.pending.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.pending.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status-card overdue\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Overdue Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.overdue.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.overdue.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDetailedList = (statusType) => {\r\n    const data = statusData[statusType];\r\n    const students = data.students || [];\r\n\r\n    if (loading) {\r\n      return <div className=\"loading\">Loading {statusType} fee details...</div>;\r\n    }\r\n\r\n    if (students.length === 0) {\r\n      return <div className=\"no-data\">No {statusType} fees found.</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"detailed-list\">\r\n        <div className=\"list-header\">\r\n          <h3>{statusType.charAt(0).toUpperCase() + statusType.slice(1)} Fee Details</h3>\r\n          <div className=\"summary-stats\">\r\n            <span>Total Students: {data.count}</span>\r\n            <span>Total Amount: {formatCurrency(data.amount)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"status-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Student ID</th>\r\n                <th>Name</th>\r\n                <th>Course</th>\r\n                <th>Year</th>\r\n                <th>Semester</th>\r\n                {statusType === 'overdue' && <th>Due Amount</th>}\r\n                {statusType === 'overdue' && <th>Days Overdue</th>}\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {students.map((student, index) => (\r\n                <tr key={index}>\r\n                  <td>{student.studentId}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>{student.course}</td>\r\n                  <td>{student.year}</td>\r\n                  <td>{student.semester}</td>\r\n                  {statusType === 'overdue' && (\r\n                    <>\r\n                      <td className=\"amount-cell\">{formatCurrency(student.dueAmount)}</td>\r\n                      <td className={`overdue-cell ${student.daysOverdue > 30 ? 'critical' : ''}`}>\r\n                        {student.daysOverdue} days\r\n                      </td>\r\n                    </>\r\n                  )}\r\n                  <td>\r\n                    <button\r\n                      className=\"action-btn view-btn\"\r\n                      onClick={() => setSelectedStudent(student)}\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                    {statusType === 'overdue' && (\r\n                      <button className=\"action-btn notify-btn\">\r\n                        Send Reminder\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStudentModal = () => {\r\n    if (!selectedStudent) return null;\r\n\r\n    return (\r\n      <div className=\"modal-overlay\" onClick={() => setSelectedStudent(null)}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <h3>Student Details</h3>\r\n            <button className=\"close-btn\" onClick={() => setSelectedStudent(null)}></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <div className=\"student-info\">\r\n              <div className=\"info-row\">\r\n                <label>Student ID:</label>\r\n                <span>{selectedStudent.studentId}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Name:</label>\r\n                <span>{selectedStudent.name}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Course:</label>\r\n                <span>{selectedStudent.course}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Year:</label>\r\n                <span>{selectedStudent.year}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Semester:</label>\r\n                <span>{selectedStudent.semester}</span>\r\n              </div>\r\n              {selectedStudent.dueAmount && (\r\n                <div className=\"info-row\">\r\n                  <label>Due Amount:</label>\r\n                  <span className=\"amount\">{formatCurrency(selectedStudent.dueAmount)}</span>\r\n                </div>\r\n              )}\r\n              {selectedStudent.daysOverdue && (\r\n                <div className=\"info-row\">\r\n                  <label>Days Overdue:</label>\r\n                  <span className={selectedStudent.daysOverdue > 30 ? 'critical' : ''}>\r\n                    {selectedStudent.daysOverdue} days\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Active/Pending/Overdue Fees</h1>\r\n      <p>Monitor active, pending, and overdue fees across all students.</p>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filter-row\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              value={filters.course}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, course: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <input\r\n              type=\"number\"\r\n              value={filters.year}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, year: e.target.value }))}\r\n              placeholder=\"e.g., 2024\"\r\n            />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select\r\n              value={filters.semester}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, semester: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">Semester 1</option>\r\n              <option value=\"2\">Semester 2</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"tab-navigation\">\r\n        <button\r\n          className={`tab-button ${activeTab === 'overview' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overview')}\r\n        >\r\n          Overview\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'paid' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('paid')}\r\n        >\r\n          Paid ({statusData.paid.count})\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'pending' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('pending')}\r\n        >\r\n          Pending ({statusData.pending.count})\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'overdue' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overdue')}\r\n        >\r\n          Overdue ({statusData.overdue.count})\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"tab-content\">\r\n        {activeTab === 'overview' && renderOverview()}\r\n        {activeTab === 'paid' && renderDetailedList('paid')}\r\n        {activeTab === 'pending' && renderDetailedList('pending')}\r\n        {activeTab === 'overdue' && renderDetailedList('overdue')}\r\n      </div>\r\n\r\n      {/* Student Details Modal */}\r\n      {renderStudentModal()}\r\n\r\n      <style>{`\r\n        .menu-content {\r\n          padding: 20px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n\r\n        .message {\r\n          padding: 10px;\r\n          margin: 10px 0;\r\n          border-radius: 4px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .message.error {\r\n          background-color: #ffebee;\r\n          color: #c62828;\r\n          border: 1px solid #ef5350;\r\n        }\r\n\r\n        .message.success {\r\n          background-color: #e8f5e8;\r\n          color: #2e7d32;\r\n          border: 1px solid #4caf50;\r\n        }\r\n\r\n        .filters-section {\r\n          background: #f8f9fa;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .filter-row {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-width: 150px;\r\n        }\r\n\r\n        .filter-group label {\r\n          margin-bottom: 5px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .filter-group select,\r\n        .filter-group input {\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .tab-navigation {\r\n          display: flex;\r\n          margin-bottom: 20px;\r\n          border-bottom: 1px solid #ddd;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .overview-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 20px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .status-card {\r\n          background: white;\r\n          padding: 25px;\r\n          border-radius: 12px;\r\n          box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          transition: transform 0.2s ease;\r\n        }\r\n\r\n        .status-card:hover {\r\n          transform: translateY(-2px);\r\n        }\r\n\r\n        .status-card.paid {\r\n          border-left: 4px solid #28a745;\r\n        }\r\n\r\n        .status-card.pending {\r\n          border-left: 4px solid #ffc107;\r\n        }\r\n\r\n        .status-card.overdue {\r\n          border-left: 4px solid #dc3545;\r\n        }\r\n\r\n        .status-icon {\r\n          font-size: 32px;\r\n          opacity: 0.8;\r\n        }\r\n\r\n        .status-content h3 {\r\n          margin: 0 0 10px 0;\r\n          color: #333;\r\n          font-size: 18px;\r\n        }\r\n\r\n        .status-numbers {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 5px;\r\n        }\r\n\r\n        .status-numbers .count {\r\n          font-size: 28px;\r\n          font-weight: bold;\r\n          color: #007bff;\r\n        }\r\n\r\n        .status-numbers .amount {\r\n          font-size: 16px;\r\n          color: #666;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .detailed-list {\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .list-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 20px;\r\n          flex-wrap: wrap;\r\n          gap: 10px;\r\n        }\r\n\r\n        .summary-stats {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .summary-stats span {\r\n          background: #f8f9fa;\r\n          padding: 8px 16px;\r\n          border-radius: 20px;\r\n          font-weight: bold;\r\n          color: #495057;\r\n        }\r\n\r\n        .table-container {\r\n          background: white;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          overflow-x: auto;\r\n        }\r\n\r\n        .status-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          min-width: 800px;\r\n        }\r\n\r\n        .status-table th,\r\n        .status-table td {\r\n          padding: 12px;\r\n          text-align: left;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .status-table th {\r\n          background: #f8f9fa;\r\n          font-weight: bold;\r\n          color: #333;\r\n          position: sticky;\r\n          top: 0;\r\n        }\r\n\r\n        .amount-cell {\r\n          font-weight: bold;\r\n          color: #28a745;\r\n        }\r\n\r\n        .overdue-cell {\r\n          font-weight: bold;\r\n        }\r\n\r\n        .overdue-cell.critical {\r\n          color: #dc3545;\r\n        }\r\n\r\n        .action-btn {\r\n          padding: 6px 12px;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 12px;\r\n          margin-right: 5px;\r\n          transition: background-color 0.2s ease;\r\n        }\r\n\r\n        .view-btn {\r\n          background-color: #007bff;\r\n          color: white;\r\n        }\r\n\r\n        .view-btn:hover {\r\n          background-color: #0056b3;\r\n        }\r\n\r\n        .notify-btn {\r\n          background-color: #ffc107;\r\n          color: #212529;\r\n        }\r\n\r\n        .notify-btn:hover {\r\n          background-color: #e0a800;\r\n        }\r\n\r\n        .loading, .no-data {\r\n          text-align: center;\r\n          padding: 40px;\r\n          font-size: 16px;\r\n          color: #666;\r\n        }\r\n\r\n        .no-data {\r\n          color: #999;\r\n        }\r\n\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(0,0,0,0.5);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n\r\n        .modal-content {\r\n          background: white;\r\n          border-radius: 8px;\r\n          width: 90%;\r\n          max-width: 500px;\r\n          max-height: 80vh;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 20px;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .modal-header h3 {\r\n          margin: 0;\r\n        }\r\n\r\n        .close-btn {\r\n          background: none;\r\n          border: none;\r\n          font-size: 24px;\r\n          cursor: pointer;\r\n          color: #666;\r\n        }\r\n\r\n        .modal-body {\r\n          padding: 20px;\r\n        }\r\n\r\n        .student-info {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 15px;\r\n        }\r\n\r\n        .info-row {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 10px 0;\r\n          border-bottom: 1px solid #f0f0f0;\r\n        }\r\n\r\n        .info-row label {\r\n          font-weight: bold;\r\n          color: #555;\r\n        }\r\n\r\n        .info-row span {\r\n          color: #333;\r\n        }\r\n\r\n        .info-row .amount {\r\n          color: #28a745;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .info-row .critical {\r\n          color: #dc3545;\r\n          font-weight: bold;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivePendingOverdueFees;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaDotCircle, FaFolder } from 'react-icons/fa';\r\nimport StaffSidebar from '../components/Staff Pannel/StaffSidebar';\r\nimport Dashboard from '../components/Staff Pannel/Dashboard';\r\nimport Profile from '../components/Staff Pannel/Profile';\r\nimport UploadPhoto from '../components/Staff Pannel/UploadPhoto';\r\nimport CreateAssignment from '../components/Staff Pannel/CreateAssignment';\r\nimport ViewAssignments from '../components/Staff Pannel/ViewAssignments';\r\nimport Circulars from '../components/Staff Pannel/Circulars';\r\nimport MarkAttendance from '../components/Staff Pannel/MarkAttendance';\r\nimport AttendanceReport from '../components/Staff Pannel/AttendanceReport';\r\nimport Messaging from '../components/Staff Pannel/Messaging';\r\nimport ReportCard from '../components/Staff Pannel/ReportCard';\r\nimport Settings from '../components/Staff Pannel/Settings';\r\nimport LeaveManagement from '../components/Staff Pannel/LeaveManagement';\r\nimport Timetable from '../components/Staff Pannel/Timetable';\r\nimport Payroll from '../components/Staff Pannel/Payroll';\r\nimport AssignClass from '../components/Staff Pannel/AssignClass';\r\nimport StaffViewDocuments from '../components/Staff Pannel/StaffViewDocuments';\r\nimport StaffVerifyDocuments from '../components/Staff Pannel/StaffVerifyDocuments';\r\nimport ViewFees from '../components/Student Pannel/ViewFees';\r\nimport CollectFees from '../components/Admin Pannel/CollectFees';\r\nimport ManageReceipts from '../components/Admin Pannel/ManageReceipts';\r\nimport DuplicateReceipts from '../components/Admin Pannel/DuplicateReceipts';\r\nimport CancelReceipt from '../components/Admin Pannel/CancelReceipt';\r\nimport TotalFeeCollectionSummary from '../components/Staff Pannel/TotalFeeCollectionSummary';\r\nimport ActivePendingOverdueFees from '../components/Staff Pannel/ActivePendingOverdueFees';\r\nimport '../styles/StaffPanel.css';\r\n\r\nconst StaffPanel = () => {\r\n  const [activeMenu, setActiveMenu] = useState('Dashboard');\r\n  const [openMenu, setOpenMenu] = useState(null);\r\n  const [userDesignation, setUserDesignation] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchUserDesignation = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]));\r\n          setUserDesignation(payload.designation || '');\r\n        } catch (error) {\r\n          console.error('Error parsing token:', error);\r\n          // Fallback to API call if token parsing fails\r\n          try {\r\n            const { auth } = await import('../services/adminApi');\r\n            const response = await auth.getCurrentUser();\r\n            if (response.success) {\r\n              setUserDesignation(response.data.designation || '');\r\n            }\r\n          } catch (apiError) {\r\n            console.error('Error fetching user info:', apiError);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    fetchUserDesignation();\r\n  }, []);\r\n\r\n  const baseMenus = [\r\n    { name: 'Dashboard', sub: [] },\r\n    { name: 'Profile Management', sub: ['Profile', 'Upload Photo', 'Contact Info'] },\r\n    { name: 'Class Assignment Management', sub: ['Assign Class/Subject', 'View Assignments'] },\r\n    { name: 'Attendance Management', sub: ['Attendance Entry', 'Attendance View', 'Daily/Monthly Reports'] },\r\n    { name: 'Leave Management', sub: ['Apply for Leave', 'View Leave History'] },\r\n    { name: 'Messaging', sub: ['Send/Receive Messages', 'Alerts'] },\r\n    { name: 'Timetable', sub: [] },\r\n    { name: 'Circular/Notices', sub: ['View Notices', 'Download'] },\r\n    { name: 'Work Management', sub: ['Assignments', 'Reports'] },\r\n    { name: 'Student Documents', sub: ['View Documents', 'Verify Documents'] },\r\n    { name: 'Report Card', sub: [] },\r\n    { name: 'Payroll', sub: ['View Salary', 'Payslip'] },\r\n    { name: 'Settings', sub: ['Preferences', 'Logout'] }\r\n  ];\r\n\r\n  const feesMenu = { name: 'Fees', sub: ['Collect Fees', 'Manage Receipts', 'Duplicate Receipts', 'Cancel Receipt', 'Total Fee Collection Summary', 'Active/Pending/Overdue Fees'] };\r\n\r\n  const menus = userDesignation === 'Fees Administrator' ? [...baseMenus.slice(0, 9), feesMenu, ...baseMenus.slice(9)] : baseMenus;\r\n\r\n  const componentMap = {\r\n    'Dashboard': Dashboard,\r\n    'Profile': Profile,\r\n    'Upload Photo': UploadPhoto,\r\n    'Assign Class/Subject': AssignClass,\r\n    'View Assignments': ViewAssignments,\r\n    'Attendance Entry': MarkAttendance,\r\n    'Attendance View': AttendanceReport,\r\n    'Daily/Monthly Reports': AttendanceReport,\r\n    'Apply for Leave': LeaveManagement,\r\n    'View Leave History': LeaveManagement,\r\n    'Send/Receive Messages': Messaging,\r\n    'Alerts': Messaging,\r\n    'Timetable': Timetable,\r\n    'View Notices': Circulars,\r\n    'Download': Circulars,\r\n    'Assignments': CreateAssignment,\r\n    'Reports': ViewAssignments,\r\n    'View Documents': StaffViewDocuments,\r\n    'Verify Documents': StaffVerifyDocuments,\r\n    'Collect Fees': CollectFees,\r\n    'Manage Receipts': ManageReceipts,\r\n    'Duplicate Receipts': DuplicateReceipts,\r\n    'Cancel Receipt': CancelReceipt,\r\n    'Total Fee Collection Summary': TotalFeeCollectionSummary,\r\n    'Active/Pending/Overdue Fees': ActivePendingOverdueFees,\r\n    'Detailed Transactions Report': () => (\r\n      <div>\r\n        <h2>Detailed Transactions Report</h2>\r\n        <p>Sabhi students ke individual transactions: date, amount, mode (cash, card, online), payment status.</p>\r\n        <p>Filters for courses, batches, payment dates, fee status.</p>\r\n      </div>\r\n    ),\r\n    'Fee Structure Management': () => (\r\n      <div>\r\n        <h2>Fee Structure Management</h2>\r\n        <p>Create/update fee heads and amounts for every course/batch/semester/year.</p>\r\n        <p>Change history log (kis admin/staff ne kya update kiya).</p>\r\n      </div>\r\n    ),\r\n    'Receipt Management': () => (\r\n      <div>\r\n        <h2>Receipt Management</h2>\r\n        <p>Generate, view, download, print receipts for all transactions.</p>\r\n        <p>Re-issue or correct receipts (with approval system).</p>\r\n      </div>\r\n    ),\r\n    'Scholarship/Concession Monitoring': () => (\r\n      <div>\r\n        <h2>Scholarship/Concession Monitoring</h2>\r\n        <p>Kis student ko kya concession/scholarship mila, total concession amount ka summary.</p>\r\n      </div>\r\n    ),\r\n    'Refund/Adjustment Tracking': () => (\r\n      <div>\r\n        <h2>Refund/Adjustment Tracking</h2>\r\n        <p>Kis cases me refund/adjustment hua, reason, approval status.</p>\r\n      </div>\r\n    ),\r\n    'Alerts & Notifications': () => (\r\n      <div>\r\n        <h2>Alerts & Notifications</h2>\r\n        <p>Due fee reminders, overdue alerts, communication logs (SMS, Email).</p>\r\n      </div>\r\n    ),\r\n    'Audit Log': () => (\r\n      <div>\r\n        <h2>Audit Log</h2>\r\n        <p>All changes/actions performed in fee systemcomplete activity trail.</p>\r\n      </div>\r\n    ),\r\n    'Export Reports': () => (\r\n      <div>\r\n        <h2>Export Reports</h2>\r\n        <p>Download reports in PDF/Excel (collection, dues, batch-wise, etc.).</p>\r\n      </div>\r\n    ),\r\n    'Role/Permission Management': () => (\r\n      <div>\r\n        <h2>Role/Permission Management</h2>\r\n        <p>Kis staff/admin ko kya access haiuser management panel.</p>\r\n      </div>\r\n    ),\r\n    'Report Card': ReportCard,\r\n    'View Salary': Payroll,\r\n    'Payslip': Payroll,\r\n    'Preferences': Settings,\r\n    'Logout': () => { localStorage.removeItem('token'); window.location.href = '/login'; }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    const Component = componentMap[activeMenu];\r\n    if (typeof Component === 'function' && Component.name === 'Logout') {\r\n      Component();\r\n      return <div>Logging out...</div>;\r\n    }\r\n    return Component ? <Component /> : <Dashboard />;\r\n  };\r\n\r\n  const handleSubClick = (subName) => {\r\n    setActiveMenu(subName);\r\n  };\r\n\r\n  const handleMainClick = (menu) => {\r\n    if (menu.sub.length === 0) {\r\n      setActiveMenu(menu.name);\r\n      setOpenMenu(null);\r\n    } else {\r\n      setOpenMenu(prev => prev === menu.name ? null : menu.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-panel\">\r\n      <nav className=\"side-nav\">\r\n        <h2>Staff Panel</h2>\r\n        <ul className=\"nav-menu\">\r\n          {menus.map(menu => (\r\n            <li key={menu.name} className={menu.sub.length > 0 && openMenu === menu.name ? 'open' : ''}>\r\n              <button\r\n                className={menu.sub.length === 0 && activeMenu === menu.name ? 'active' : ''}\r\n                onClick={() => handleMainClick(menu)}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  {menu.sub.length === 0 ? <FaDotCircle /> : <FaFolder />} {menu.name}\r\n                </div>\r\n                {menu.sub.length > 0 && (\r\n                  <span className={`arrow ${openMenu === menu.name ? 'rotated' : ''}`}></span>\r\n                )}\r\n              </button>\r\n              {menu.sub.length > 0 && (\r\n                <ul className={`sub-menu ${openMenu === menu.name ? 'open' : ''}`}>\r\n                  {menu.sub.map(sub => (\r\n                    <li key={sub}>\r\n                      <button\r\n                        className={activeMenu === sub ? 'active' : ''}\r\n                        onClick={() => handleSubClick(sub)}\r\n                      >\r\n                        {sub}\r\n                      </button>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n      <main className=\"content\">\r\n        {renderContent()}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FeeSummaryTable from '../Admin Pannel/FeeSummaryTable';\r\n\r\nconst ViewFees = () => {\r\n  const [feeStructure, setFeeStructure] = useState(null);\r\n  const [payments, setPayments] = useState([]);\r\n  const [studentInfo, setStudentInfo] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('fees');\r\n  const [paymentType, setPaymentType] = useState('semester');\r\n  const [feeSummary, setFeeSummary] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchStudentInfo();\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (studentInfo?.department) {\r\n      fetchFeeStructure(studentInfo.department);\r\n    }\r\n  }, [studentInfo]);\r\n\r\n  useEffect(() => {\r\n    if (feeStructure && payments.length >= 0) {\r\n      const summary = calculateFeeSummary(payments);\r\n      setFeeSummary(summary);\r\n    }\r\n  }, [feeStructure, payments]);\r\n\r\n  const fetchStudentInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/auth/me', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStudentInfo(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching student info:', error);\r\n    }\r\n  };\r\n\r\n  const fetchFeeStructure = async (course) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/fees/${course}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFeeStructure(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee structure:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPayments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/my-payments', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPayments(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching payments:', error);\r\n    }\r\n  };\r\n\r\n  const getStudentFeeStructure = () => {\r\n    return feeStructure;\r\n  };\r\n\r\n  const calculateFeeAmount = (structure, type) => {\r\n    if (!structure) return 0;\r\n    const total = structure.totalFee;\r\n    return type === 'semester' ? total / 2 : total;\r\n  };\r\n\r\n  const initiatePayment = async () => {\r\n    if (!studentInfo || !getStudentFeeStructure()) {\r\n      setMessage('Unable to process payment. Student information or fee structure not found.');\r\n      return;\r\n    }\r\n\r\n    const structure = getStudentFeeStructure();\r\n    const amount = calculateFeeAmount(structure, paymentType);\r\n\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/initiate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          course: studentInfo.department,\r\n          year: studentInfo.year,\r\n          semester: studentInfo.semester,\r\n          paymentType,\r\n          amount\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setMessage('Payment initiated successfully! Please complete the payment process.');\r\n        fetchPayments();\r\n      } else {\r\n        setMessage(data.message || 'Failed to initiate payment');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error initiating payment: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateFeeSummary = (payments) => {\r\n    if (!feeStructure) return [];\r\n\r\n    const feeHeads = [\r\n      { head: 'Tuition Fee', total: feeStructure.feeComponents.tuitionFee },\r\n      { head: 'Library Fee', total: feeStructure.feeComponents.libraryFee },\r\n      { head: 'Laboratory Fee', total: feeStructure.feeComponents.laboratoryFee },\r\n      { head: 'Examination Fee', total: feeStructure.feeComponents.examinationFee },\r\n      { head: 'Sports Fee', total: feeStructure.feeComponents.sportsFee },\r\n      { head: 'Development Fee', total: feeStructure.feeComponents.developmentFee },\r\n      { head: 'Miscellaneous', total: feeStructure.feeComponents.miscellaneousFee }\r\n    ];\r\n\r\n    // Calculate total paid amount\r\n    const totalPaid = payments.reduce((sum, payment) => {\r\n      if (payment.status === 'Paid') {\r\n        return sum + payment.amount;\r\n      }\r\n      return sum;\r\n    }, 0);\r\n\r\n    // Allocate payments starting from Tuition Fee, then Library, then Sports, then Exam, etc.\r\n    let remainingPaid = totalPaid;\r\n    return feeHeads.map(fee => {\r\n      const paidForThisFee = Math.min(remainingPaid, fee.total);\r\n      remainingPaid -= paidForThisFee;\r\n      return {\r\n        head: fee.head,\r\n        amount: fee.total,\r\n        paid: paidForThisFee,\r\n        balance: Math.max(0, fee.total - paidForThisFee)\r\n      };\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Paid': return '#28a745';\r\n      case 'Pending': return '#ffc107';\r\n      case 'Failed': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  const structure = getStudentFeeStructure();\r\n  const currentFeeAmount = calculateFeeAmount(structure, paymentType);\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>My Fees</h1>\r\n      <p>View your fee structure and payment history.</p>\r\n\r\n      {message && (\r\n        <div style={{\r\n          padding: '10px',\r\n          margin: '10px 0',\r\n          border: '1px solid #ddd',\r\n          borderRadius: '4px',\r\n          backgroundColor: message.includes('Error') || message.includes('Failed') ? '#ffebee' : '#e8f5e8',\r\n          color: message.includes('Error') || message.includes('Failed') ? '#c62828' : '#2e7d32'\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button\r\n          onClick={() => setActiveTab('fees')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            marginRight: '10px',\r\n            backgroundColor: activeTab === 'fees' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Fee Details\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('payments')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            backgroundColor: activeTab === 'payments' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Payment History\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'fees' && (\r\n        <div>\r\n          <h3>Fees Summary</h3>\r\n          {studentInfo && feeSummary.length > 0 && (\r\n            <div style={{ overflowX: 'auto', marginBottom: '20px' }}>\r\n              <table style={{ width: '100%', borderCollapse: 'collapse', border: '1px solid #ddd' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Fee Head</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Total Amount</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Paid</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Balance</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {feeSummary.map((fee, index) => (\r\n                    <tr key={index}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: fee.head === 'Tuition Fee' ? 'bold' : 'normal' }}>\r\n                        {fee.head}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.amount.toLocaleString()}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.paid.toLocaleString()}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.balance.toLocaleString()}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr style={{ backgroundColor: '#e7f3ff' }}>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: 'bold' }}>Total</td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.amount, 0).toLocaleString()}\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.paid, 0).toLocaleString()}\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.balance, 0).toLocaleString()}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n\r\n          {!feeSummary.length && studentInfo && (\r\n            <div style={{ marginBottom: '20px', padding: '20px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#f8f9fa' }}>\r\n              <p>No fee summary available for your course: {studentInfo.department}</p>\r\n            </div>\r\n          )}\r\n\r\n          {structure && (\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <div style={{\r\n                border: '2px solid #007bff',\r\n                borderRadius: '8px',\r\n                padding: '20px',\r\n                backgroundColor: '#e7f3ff',\r\n                marginBottom: '20px'\r\n              }}>\r\n                <p style={{ fontSize: '18px', fontWeight: 'bold', color: '#007bff' }}>\r\n                  Total Annual Fee: {structure.totalFee.toLocaleString()}\r\n                </p>\r\n                <p>Semester Fee: {(structure.totalFee / 2).toLocaleString()}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ marginBottom: '20px' }}>\r\n            <h4>Submit Fee Payment</h4>\r\n            <div style={{ display: 'flex', gap: '15px', alignItems: 'center', marginBottom: '15px' }}>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"semester\"\r\n                  checked={paymentType === 'semester'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Semester ({structure ? (structure.totalFee / 2).toLocaleString() : 0})\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"year\"\r\n                  checked={paymentType === 'year'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Year ({structure ? structure.totalFee.toLocaleString() : 0})\r\n              </label>\r\n            </div>\r\n\r\n            <button\r\n              onClick={initiatePayment}\r\n              disabled={loading || !structure}\r\n              style={{\r\n                padding: '12px 24px',\r\n                backgroundColor: '#28a745',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading || !structure ? 'not-allowed' : 'pointer',\r\n                fontSize: '16px'\r\n              }}\r\n            >\r\n              {loading ? 'Processing...' : `Submit Payment ${currentFeeAmount.toLocaleString()} for ${paymentType === 'semester' ? 'Semester' : 'Year'}`}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'payments' && (\r\n        <div>\r\n          <h3>Payment History</h3>\r\n          <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n            {payments.length > 0 ? (\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Year</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Semester</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Type</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Amount</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Status</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Date</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {payments.map(payment => (\r\n                    <tr key={payment._id}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.year}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.semester}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.paymentType}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.amount}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        <span style={{\r\n                          padding: '3px 8px',\r\n                          borderRadius: '12px',\r\n                          backgroundColor: getStatusColor(payment.status),\r\n                          color: 'white',\r\n                          fontSize: '12px'\r\n                        }}>\r\n                          {payment.status}\r\n                        </span>\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {new Date(payment.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p>No payment records found.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewFees;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UploadPhoto = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        setError('Please select a valid image file (JPEG, PNG, GIF)');\r\n        return;\r\n      }\r\n\r\n      // Validate file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('File size must be less than 5MB');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setError('');\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setPreview(e.target.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select a file first');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setError('');\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('profilePicture', selectedFile);\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:5000/api/staff/profile-picture', formData, config);\r\n\r\n      setMessage('Profile picture uploaded successfully!');\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n      // Optionally refresh the page or update parent component\r\n      setTimeout(() => {\r\n        window.location.reload(); // Simple refresh to show new picture\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Failed to upload profile picture');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n    setError('');\r\n    setMessage('');\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-photo-container\">\r\n      <h1>Upload Profile Photo</h1>\r\n      <p>Upload and crop profile picture for ID card, attendance logs, and dashboard.</p>\r\n\r\n      {error && <div className=\"error-message\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n      {message && <div className=\"success-message\" style={{ color: 'green', marginBottom: '10px' }}>{message}</div>}\r\n\r\n      <div className=\"upload-section\">\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect}\r\n          accept=\"image/*\"\r\n          style={{ marginBottom: '10px' }}\r\n        />\r\n\r\n        {preview && (\r\n          <div className=\"preview-section\" style={{ marginBottom: '20px' }}>\r\n            <h3>Preview:</h3>\r\n            <img\r\n              src={preview}\r\n              alt=\"Profile Preview\"\r\n              style={{\r\n                maxWidth: '200px',\r\n                maxHeight: '200px',\r\n                borderRadius: '50%',\r\n                objectFit: 'cover',\r\n                border: '2px solid #ccc'\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"upload-actions\">\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={!selectedFile || uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              marginRight: '10px',\r\n              backgroundColor: selectedFile && !uploading ? '#007bff' : '#ccc',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: selectedFile && !uploading ? 'pointer' : 'not-allowed'\r\n            }}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload Photo'}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleCancel}\r\n            disabled={uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#6c757d',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: uploading ? 'not-allowed' : 'pointer'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"upload-info\" style={{ marginTop: '20px', fontSize: '14px', color: '#666' }}>\r\n        <p><strong>Supported formats:</strong> JPEG, PNG, GIF</p>\r\n        <p><strong>Maximum file size:</strong> 5MB</p>\r\n        <p><strong>Recommended:</strong> Square images (1:1 aspect ratio) for best results</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPhoto;\r\n"],"names":["_ref","message","type","onClose","duration","useEffect","timer","setTimeout","clearTimeout","_jsxs","className","concat","getAlertClass","children","_jsx","onClick","Dashboard","alerts","setAlerts","useState","showAlerts","setShowAlerts","assignedClasses","setAssignedClasses","todayTimetable","setTodayTimetable","pendingAssignments","setPendingAssignments","unreadMessages","setUnreadMessages","attendanceSummary","setAttendanceSummary","present","total","loading","setLoading","fetchAlerts","async","token","localStorage","getItem","config","headers","Authorization","classesRes","axios","get","data","length","today","Date","toLocaleDateString","weekday","timetableRes","pending","filter","a","dueDate","now","unread","m","isRead","month","toISOString","slice","attendanceRes","summary","totalPresent","reduce","sum","s","totalDays","error","console","fetchDashboardData","_id","map","alert","Alert","dismissAlert","alertId","slot","idx","period","class","subject","time","Math","round","Profile","profile","setProfile","name","designation","department","qualifications","joiningDate","email","phone","address","profilePicture","editing","setEditing","setError","saving","setSaving","fetchProfile","res","log","handleChange","e","_objectSpread","target","value","style","color","marginBottom","textAlign","src","alt","width","height","borderRadius","objectFit","border","onError","display","nextSibling","backgroundColor","alignItems","justifyContent","margin","fontSize","marginTop","href","textDecoration","onSubmit","preventDefault","put","staffId","disabled","onChange","required","date","split","formatDateForInput","CreateAssignment","classes","setClasses","formData","setFormData","title","description","setMessage","fetchClasses","c","post","cls","ViewAssignments","assignments","setAssignments","selectedAssignment","setSelectedAssignment","submissions","setSubmissions","fetchAssignments","fetchSubmissions","assignmentId","assignment","sub","studentName","status","submittedAt","grade","submissionId","updateGrade","placeholder","Circulars","circulars","setCirculars","fetchCirculars","circular","fileUrl","downloadCircular","url","document","createElement","download","click","MarkAttendance","courses","setCourses","semesters","setSemesters","subjects","setSubjects","students","setStudents","attendance","setAttendance","filters","setFilters","course","semester","searchTerm","setSearchTerm","markAllPresent","setMarkAllPresent","success","setSuccess","fetchCourses","fetchSemesters","fetchSubjects","fetchStudents","initialAttendance","forEach","student","rollNo","remarks","response","err","id","handleFilterChange","prev","handleAttendanceChange","field","filteredStudents","toLowerCase","includes","htmlFor","sem","_Fragment","checked","_attendance$student$r","_attendance$student$r2","Object","keys","payload","AttendanceReport","attendanceData","setAttendanceData","setSummary","absent","leave","percentage","dateFrom","dateTo","viewMode","setViewMode","params","URLSearchParams","records","fetchAttendance","toFixed","record","index","exportToPDF","doc","jsPDF","text","autoTable","head","body","save","exportToCSV","csvContent","join","encodedUri","encodeURI","link","setAttribute","appendChild","Messaging","setSubject","setBody","sections","setSections","selectedCourse","setSelectedCourse","selectedSemester","setSelectedSemester","selectedSection","setSelectedSection","selectedStudents","setSelectedStudents","api","label","toast","resetForm","maxLength","ReactQuill","modules","toolbar","formats","Select","selectedOption","courseId","options","isClearable","semesterId","sec","fetchSections","isDisabled","sectionId","stu","selectedOptions","isMulti","trim","sender_id","recipientIds","recipient_ids","timestamp","ReportCard","selectedStudent","setSelectedStudent","reportCard","setReportCard","attendancePercentage","overallGrade","overallAttendance","Settings","preferences","setPreferences","language","notifications","theme","savePreferences","setItem","JSON","stringify","logout","removeItem","window","location","LeaveManagement","leaves","setLeaves","startDate","endDate","reason","fetchLeaves","start","end","days","ceil","Timetable","timetable","setTimetable","selectedDay","setSelectedDay","fetchTimetable","day","room","Payroll","payrolls","setPayrolls","selectedMonth","setSelectedMonth","fetchPayrolls","payroll","baseSalary","allowances","allow","amount","deductions","deduct","netSalary","payslipUrl","rel","staticClasses","class_id","class_name","section","academic_year","staticSubjects","subject_id","subject_name","subject_code","subject_type","AssignClass","selectedClass","setSelectedClass","showPanel","setShowPanel","handleClassClick","classItem","tabIndex","onKeyDown","key","colSpan","handleClosePanel","StaffViewDocuments","documents","setDocuments","staffCourse","setStaffCourse","fetchDocuments","fetch","ok","json","studentId","fileName","documentType","encodeURIComponent","blob","URL","createObjectURL","revokeObjectURL","removeChild","handleDownload","StaffVerifyDocuments","Error","docType","replace","method","result","prevDocuments","handleVerify","handleReject","TotalFeeCollectionSummary","summaryData","setSummaryData","daily","weekly","monthly","yearly","activeTab","setActiveTab","year","fetchCollectionSummary","queryParams","formatCurrency","Intl","NumberFormat","currency","format","getTotalCollection","item","totalCollection","getTotalPayments","totalPayments","charAt","toUpperCase","renderSummaryTable","_item$paymentTypes","paymentTypes","totalAmount","count","ActivePendingOverdueFees","statusData","setStatusData","paid","overdue","fetchFeeStatusOverview","statsResponse","defaulterResponse","statsData","defaulterData","totalDefaulters","totalDueAmount","defaulters","processedData","processStatusData","totalPaid","totalPending","totalOverdue","stat","paidCount","pendingCount","renderDetailedList","statusType","dueAmount","daysOverdue","stopPropagation","StaffPanel","activeMenu","setActiveMenu","openMenu","setOpenMenu","userDesignation","setUserDesignation","parse","atob","auth","getCurrentUser","apiError","fetchUserDesignation","baseMenus","menus","componentMap","UploadPhoto","CollectFees","ManageReceipts","DuplicateReceipts","CancelReceipt","Detailed Transactions Report","Fee Structure Management","Receipt Management","Scholarship/Concession Monitoring","Refund/Adjustment Tracking","Alerts & Notifications","Audit Log","Export Reports","Role/Permission Management","Logout","menu","handleMainClick","FaDotCircle","FaFolder","renderContent","Component","ViewFees","feeStructure","setFeeStructure","payments","setPayments","studentInfo","setStudentInfo","paymentType","setPaymentType","feeSummary","setFeeSummary","fetchStudentInfo","fetchPayments","fetchFeeStructure","calculateFeeSummary","getStudentFeeStructure","calculateFeeAmount","structure","totalFee","feeHeads","feeComponents","tuitionFee","libraryFee","laboratoryFee","examinationFee","sportsFee","developmentFee","miscellaneousFee","remainingPaid","payment","fee","paidForThisFee","min","balance","max","getStatusColor","currentFeeAmount","padding","marginRight","cursor","overflowX","borderCollapse","fontWeight","toLocaleString","gap","maxHeight","overflowY","createdAt","selectedFile","setSelectedFile","preview","setPreview","uploading","setUploading","fileInputRef","useRef","ref","event","file","files","size","reader","FileReader","onload","readAsDataURL","accept","maxWidth","FormData","append","current","reload","_error$response","_error$response$data","handleCancel"],"ignoreList":[],"sourceRoot":""}