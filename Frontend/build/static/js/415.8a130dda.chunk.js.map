{"version":3,"file":"static/js/415.8a130dda.chunk.js","mappings":"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","sources":["components/Student Pannel/ViewFees.js","components/Staff Pannel/UploadPhoto.js","components/Staff Pannel/Alert.js","components/Staff Pannel/Dashboard.js","components/Staff Pannel/Profile.js","components/Staff Pannel/CreateAssignment.js","components/Staff Pannel/ViewAssignments.js","components/Staff Pannel/Circulars.js","components/Staff Pannel/MarkAttendance.js","components/Staff Pannel/AttendanceReport.js","components/Staff Pannel/Messaging.js","components/Staff Pannel/ReportCard.js","components/Staff Pannel/Settings.js","components/Staff Pannel/LeaveManagement.js","components/Staff Pannel/Timetable.js","components/Staff Pannel/Payroll.js","components/Staff Pannel/AssignClass.js","components/Staff Pannel/StaffViewDocuments.js","components/Staff Pannel/StaffVerifyDocuments.js","pages/StaffPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst ViewFees = () => {\r\n  const [feeStructure, setFeeStructure] = useState(null);\r\n  const [payments, setPayments] = useState([]);\r\n  const [studentInfo, setStudentInfo] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('fees');\r\n  const [paymentType, setPaymentType] = useState('semester');\r\n\r\n  useEffect(() => {\r\n    fetchStudentInfo();\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (studentInfo?.department) {\r\n      fetchFeeStructure(studentInfo.department);\r\n    }\r\n  }, [studentInfo]);\r\n\r\n  const fetchStudentInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/auth/me', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStudentInfo(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching student info:', error);\r\n    }\r\n  };\r\n\r\n  const fetchFeeStructure = async (course) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/fees/${course}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFeeStructure(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee structure:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPayments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/my-payments', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPayments(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching payments:', error);\r\n    }\r\n  };\r\n\r\n  const getStudentFeeStructure = () => {\r\n    return feeStructure;\r\n  };\r\n\r\n  const calculateFeeAmount = (structure, type) => {\r\n    if (!structure) return 0;\r\n    const total = structure.totalFee;\r\n    return type === 'semester' ? total / 2 : total;\r\n  };\r\n\r\n  const initiatePayment = async () => {\r\n    if (!studentInfo || !getStudentFeeStructure()) {\r\n      setMessage('Unable to process payment. Student information or fee structure not found.');\r\n      return;\r\n    }\r\n\r\n    const structure = getStudentFeeStructure();\r\n    const amount = calculateFeeAmount(structure, paymentType);\r\n\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/initiate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          course: studentInfo.department,\r\n          year: studentInfo.year,\r\n          semester: studentInfo.semester,\r\n          paymentType,\r\n          amount\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setMessage('Payment initiated successfully! Please complete the payment process.');\r\n        fetchPayments();\r\n      } else {\r\n        setMessage(data.message || 'Failed to initiate payment');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error initiating payment: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Paid': return '#28a745';\r\n      case 'Pending': return '#ffc107';\r\n      case 'Failed': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  const structure = getStudentFeeStructure();\r\n  const currentFeeAmount = calculateFeeAmount(structure, paymentType);\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>My Fees</h1>\r\n      <p>View your fee structure and payment history.</p>\r\n\r\n      {message && (\r\n        <div style={{\r\n          padding: '10px',\r\n          margin: '10px 0',\r\n          border: '1px solid #ddd',\r\n          borderRadius: '4px',\r\n          backgroundColor: message.includes('Error') || message.includes('Failed') ? '#ffebee' : '#e8f5e8',\r\n          color: message.includes('Error') || message.includes('Failed') ? '#c62828' : '#2e7d32'\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button\r\n          onClick={() => setActiveTab('fees')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            marginRight: '10px',\r\n            backgroundColor: activeTab === 'fees' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Fee Details\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('payments')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            backgroundColor: activeTab === 'payments' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Payment History\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'fees' && (\r\n        <div>\r\n          <h3>Your Course Fee Structure</h3>\r\n          {studentInfo && structure && (\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <h4>Course: {studentInfo.department}</h4>\r\n              <div style={{ overflowX: 'auto', marginBottom: '20px' }}>\r\n                <table style={{ width: '100%', borderCollapse: 'collapse', border: '1px solid #ddd' }}>\r\n                  <thead>\r\n                    <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                      <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Fee Head</th>\r\n                      <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Amount (/Year)</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {Object.entries(structure.feeComponents).map(([key, value]) => {\r\n                      const displayNames = {\r\n                        tuitionFee: 'Tuition Fee',\r\n                        libraryFee: 'Library Fee',\r\n                        laboratoryFee: 'Laboratory Fee',\r\n                        examinationFee: 'Examination Fee',\r\n                        sportsFee: 'Sports Fee',\r\n                        developmentFee: 'Development Fee',\r\n                        miscellaneousFee: 'Miscellaneous'\r\n                      };\r\n                      return (\r\n                        <tr key={key}>\r\n                          <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: key === 'tuitionFee' ? 'bold' : 'normal' }}>\r\n                            {displayNames[key]}\r\n                          </td>\r\n                          <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                            {value === 0 ? '-' : value.toLocaleString()}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                    <tr style={{ backgroundColor: '#e7f3ff' }}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: 'bold' }}>Total</td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                        {structure.totalFee.toLocaleString()}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!structure && studentInfo && (\r\n            <div style={{ marginBottom: '20px', padding: '20px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#f8f9fa' }}>\r\n              <p>No fee structure found for your course: {studentInfo.department}</p>\r\n            </div>\r\n          )}\r\n\r\n          {structure && (\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <div style={{\r\n                border: '2px solid #007bff',\r\n                borderRadius: '8px',\r\n                padding: '20px',\r\n                backgroundColor: '#e7f3ff',\r\n                marginBottom: '20px'\r\n              }}>\r\n                <p style={{ fontSize: '18px', fontWeight: 'bold', color: '#007bff' }}>\r\n                  Total Annual Fee: {structure.totalFee}\r\n                </p>\r\n                <p>Semester Fee: {structure.totalFee / 2}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ marginBottom: '20px' }}>\r\n            <h4>Submit Fee Payment</h4>\r\n            <div style={{ display: 'flex', gap: '15px', alignItems: 'center', marginBottom: '15px' }}>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"semester\"\r\n                  checked={paymentType === 'semester'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Semester ({structure ? structure.totalFee / 2 : 0})\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"year\"\r\n                  checked={paymentType === 'year'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Year ({structure ? structure.totalFee : 0})\r\n              </label>\r\n            </div>\r\n\r\n            <button\r\n              onClick={initiatePayment}\r\n              disabled={loading || !structure}\r\n              style={{\r\n                padding: '12px 24px',\r\n                backgroundColor: '#28a745',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading || !structure ? 'not-allowed' : 'pointer',\r\n                fontSize: '16px'\r\n              }}\r\n            >\r\n              {loading ? 'Processing...' : `Submit Payment ${currentFeeAmount} for ${paymentType === 'semester' ? 'Semester' : 'Year'}`}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'payments' && (\r\n        <div>\r\n          <h3>Payment History</h3>\r\n          <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n            {payments.length > 0 ? (\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Year</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Semester</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Type</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Amount</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Status</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Date</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {payments.map(payment => (\r\n                    <tr key={payment._id}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.year}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.semester}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.paymentType}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.amount}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        <span style={{\r\n                          padding: '3px 8px',\r\n                          borderRadius: '12px',\r\n                          backgroundColor: getStatusColor(payment.status),\r\n                          color: 'white',\r\n                          fontSize: '12px'\r\n                        }}>\r\n                          {payment.status}\r\n                        </span>\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {new Date(payment.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p>No payment records found.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewFees;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UploadPhoto = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        setError('Please select a valid image file (JPEG, PNG, GIF)');\r\n        return;\r\n      }\r\n\r\n      // Validate file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('File size must be less than 5MB');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setError('');\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setPreview(e.target.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select a file first');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setError('');\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('profilePicture', selectedFile);\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:5000/api/staff/profile-picture', formData, config);\r\n\r\n      setMessage('Profile picture uploaded successfully!');\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n      // Optionally refresh the page or update parent component\r\n      setTimeout(() => {\r\n        window.location.reload(); // Simple refresh to show new picture\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Failed to upload profile picture');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n    setError('');\r\n    setMessage('');\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-photo-container\">\r\n      <h1>Upload Profile Photo</h1>\r\n      <p>Upload and crop profile picture for ID card, attendance logs, and dashboard.</p>\r\n\r\n      {error && <div className=\"error-message\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n      {message && <div className=\"success-message\" style={{ color: 'green', marginBottom: '10px' }}>{message}</div>}\r\n\r\n      <div className=\"upload-section\">\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect}\r\n          accept=\"image/*\"\r\n          style={{ marginBottom: '10px' }}\r\n        />\r\n\r\n        {preview && (\r\n          <div className=\"preview-section\" style={{ marginBottom: '20px' }}>\r\n            <h3>Preview:</h3>\r\n            <img\r\n              src={preview}\r\n              alt=\"Profile Preview\"\r\n              style={{\r\n                maxWidth: '200px',\r\n                maxHeight: '200px',\r\n                borderRadius: '50%',\r\n                objectFit: 'cover',\r\n                border: '2px solid #ccc'\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"upload-actions\">\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={!selectedFile || uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              marginRight: '10px',\r\n              backgroundColor: selectedFile && !uploading ? '#007bff' : '#ccc',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: selectedFile && !uploading ? 'pointer' : 'not-allowed'\r\n            }}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload Photo'}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleCancel}\r\n            disabled={uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#6c757d',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: uploading ? 'not-allowed' : 'pointer'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"upload-info\" style={{ marginTop: '20px', fontSize: '14px', color: '#666' }}>\r\n        <p><strong>Supported formats:</strong> JPEG, PNG, GIF</p>\r\n        <p><strong>Maximum file size:</strong> 5MB</p>\r\n        <p><strong>Recommended:</strong> Square images (1:1 aspect ratio) for best results</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPhoto;\r\n","import React, { useEffect } from 'react';\r\n\r\nconst Alert = ({ message, type = 'info', onClose, duration = 5000 }) => {\r\n  useEffect(() => {\r\n    if (duration > 0) {\r\n      const timer = setTimeout(onClose, duration);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [onClose, duration]);\r\n\r\n  const getAlertClass = () => {\r\n    switch (type) {\r\n      case 'success': return 'alert-success';\r\n      case 'error': return 'alert-error';\r\n      case 'warning': return 'alert-warning';\r\n      default: return 'alert-info';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`alert ${getAlertClass()}`}>\r\n      <span>{message}</span>\r\n      <button className=\"alert-close\" onClick={onClose}></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'; // Assuming Axios is installed; for API calls\r\nimport Alert from './Alert';\r\nimport './Alert.css';\r\n\r\nconst Dashboard = () => {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [showAlerts, setShowAlerts] = useState(false);\r\n  const [assignedClasses, setAssignedClasses] = useState(0);\r\n  const [todayTimetable, setTodayTimetable] = useState([]);\r\n  const [pendingAssignments, setPendingAssignments] = useState(0);\r\n  const [unreadMessages, setUnreadMessages] = useState(0);\r\n  const [attendanceSummary, setAttendanceSummary] = useState({ present: 0, total: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAlerts();\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token'); // Assuming JWT token stored\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        // Fetch assigned classes count\r\n        const classesRes = await axios.get('/api/staff/assigned-classes', config);\r\n        setAssignedClasses(classesRes.data.length || 0);\r\n\r\n        // Fetch today's timetable (assume today is Monday for demo; use Date in prod)\r\n        const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });\r\n        const timetableRes = await axios.get(`/api/staff/timetable?day=${today}`, config);\r\n        setTodayTimetable(timetableRes.data);\r\n\r\n        // Fetch pending assignments count (due today or soon)\r\n        const assignmentsRes = await axios.get('/api/staff/work/assignments', config);\r\n        const pending = assignmentsRes.data.filter(a => new Date(a.dueDate) < new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)).length; // Within 7 days\r\n        setPendingAssignments(pending);\r\n\r\n        // Fetch unread messages count\r\n        const messagesRes = await axios.get('/api/staff/messages/inbox', config);\r\n        const unread = messagesRes.data.filter(m => !m.isRead).length;\r\n        setUnreadMessages(unread);\r\n\r\n        // Fetch monthly attendance summary (current month)\r\n        const month = new Date().toISOString().slice(0, 7); // YYYY-MM\r\n        const attendanceRes = await axios.get(`/api/staff/attendance/monthly?month=${month}`, config);\r\n        if (attendanceRes.data.summary && attendanceRes.data.summary.length > 0) {\r\n          const totalPresent = attendanceRes.data.summary.reduce((sum, s) => sum + s.present, 0);\r\n          const totalDays = attendanceRes.data.summary[0].total; // Assuming uniform\r\n          setAttendanceSummary({ present: totalPresent, total: totalDays * attendanceRes.data.summary.length });\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchAlerts = async () => {\r\n    // Mock data for demonstration\r\n    const mockAlerts = [\r\n      { _id: '1', message: 'Staff meeting scheduled for tomorrow', type: 'info' },\r\n      { _id: '2', message: 'New student enrollment deadline approaching', type: 'warning' }\r\n    ];\r\n    setAlerts(mockAlerts);\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get('/api/alerts', config);\r\n    //   setAlerts(res.data);\r\n    // } catch (error) {\r\n    //   console.error('Error fetching alerts:', error);\r\n    // }\r\n  };\r\n\r\n  const dismissAlert = (alertId) => {\r\n    setAlerts(alerts.filter(alert => alert._id !== alertId));\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading dashboard...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Staff Dashboard</h1>\r\n        <div className=\"alert-icon\" onClick={() => setShowAlerts(!showAlerts)}>\r\n          \r\n          {alerts.length > 0 && <span className=\"alert-count\">{alerts.length}</span>}\r\n        </div>\r\n      </div>\r\n\r\n      {showAlerts && (\r\n        <div className=\"alerts-panel\">\r\n          {alerts.length === 0 ? (\r\n            <p>No new alerts.</p>\r\n          ) : (\r\n            alerts.map(alert => (\r\n              <Alert\r\n                key={alert._id}\r\n                message={alert.message}\r\n                type={alert.type}\r\n                onClose={() => dismissAlert(alert._id)}\r\n                duration={5000}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h3>Assigned Classes</h3>\r\n          <p>{assignedClasses}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Today's Timetable</h3>\r\n          <ul>\r\n            {todayTimetable.map((slot, idx) => (\r\n              <li key={idx}>{slot.period}: {slot.class} - {slot.subject} ({slot.time})</li>\r\n            ))}\r\n            {todayTimetable.length === 0 && <li>No classes today</li>}\r\n          </ul>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Pending Assignments</h3>\r\n          <p>{pendingAssignments}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Unread Messages</h3>\r\n          <p>{unreadMessages}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Attendance Summary (This Month)</h3>\r\n          <p>Present: {attendanceSummary.present} / Total: {attendanceSummary.total}</p>\r\n          <p>Percentage: {attendanceSummary.total > 0 ? Math.round((attendanceSummary.present / attendanceSummary.total) * 100) : 0}%</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"recent-notices\">\r\n        <h3>Recent Notices</h3>\r\n        {/* Placeholder; fetch from /api/circulars in full impl */}\r\n        <p>No recent notices available.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Profile = () => {\r\n  const [profile, setProfile] = useState({\r\n    _id: '',\r\n    name: '',\r\n    designation: '',\r\n    department: '',\r\n    qualifications: '',\r\n    joiningDate: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    profilePicture: null\r\n  });\r\n\r\n  // Helper function to format date for input\r\n  const formatDateForInput = (date) => {\r\n    if (!date) return '';\r\n    const d = new Date(date);\r\n    return d.toISOString().split('T')[0];\r\n  };\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('http://localhost:5000/api/staff/profile', config);\r\n      console.log('Profile data received:', res.data);\r\n      console.log('Profile picture field:', res.data.profilePicture);\r\n      setProfile(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      setError('Failed to fetch profile');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setProfile({ ...profile, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError('');\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put('http://localhost:5000/api/staff/profile', profile, config);\r\n      setEditing(false);\r\n      // Refetch profile to ensure we have latest data\r\n      await fetchProfile();\r\n    } catch (error) {\r\n      setError('Failed to update profile');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading profile...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-profile\">\r\n      <h1>Staff Profile</h1>\r\n      {error && <div className=\"error\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n\r\n      {/* Profile Picture Display */}\r\n      <div className=\"profile-picture-section\" style={{ marginBottom: '20px', textAlign: 'center' }}>\r\n        {profile.profilePicture ? (\r\n          <img\r\n            src={`http://localhost:5000/uploads/profile-pictures/${profile.profilePicture}`}\r\n            alt=\"Profile\"\r\n            style={{\r\n              width: '150px',\r\n              height: '150px',\r\n              borderRadius: '50%',\r\n              objectFit: 'cover',\r\n              border: '3px solid #007bff'\r\n            }}\r\n            onError={(e) => {\r\n              console.error('Image failed to load:', e.target.src);\r\n              // Hide broken image and show fallback\r\n              e.target.style.display = 'none';\r\n              e.target.nextSibling.style.display = 'flex';\r\n            }}\r\n          />\r\n        ) : null}\r\n        <div\r\n          style={{\r\n            width: '150px',\r\n            height: '150px',\r\n            borderRadius: '50%',\r\n            backgroundColor: '#f0f0f0',\r\n            display: profile.profilePicture ? 'none' : 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            border: '3px solid #ccc',\r\n            margin: '0 auto'\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '48px', color: '#666' }}></span>\r\n        </div>\r\n        <div style={{ marginTop: '10px' }}>\r\n          <a href=\"/staff/upload-photo\" style={{ color: '#007bff', textDecoration: 'none' }}>\r\n            {profile.profilePicture ? 'Change Photo' : 'Upload Photo'}\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Staff ID:</label>\r\n          <input type=\"text\" name=\"staffId\" value={profile.staffId || profile._id} disabled />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Name:</label>\r\n          <input type=\"text\" name=\"name\" value={profile.name} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Designation:</label>\r\n          <input type=\"text\" name=\"designation\" value={profile.designation} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Department:</label>\r\n          <input type=\"text\" name=\"department\" value={profile.department} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Qualifications:</label>\r\n          <textarea name=\"qualifications\" value={profile.qualifications} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Joining Date:</label>\r\n          <input type=\"date\" name=\"joiningDate\" value={formatDateForInput(profile.joiningDate)} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Email:</label>\r\n          <input type=\"email\" name=\"email\" value={profile.email} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Phone:</label>\r\n          <input type=\"tel\" name=\"phone\" value={profile.phone} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Address:</label>\r\n          <textarea name=\"address\" value={profile.address} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <button type=\"button\" onClick={() => setEditing(!editing)}>\r\n          {editing ? 'Cancel' : 'Edit Profile'}\r\n        </button>\r\n        {editing && <button type=\"submit\">Save Changes</button>}\r\n      </form>\r\n      <div className=\"profile-actions\">\r\n        <a href=\"/staff/upload-photo\">Upload Photo</a>\r\n        {/* Link to contact info update if separate */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CreateAssignment = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    class: '',\r\n    subject: '',\r\n    title: '',\r\n    description: '',\r\n    dueDate: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const fetchClasses = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assigned-classes', config);\r\n      setClasses(res.data.map(c => c.class));\r\n    } catch (error) {\r\n      console.error('Error fetching classes:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/work/assign', formData, config);\r\n      setMessage('Assignment created successfully');\r\n      setFormData({ class: '', subject: '', title: '', description: '', dueDate: '' });\r\n    } catch (error) {\r\n      setMessage('Failed to create assignment');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-assignment\">\r\n      <h1>Create Assignment</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Class:</label>\r\n          <select name=\"class\" value={formData.class} onChange={handleChange} required>\r\n            <option value=\"\">Select Class</option>\r\n            {classes.map(cls => <option key={cls} value={cls}>{cls}</option>)}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Subject:</label>\r\n          <select name=\"subject\" value={formData.subject} onChange={handleChange} required>\r\n            <option value=\"\">Select Subject</option>\r\n            {/* Placeholder subjects; fetch dynamically if needed */}\r\n            <option value=\"Math\">Math</option>\r\n            <option value=\"Science\">Science</option>\r\n            <option value=\"English\">English</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Title:</label>\r\n          <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description:</label>\r\n          <textarea name=\"description\" value={formData.description} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Due Date:</label>\r\n          <input type=\"date\" name=\"dueDate\" value={formData.dueDate} onChange={handleChange} required />\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>Create Assignment</button>\r\n      </form>\r\n      {message && <div className=\"message\">{message}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAssignment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewAssignments = () => {\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\r\n  const [submissions, setSubmissions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assignments', config);\r\n      setAssignments(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSubmissions = async (assignmentId) => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/assignments/${assignmentId}/submissions`, config);\r\n      setSubmissions(res.data);\r\n      setSelectedAssignment(assignmentId);\r\n    } catch (error) {\r\n      console.error('Error fetching submissions:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const updateGrade = async (submissionId, grade) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put(`/api/staff/submissions/${submissionId}/grade`, { grade }, config);\r\n      fetchSubmissions(selectedAssignment); // Refresh\r\n    } catch (error) {\r\n      console.error('Error updating grade:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"view-assignments\">\r\n      <h1>View Assignments</h1>\r\n      <div className=\"assignments-list\">\r\n        <h2>Your Assignments</h2>\r\n        {assignments.map(assignment => (\r\n          <div key={assignment._id} className=\"assignment-item\">\r\n            <h3>{assignment.title} - {assignment.class} ({assignment.subject})</h3>\r\n            <p>Due: {new Date(assignment.dueDate).toLocaleDateString()}</p>\r\n            <button onClick={() => fetchSubmissions(assignment._id)}>View Submissions</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {selectedAssignment && (\r\n        <div className=\"submissions\">\r\n          <h2>Submissions</h2>\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Student</th>\r\n                  <th>Status</th>\r\n                  <th>Submitted At</th>\r\n                  <th>Grade</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {submissions.map(sub => (\r\n                  <tr key={sub._id}>\r\n                    <td>{sub.studentName}</td>\r\n                    <td>{sub.status}</td>\r\n                    <td>{sub.submittedAt ? new Date(sub.submittedAt).toLocaleDateString() : 'N/A'}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={sub.grade}\r\n                        onChange={(e) => updateGrade(sub._id, e.target.value)}\r\n                        placeholder=\"Enter grade\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewAssignments;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Circulars = () => {\r\n  const [circulars, setCirculars] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCirculars();\r\n  }, []);\r\n\r\n  const fetchCirculars = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/circulars', config);\r\n      setCirculars(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching circulars:', error);\r\n    }\r\n  };\r\n\r\n  const downloadCircular = (url, title) => {\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = title;\r\n    a.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"circulars\">\r\n      <h1>Circulars / Notices</h1>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <ul>\r\n          {circulars.map(circular => (\r\n            <li key={circular._id}>\r\n              <h3>{circular.title}</h3>\r\n              <p>{circular.description}</p>\r\n              <p><small>{new Date(circular.date).toLocaleDateString()}</small></p>\r\n              {circular.fileUrl && (\r\n                <button onClick={() => downloadCircular(circular.fileUrl, circular.title)}>Download</button>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Circulars;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MarkAttendance.css';\r\n\r\nconst MarkAttendance = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    subject: '',\r\n    date: new Date().toISOString().split('T')[0], // Default to today\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [markAllPresent, setMarkAllPresent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch subjects when semester changes\r\n  useEffect(() => {\r\n    if (filters.semester) {\r\n      fetchSubjects(filters.course, filters.semester);\r\n    } else {\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester]);\r\n\r\n  // Fetch students when subject changes\r\n  useEffect(() => {\r\n    if (filters.subject) {\r\n      fetchStudents(filters.course, filters.semester, filters.subject);\r\n    } else {\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester, filters.subject]);\r\n\r\n  // Update attendance when students change or markAllPresent toggles\r\n  useEffect(() => {\r\n    if (students.length > 0) {\r\n      const initialAttendance = {};\r\n      students.forEach(student => {\r\n        initialAttendance[student.rollNo] = {\r\n          status: markAllPresent ? 'Present' : 'Absent',\r\n          remarks: '',\r\n        };\r\n      });\r\n      setAttendance(initialAttendance);\r\n    }\r\n  }, [students, markAllPresent]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      console.log('Fetching courses...');\r\n      const response = await axios.get('/api/courses');\r\n      console.log('Courses response:', response.data);\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching courses:', err);\r\n      // Mock data for demonstration\r\n      setCourses([\r\n        { id: 1, name: 'BA' },\r\n        { id: 2, name: 'BSc' },\r\n        { id: 3, name: 'B.Ed' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      console.log('Fetching semesters for course:', course);\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      console.log('Semesters response:', response.data);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching semesters:', err);\r\n      // Mock data for demonstration\r\n      setSemesters([\r\n        { id: 1, name: 'Semester 1' },\r\n        { id: 2, name: 'Semester 2' },\r\n        { id: 3, name: 'Semester 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSubjects = async (course, semester) => {\r\n    try {\r\n      console.log('Fetching subjects for course:', course, 'semester:', semester);\r\n      const response = await axios.get(`/api/subjects?course=${course}&semester=${semester}`);\r\n      console.log('Subjects response:', response.data);\r\n      setSubjects(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching subjects:', err);\r\n      // Mock data for demonstration\r\n      setSubjects([\r\n        { id: 1, name: 'Subject 1' },\r\n        { id: 2, name: 'Subject 2' },\r\n        { id: 3, name: 'Subject 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (course, semester, subject) => {\r\n    try {\r\n      console.log('Fetching students for course:', course, 'semester:', semester, 'subject:', subject);\r\n      const response = await axios.get(`/api/students?course=${course}&semester=${semester}&subject=${subject}`);\r\n      console.log('Students response:', response.data);\r\n      setStudents(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching students:', err);\r\n      // Mock data for demonstration\r\n      setStudents([\r\n        { rollNo: '101', name: 'Student A' },\r\n        { rollNo: '102', name: 'Student B' },\r\n        { rollNo: '103', name: 'Student C' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAttendanceChange = (rollNo, field, value) => {\r\n    setAttendance(prev => ({\r\n      ...prev,\r\n      [rollNo]: { ...prev[rollNo], [field]: value }\r\n    }));\r\n  };\r\n\r\n  const filteredStudents = students.filter(student =>\r\n    student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.rollNo.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const handleSubmit = async () => {\r\n    if (!filters.course || !filters.semester || !filters.subject || !filters.date) {\r\n      setError('Please select all filters');\r\n      return;\r\n    }\r\n    const markedStudents = Object.keys(attendance).filter(rollNo => attendance[rollNo].status !== 'Absent');\r\n    if (markedStudents.length === 0) {\r\n      setError('Please mark attendance for at least one student');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const payload = {\r\n        course: filters.course,\r\n        semester: filters.semester,\r\n        subject: filters.subject,\r\n        date: filters.date,\r\n        attendance: attendance,\r\n      };\r\n      await axios.post('/api/attendance', payload);\r\n      setSuccess('Attendance marked successfully');\r\n    } catch (err) {\r\n      setError('Failed to save attendance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mark-attendance\">\r\n      <h1>Mark Student Attendance</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {success && <div className=\"success\">{success}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-course-select\">Course</label>\r\n          <select\r\n            id=\"attendance-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-semester-select\">Semester</label>\r\n          <select\r\n            id=\"attendance-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-subject-select\">Subject</label>\r\n          <select\r\n            id=\"attendance-subject-select\"\r\n            name=\"subject\"\r\n            value={filters.subject}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.semester}\r\n          >\r\n            <option value=\"\">Select Subject</option>\r\n            {subjects.map(sub => (\r\n              <option key={sub.id} value={sub.name}>{sub.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-date-select\">Date</label>\r\n          <input\r\n            id=\"attendance-date-select\"\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={filters.date}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Student Attendance Table */}\r\n      {students.length > 0 && (\r\n        <>\r\n          <div className=\"table-controls\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name or roll no\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={markAllPresent}\r\n                onChange={(e) => setMarkAllPresent(e.target.checked)}\r\n              />\r\n              Mark All Present\r\n            </label>\r\n          </div>\r\n          <table className=\"attendance-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Roll No</th>\r\n                <th>Student Name</th>\r\n                <th>Status</th>\r\n                <th>Remarks</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredStudents.map(student => (\r\n                <tr key={student.rollNo}>\r\n                  <td>{student.rollNo}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>\r\n                    <select\r\n                      value={attendance[student.rollNo]?.status || 'Absent'}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'status', e.target.value)}\r\n                    >\r\n                      <option value=\"Present\">Present</option>\r\n                      <option value=\"Absent\">Absent</option>\r\n                      <option value=\"Leave\">Leave</option>\r\n                    </select>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={attendance[student.rollNo]?.remarks || ''}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'remarks', e.target.value)}\r\n                      placeholder=\"Optional remarks\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <button onClick={handleSubmit} disabled={loading}>\r\n            {loading ? 'Submitting...' : 'Submit Attendance'}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarkAttendance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport './AttendanceReport.css';\r\n\r\nconst AttendanceReport = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [summary, setSummary] = useState({\r\n    totalDays: 0,\r\n    present: 0,\r\n    absent: 0,\r\n    leave: 0,\r\n    percentage: 0,\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    dateFrom: '',\r\n    dateTo: '',\r\n    student: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [viewMode, setViewMode] = useState('table'); // table or chart\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch attendance when filters change\r\n  useEffect(() => {\r\n    const fetchAttendance = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const params = new URLSearchParams({\r\n          course: filters.course,\r\n          semester: filters.semester,\r\n          dateFrom: filters.dateFrom,\r\n          dateTo: filters.dateTo,\r\n          student: filters.student,\r\n        });\r\n        const response = await axios.get(`/api/attendance?${params}`);\r\n        setAttendanceData(response.data.records);\r\n        setSummary(response.data.summary);\r\n      } catch (err) {\r\n        setError('Failed to fetch attendance data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (filters.course && filters.semester && filters.dateFrom && filters.dateTo) {\r\n      fetchAttendance();\r\n    } else {\r\n      setAttendanceData([]);\r\n      setSummary({ totalDays: 0, present: 0, absent: 0, leave: 0, percentage: 0 });\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const response = await axios.get('/api/courses');\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch courses');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch semesters');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const exportToPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.text('Attendance Report', 20, 10);\r\n    doc.autoTable({\r\n      head: [['Date', 'Subject', 'Status', 'Remarks']],\r\n      body: attendanceData.map(record => [record.date, record.subject || '', record.status, record.remarks || '']),\r\n    });\r\n    doc.save('attendance-report.pdf');\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const csvContent = 'data:text/csv;charset=utf-8,' +\r\n      'Date,Subject,Status,Remarks\\n' +\r\n      attendanceData.map(record => `${record.date},${record.subject || ''},${record.status},${record.remarks || ''}`).join('\\n');\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement('a');\r\n    link.setAttribute('href', encodedUri);\r\n    link.setAttribute('download', 'attendance-report.csv');\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  const getPercentageColor = (percentage) => {\r\n    if (percentage >= 90) return 'green';\r\n    if (percentage >= 75) return 'orange';\r\n    return 'red';\r\n  };\r\n\r\n  return (\r\n    <div className=\"attendance-report\">\r\n      <h1>View Attendance Summary</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-course-select\">Course</label>\r\n          <select\r\n            id=\"summary-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-semester-select\">Semester</label>\r\n          <select\r\n            id=\"summary-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-from\">Date From</label>\r\n          <input\r\n            id=\"summary-date-from\"\r\n            type=\"date\"\r\n            name=\"dateFrom\"\r\n            value={filters.dateFrom}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-to\">Date To</label>\r\n          <input\r\n            id=\"summary-date-to\"\r\n            type=\"date\"\r\n            name=\"dateTo\"\r\n            value={filters.dateTo}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-student-search\">Student Name/ID</label>\r\n          <input\r\n            id=\"summary-student-search\"\r\n            type=\"text\"\r\n            name=\"student\"\r\n            value={filters.student}\r\n            onChange={handleFilterChange}\r\n            placeholder=\"Optional\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Attendance Summary */}\r\n      {attendanceData.length > 0 && (\r\n        <>\r\n          <div className=\"summary-section\">\r\n            <h2>Attendance Summary</h2>\r\n            <div className=\"summary-stats\">\r\n              <div>Total Working Days: {summary.totalDays}</div>\r\n              <div>Days Present: {summary.present}</div>\r\n              <div>Days Absent: {summary.absent}</div>\r\n              <div>Days on Leave: {summary.leave}</div>\r\n              <div style={{ color: getPercentageColor(summary.percentage) }}>\r\n                Attendance %: {summary.percentage.toFixed(2)}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* View Toggle */}\r\n          <div className=\"view-toggle\">\r\n            <button onClick={() => setViewMode('table')} className={viewMode === 'table' ? 'active' : ''}>Table View</button>\r\n            <button onClick={() => setViewMode('chart')} className={viewMode === 'chart' ? 'active' : ''}>Chart View</button>\r\n          </div>\r\n\r\n          {/* Table View */}\r\n          {viewMode === 'table' && (\r\n            <table className=\"attendance-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Subject</th>\r\n                  <th>Status</th>\r\n                  <th>Remarks</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {attendanceData.map((record, index) => (\r\n                  <tr key={index}>\r\n                    <td>{record.date}</td>\r\n                    <td>{record.subject || ''}</td>\r\n                    <td className={`status-${record.status.toLowerCase()}`}>{record.status}</td>\r\n                    <td>{record.remarks || ''}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n\r\n          {/* Chart View Placeholder */}\r\n          {viewMode === 'chart' && (\r\n            <div className=\"chart-placeholder\">\r\n              <p>Chart view not implemented yet. Placeholder for Chart.js integration.</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Export Buttons */}\r\n          <div className=\"export-buttons\">\r\n            <button onClick={exportToPDF}>Export to PDF</button>\r\n            <button onClick={exportToCSV}>Export to CSV</button>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {loading && <div className=\"loading\">Loading...</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceReport;\r\n","import React, { useState, useEffect } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport Select from 'react-select';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Messaging = () => {\r\n\r\n  const [subject, setSubject] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [selectedSemester, setSelectedSemester] = useState(null);\r\n  const [selectedSection, setSelectedSection] = useState(null);\r\n  const [selectedStudents, setSelectedStudents] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Removed fetchMessages as per spec - staff only send, no view sent messages here\r\n\r\n  const fetchCourses = async () => {\r\n    // Mock data for demonstration\r\n    const mockCourses = [\r\n      { _id: '1', name: 'Computer Science' },\r\n      { _id: '2', name: 'Mechanical Engineering' },\r\n      { _id: '3', name: 'Electrical Engineering' }\r\n    ];\r\n    setCourses(mockCourses.map(course => ({ value: course._id, label: course.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get('/api/courses', config);\r\n    //   setCourses(res.data.map(course => ({ value: course._id, label: course.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching courses:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchSemesters = async (courseId) => {\r\n    // Mock data for demonstration\r\n    const mockSemesters = [\r\n      { _id: '1', name: 'Semester 1' },\r\n      { _id: '2', name: 'Semester 2' },\r\n      { _id: '3', name: 'Semester 3' }\r\n    ];\r\n    setSemesters(mockSemesters.map(sem => ({ value: sem._id, label: sem.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/courses/${courseId}/semesters`, config);\r\n    //   setSemesters(res.data.map(sem => ({ value: sem._id, label: sem.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching semesters:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchSections = async (semesterId) => {\r\n    // Mock data for demonstration\r\n    const mockSections = [\r\n      { _id: '1', name: 'Section A' },\r\n      { _id: '2', name: 'Section B' },\r\n      { _id: '3', name: 'Section C' }\r\n    ];\r\n    setSections(mockSections.map(sec => ({ value: sec._id, label: sec.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/semesters/${semesterId}/sections`, config);\r\n    //   setSections(res.data.map(sec => ({ value: sec._id, label: sec.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching sections:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchStudents = async (sectionId) => {\r\n    // Mock data for demonstration\r\n    const mockStudents = [\r\n      { _id: '1', name: 'John Doe' },\r\n      { _id: '2', name: 'Jane Smith' },\r\n      { _id: '3', name: 'Bob Johnson' },\r\n      { _id: '4', name: 'Alice Brown' }\r\n    ];\r\n    setStudents(mockStudents.map(stu => ({ value: stu._id, label: stu.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/sections/${sectionId}/students`, config);\r\n    //   setStudents(res.data.map(stu => ({ value: stu._id, label: stu.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching students:', error);\r\n    // }\r\n  };\r\n\r\n  const handleCourseChange = (selectedOption) => {\r\n    setSelectedCourse(selectedOption);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSemesters(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSemesterChange = (selectedOption) => {\r\n    setSelectedSemester(selectedOption);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSections(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSectionChange = (selectedOption) => {\r\n    setSelectedSection(selectedOption);\r\n    setSelectedStudents([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchStudents(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleStudentChange = (selectedOptions) => {\r\n    setSelectedStudents(selectedOptions);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setSubject('');\r\n    setBody('');\r\n    setSelectedCourse(null);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!subject.trim() || !body.trim() || selectedStudents.length === 0) {\r\n      toast.error('Please fill all required fields and select at least one student.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    // Mock send message for demonstration\r\n    setTimeout(() => {\r\n      toast.success('Message sent successfully! (Mock)');\r\n      resetForm();\r\n      setLoading(false);\r\n    }, 1000);\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const recipientIds = selectedStudents.map(stu => stu.value);\r\n    //   await axios.post('/api/message', {\r\n    //     sender_id: 'current_user_id', // Assuming current user ID is available\r\n    //     recipient_ids: recipientIds,\r\n    //     subject,\r\n    //     body,\r\n    //     timestamp: new Date().toISOString(),\r\n    //     status: 'sent'\r\n    //   }, config);\r\n    //   toast.success('Message sent successfully!');\r\n    //   resetForm();\r\n    // } catch (error) {\r\n    //   console.error('Error sending message:', error);\r\n    //   toast.error('Failed to send message.');\r\n    // }\r\n    // setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"messaging\">\r\n      <h1>Messaging</h1>\r\n      <div className=\"send-message\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Subject (max 100 chars)\"\r\n          value={subject}\r\n          onChange={(e) => setSubject(e.target.value.slice(0, 100))}\r\n          maxLength=\"100\"\r\n          required\r\n        />\r\n        <ReactQuill\r\n          value={body}\r\n          onChange={setBody}\r\n          placeholder=\"Message Body (max 5000 chars)\"\r\n          modules={{\r\n            toolbar: [\r\n              [{ 'header': [1, 2, false] }],\r\n              ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n              [{'list': 'ordered'}, {'list': 'bullet'}, {'indent': '-1'}, {'indent': '+1'}],\r\n              ['link', 'image'],\r\n              ['clean']\r\n            ],\r\n          }}\r\n          formats={[\r\n            'header', 'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n            'list', 'bullet', 'indent', 'link', 'image'\r\n          ]}\r\n        />\r\n        <div className=\"filters\">\r\n          <Select\r\n            value={selectedCourse}\r\n            onChange={handleCourseChange}\r\n            options={courses}\r\n            placeholder=\"Select Course\"\r\n            isClearable\r\n          />\r\n          <Select\r\n            value={selectedSemester}\r\n            onChange={handleSemesterChange}\r\n            options={semesters}\r\n            placeholder=\"Select Semester\"\r\n            isClearable\r\n            isDisabled={!selectedCourse}\r\n          />\r\n          <Select\r\n            value={selectedSection}\r\n            onChange={handleSectionChange}\r\n            options={sections}\r\n            placeholder=\"Select Section\"\r\n            isClearable\r\n            isDisabled={!selectedSemester}\r\n          />\r\n          <Select\r\n            value={selectedStudents}\r\n            onChange={handleStudentChange}\r\n            options={students}\r\n            placeholder=\"Select Students\"\r\n            isMulti\r\n            isDisabled={!selectedSection}\r\n          />\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button onClick={sendMessage} disabled={loading || !subject.trim() || !body.trim() || selectedStudents.length === 0}>\r\n            {loading ? 'Sending...' : 'Send'}\r\n          </button>\r\n          <button onClick={resetForm} disabled={loading}>Reset</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messaging;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ReportCard = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState('');\r\n  const [reportCard, setReportCard] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/students', config); // Assume endpoint for assigned students\r\n      setStudents(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n    }\r\n  };\r\n\r\n  const generateReportCard = async () => {\r\n    if (!selectedStudent) return;\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/report-card/${selectedStudent}`, config);\r\n      setReportCard(res.data);\r\n    } catch (error) {\r\n      console.error('Error generating report card:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"report-card\">\r\n      <h1>Report Card</h1>\r\n      <div className=\"select-student\">\r\n        <select value={selectedStudent} onChange={(e) => setSelectedStudent(e.target.value)}>\r\n          <option value=\"\">Select Student</option>\r\n          {students.map(student => (\r\n            <option key={student._id} value={student._id}>{student.name} - {student.class}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={generateReportCard} disabled={loading || !selectedStudent}>Generate Report</button>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : reportCard ? (\r\n        <div className=\"report-details\">\r\n          <h2>Report for {reportCard.studentName}</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Subject</th>\r\n                <th>Grade</th>\r\n                <th>Attendance %</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reportCard.subjects.map(subject => (\r\n                <tr key={subject.subject}>\r\n                  <td>{subject.subject}</td>\r\n                  <td>{subject.grade}</td>\r\n                  <td>{subject.attendancePercentage}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <p><strong>Overall Grade:</strong> {reportCard.overallGrade}</p>\r\n          <p><strong>Overall Attendance:</strong> {reportCard.overallAttendance}%</p>\r\n        </div>\r\n      ) : (\r\n        <p>Select a student to generate report card.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportCard;\r\n","import React, { useState } from 'react';\r\n\r\nconst Settings = () => {\r\n  const [preferences, setPreferences] = useState({\r\n    language: 'English',\r\n    notifications: true,\r\n    theme: 'light'\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const savePreferences = () => {\r\n    // Save to localStorage or API\r\n    localStorage.setItem('preferences', JSON.stringify(preferences));\r\n    alert('Preferences saved!');\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <h1>Settings</h1>\r\n      <div className=\"preferences\">\r\n        <h2>Preferences</h2>\r\n        <label>\r\n          Language:\r\n          <select name=\"language\" value={preferences.language} onChange={handleChange}>\r\n            <option value=\"English\">English</option>\r\n            <option value=\"Hindi\">Hindi</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Notifications:\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"notifications\"\r\n            checked={preferences.notifications}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          Theme:\r\n          <select name=\"theme\" value={preferences.theme} onChange={handleChange}>\r\n            <option value=\"light\">Light</option>\r\n            <option value=\"dark\">Dark</option>\r\n          </select>\r\n        </label>\r\n        <button onClick={savePreferences}>Save Preferences</button>\r\n      </div>\r\n      <div className=\"logout\">\r\n        <button onClick={logout}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LeaveManagement = () => {\r\n  const [leaves, setLeaves] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    type: 'sick',\r\n    startDate: '',\r\n    endDate: '',\r\n    reason: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchLeaves();\r\n  }, []);\r\n\r\n  const fetchLeaves = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/leaves', config);\r\n      setLeaves(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching leaves:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const start = new Date(formData.startDate);\r\n      const end = new Date(formData.endDate);\r\n      const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n      await axios.post('/api/staff/leave/apply', {\r\n        ...formData,\r\n        days\r\n      }, config);\r\n      setMessage('Leave applied successfully');\r\n      setFormData({ type: 'sick', startDate: '', endDate: '', reason: '' });\r\n      fetchLeaves(); // Refresh list\r\n    } catch (error) {\r\n      setMessage('Failed to apply leave');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"leave-management\">\r\n      <h1>Leave Management</h1>\r\n      <div className=\"apply-leave\">\r\n        <h2>Apply for Leave</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Type:</label>\r\n            <select name=\"type\" value={formData.type} onChange={handleChange} required>\r\n              <option value=\"sick\">Sick</option>\r\n              <option value=\"casual\">Casual</option>\r\n              <option value=\"earned\">Earned</option>\r\n              <option value=\"maternity\">Maternity</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Start Date:</label>\r\n            <input type=\"date\" name=\"startDate\" value={formData.startDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>End Date:</label>\r\n            <input type=\"date\" name=\"endDate\" value={formData.endDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Reason:</label>\r\n            <textarea name=\"reason\" value={formData.reason} onChange={handleChange} required />\r\n          </div>\r\n          <button type=\"submit\" disabled={loading}>Apply Leave</button>\r\n        </form>\r\n        {message && <div className=\"message\">{message}</div>}\r\n      </div>\r\n      <div className=\"leave-history\">\r\n        <h2>Leave History</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Type</th>\r\n              <th>Start Date</th>\r\n              <th>End Date</th>\r\n              <th>Days</th>\r\n              <th>Status</th>\r\n              <th>Reason</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {leaves.map(leave => (\r\n              <tr key={leave._id}>\r\n                <td>{leave.type}</td>\r\n                <td>{new Date(leave.startDate).toLocaleDateString()}</td>\r\n                <td>{new Date(leave.endDate).toLocaleDateString()}</td>\r\n                <td>{leave.days}</td>\r\n                <td>{leave.status}</td>\r\n                <td>{leave.reason}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveManagement;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Timetable = () => {\r\n  const [timetable, setTimetable] = useState([]);\r\n  const [selectedDay, setSelectedDay] = useState('Monday');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTimetable();\r\n  }, [selectedDay]);\r\n\r\n  const fetchTimetable = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/timetable?day=${selectedDay}`, config);\r\n      setTimetable(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching timetable:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  if (loading) {\r\n    return <div>Loading timetable...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"timetable\">\r\n      <h1>Timetable</h1>\r\n      <div className=\"day-selector\">\r\n        <label>Select Day:</label>\r\n        <select value={selectedDay} onChange={(e) => setSelectedDay(e.target.value)}>\r\n          {days.map(day => <option key={day} value={day}>{day}</option>)}\r\n        </select>\r\n      </div>\r\n      <div className=\"timetable-view\">\r\n        <h2>{selectedDay}'s Schedule</h2>\r\n        {timetable.length > 0 ? (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Period</th>\r\n                <th>Class</th>\r\n                <th>Subject</th>\r\n                <th>Time</th>\r\n                <th>Room</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {timetable.map(slot => (\r\n                <tr key={slot._id}>\r\n                  <td>{slot.period}</td>\r\n                  <td>{slot.class}</td>\r\n                  <td>{slot.subject}</td>\r\n                  <td>{slot.time}</td>\r\n                  <td>{slot.room || 'N/A'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No classes scheduled for {selectedDay}.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timetable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Payroll = () => {\r\n  const [payrolls, setPayrolls] = useState([]);\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7));\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPayrolls();\r\n  }, [selectedMonth]);\r\n\r\n  const fetchPayrolls = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/payroll?month=${selectedMonth}`, config);\r\n      setPayrolls(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching payroll:', error);\r\n    }\r\n  };\r\n\r\n  const generatePayslip = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/payroll/generate', { month: selectedMonth }, config);\r\n      setMessage('Payslip generated successfully');\r\n      fetchPayrolls(); // Refresh\r\n    } catch (error) {\r\n      setMessage('Failed to generate payslip');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"payroll\">\r\n      <h1>Payroll</h1>\r\n      <div className=\"month-selector\">\r\n        <label>Select Month:</label>\r\n        <input type=\"month\" value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} />\r\n        <button onClick={generatePayslip} disabled={loading}>Generate Payslip</button>\r\n      </div>\r\n      {message && <div className=\"message\">{message}</div>}\r\n      <div className=\"payroll-details\">\r\n        {payrolls.length > 0 ? (\r\n          payrolls.map(payroll => (\r\n            <div key={payroll._id} className=\"payslip\">\r\n              <h3>Payslip for {payroll.month}</h3>\r\n              <p><strong>Base Salary:</strong> {payroll.baseSalary}</p>\r\n              <p><strong>Allowances:</strong></p>\r\n              <ul>\r\n                {payroll.allowances.map((allow, idx) => (\r\n                  <li key={idx}>{allow.type}: {allow.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Deductions:</strong></p>\r\n              <ul>\r\n                {payroll.deductions.map((deduct, idx) => (\r\n                  <li key={idx}>{deduct.type}: {deduct.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Net Salary:</strong> {payroll.netSalary}</p>\r\n              <p><strong>Status:</strong> {payroll.status}</p>\r\n              {payroll.payslipUrl && <a href={payroll.payslipUrl} target=\"_blank\" rel=\"noopener noreferrer\">Download Payslip</a>}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No payroll data for selected month.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payroll;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './AssignClass.css';\r\n\r\n// Static JSON data for classes and subjects\r\nconst staticClasses = [\r\n  {\r\n    class_id: \"C101\",\r\n    class_name: \"Physics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C102\",\r\n    class_name: \"Chemistry 101\",\r\n    section: \"B\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C103\",\r\n    class_name: \"Mathematics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  }\r\n];\r\n\r\nconst staticSubjects = {\r\n  \"C101\": [\r\n    {\r\n      subject_id: \"S101\",\r\n      subject_name: \"Mechanics\",\r\n      subject_code: \"PHY101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S102\",\r\n      subject_name: \"Physics Lab\",\r\n      subject_code: \"PHY101L\",\r\n      subject_type: \"Lab\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C102\": [\r\n    {\r\n      subject_id: \"S201\",\r\n      subject_name: \"Organic Chemistry\",\r\n      subject_code: \"CHEM101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C103\": [\r\n    {\r\n      subject_id: \"S301\",\r\n      subject_name: \"Calculus\",\r\n      subject_code: \"MATH101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S302\",\r\n      subject_name: \"Linear Algebra\",\r\n      subject_code: \"MATH102\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ]\r\n};\r\n\r\nconst AssignClass = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState(null);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [showPanel, setShowPanel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load static classes on component mount\r\n    setClasses(staticClasses);\r\n  }, []);\r\n\r\n  const handleClassClick = (classItem) => {\r\n    setSelectedClass(classItem);\r\n    setSubjects(staticSubjects[classItem.class_id] || []);\r\n    setShowPanel(true);\r\n  };\r\n\r\n  const handleClosePanel = () => {\r\n    setSelectedClass(null);\r\n    setSubjects([]);\r\n    setShowPanel(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"assign-class\">\r\n      <h1>Assigned Classes</h1>\r\n      <table className=\"classes-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Class Name</th>\r\n            <th>Section</th>\r\n            <th>Academic Year</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {classes.length > 0 ? (\r\n            classes.map(cls => (\r\n              <tr key={cls.class_id} onClick={() => handleClassClick(cls)} tabIndex=\"0\" onKeyDown={(e) => e.key === 'Enter' && handleClassClick(cls)}>\r\n                <td>{cls.class_name}</td>\r\n                <td>{cls.section}</td>\r\n                <td>{cls.academic_year}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr className=\"empty-state\">\r\n              <td colSpan=\"3\">No classes assigned yet</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {showPanel && selectedClass && (\r\n        <div className=\"subject-panel\">\r\n          <h2>Subjects for {selectedClass.class_name} - Section {selectedClass.section}</h2>\r\n          <table className=\"subjects-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Subject Name</th>\r\n                <th>Code</th>\r\n                <th>Type</th>\r\n                <th>Semester</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {subjects.length > 0 ? (\r\n                subjects.map(sub => (\r\n                  <tr key={sub.subject_id} className={sub.subject_type === 'Theory' ? 'theory-row' : 'lab-row'}>\r\n                    <td>{sub.subject_name}</td>\r\n                    <td>{sub.subject_code}</td>\r\n                    <td>{sub.subject_type}</td>\r\n                    <td>{sub.semester}</td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr className=\"empty-state\">\r\n                  <td colSpan=\"4\">No subjects mapped to this class</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          <button className=\"close-btn\" onClick={handleClosePanel}>Close</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignClass;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/ViewDocuments.css';\r\n\r\nconst StaffViewDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [staffCourse, setStaffCourse] = useState(''); // Will be set from API response\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDocuments(data.students);\r\n        // Set course from first student if available\r\n        if (data.students.length > 0) {\r\n          setStaffCourse(data.students[0].course);\r\n        }\r\n      } else {\r\n        alert('Failed to fetch documents');\r\n      }\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n      alert('Failed to fetch documents');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, documentType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(documentType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = documentType;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        alert('Download failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Download error:', error);\r\n      alert('Download failed');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading documents...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"view-documents\">\r\n      <h2>View Student Documents ({staffCourse})</h2>\r\n      {documents.map(student => (\r\n        <div key={student.studentId} className=\"student-documents\">\r\n          <h3>{student.studentName} (ID: {student.studentId}) - Course: {student.course}</h3>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Document Type</th>\r\n                <th>Status</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {student.documents.map((doc, index) => (\r\n                <tr key={index}>\r\n                  <td>{doc.type}</td>\r\n                  <td>{doc.status}</td>\r\n                  <td>\r\n                    {doc.fileName ? (\r\n                      <button onClick={() => handleDownload(student.studentId, doc.type)}>Download</button>\r\n                    ) : (\r\n                      <span>Not Uploaded</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffViewDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst StaffVerifyDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('No authentication token found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setDocuments(data.students || []);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerify = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Verified'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Verified' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error verifying document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleReject = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Rejected'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Rejected' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error rejecting document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(docType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${docType.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`; // Default to PDF, adjust as needed\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (err) {\r\n      alert(`Error downloading document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"verify-documents\"><p>Loading documents...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"verify-documents\"><p>Error: {error}</p></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"verify-documents\">\r\n      <h2>Verify Student Documents</h2>\r\n      {documents.length === 0 ? (\r\n        <p>No documents pending verification.</p>\r\n      ) : (\r\n        documents.map(student => (\r\n          <div key={student.studentId} className=\"student-documents\">\r\n            <h3>{student.studentName} (ID: {student.studentId})</h3>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Document Type</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {student.documents.map((doc, index) => (\r\n                  <tr key={index}>\r\n                    <td>{doc.type}</td>\r\n                    <td>{doc.status}</td>\r\n                    <td>\r\n                      {doc.fileName && <button onClick={() => handleDownload(student.studentId, doc.type)}>View</button>}\r\n                      {doc.status === 'Pending' && (\r\n                        <>\r\n                          <button onClick={() => handleVerify(student.studentId, doc.type)}>Verify</button>\r\n                          <button onClick={() => handleReject(student.studentId, doc.type)}>Reject</button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffVerifyDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaDotCircle, FaFolder } from 'react-icons/fa';\r\nimport StaffSidebar from '../components/Staff Pannel/StaffSidebar';\r\nimport Dashboard from '../components/Staff Pannel/Dashboard';\r\nimport Profile from '../components/Staff Pannel/Profile';\r\nimport UploadPhoto from '../components/Staff Pannel/UploadPhoto';\r\nimport CreateAssignment from '../components/Staff Pannel/CreateAssignment';\r\nimport ViewAssignments from '../components/Staff Pannel/ViewAssignments';\r\nimport Circulars from '../components/Staff Pannel/Circulars';\r\nimport MarkAttendance from '../components/Staff Pannel/MarkAttendance';\r\nimport AttendanceReport from '../components/Staff Pannel/AttendanceReport';\r\nimport Messaging from '../components/Staff Pannel/Messaging';\r\nimport ReportCard from '../components/Staff Pannel/ReportCard';\r\nimport Settings from '../components/Staff Pannel/Settings';\r\nimport LeaveManagement from '../components/Staff Pannel/LeaveManagement';\r\nimport Timetable from '../components/Staff Pannel/Timetable';\r\nimport Payroll from '../components/Staff Pannel/Payroll';\r\nimport AssignClass from '../components/Staff Pannel/AssignClass';\r\nimport StaffViewDocuments from '../components/Staff Pannel/StaffViewDocuments';\r\nimport StaffVerifyDocuments from '../components/Staff Pannel/StaffVerifyDocuments';\r\nimport ViewFees from '../components/Student Pannel/ViewFees';\r\nimport CollectFees from '../components/Admin Pannel/CollectFees';\r\nimport FeeCollectionSummary from '../components/Admin Pannel/FeeCollectionSummary';\r\nimport FeeStatusOverview from '../components/Admin Pannel/FeeStatusOverview';\r\nimport '../styles/StaffPanel.css';\r\n\r\nconst StaffPanel = () => {\r\n  const [activeMenu, setActiveMenu] = useState('Dashboard');\r\n  const [openMenu, setOpenMenu] = useState(null);\r\n  const [userDesignation, setUserDesignation] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchUserDesignation = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]));\r\n          setUserDesignation(payload.designation || '');\r\n        } catch (error) {\r\n          console.error('Error parsing token:', error);\r\n          // Fallback to API call if token parsing fails\r\n          try {\r\n            const { auth } = await import('../services/adminApi');\r\n            const response = await auth.getCurrentUser();\r\n            if (response.success) {\r\n              setUserDesignation(response.data.designation || '');\r\n            }\r\n          } catch (apiError) {\r\n            console.error('Error fetching user info:', apiError);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    fetchUserDesignation();\r\n  }, []);\r\n\r\n  const baseMenus = [\r\n    { name: 'Dashboard', sub: [] },\r\n    { name: 'Profile Management', sub: ['Profile', 'Upload Photo', 'Contact Info'] },\r\n    { name: 'Class Assignment Management', sub: ['Assign Class/Subject', 'View Assignments'] },\r\n    { name: 'Attendance Management', sub: ['Attendance Entry', 'Attendance View', 'Daily/Monthly Reports'] },\r\n    { name: 'Leave Management', sub: ['Apply for Leave', 'View Leave History'] },\r\n    { name: 'Messaging', sub: ['Send/Receive Messages', 'Alerts'] },\r\n    { name: 'Timetable', sub: [] },\r\n    { name: 'Circular/Notices', sub: ['View Notices', 'Download'] },\r\n    { name: 'Work Management', sub: ['Assignments', 'Reports'] },\r\n    { name: 'Student Documents', sub: ['View Documents', 'Verify Documents'] },\r\n    { name: 'Report Card', sub: [] },\r\n    { name: 'Payroll', sub: ['View Salary', 'Payslip'] },\r\n    { name: 'Settings', sub: ['Preferences', 'Logout'] }\r\n  ];\r\n\r\n  const feesMenu = { name: 'Fees', sub: ['Total Fee Collection Summary', 'Active/Pending/Overdue Fees', 'Detailed Transactions Report', 'Fee Structure Management', 'Receipt Management', 'Scholarship/Concession Monitoring', 'Refund/Adjustment Tracking', 'Alerts & Notifications', 'Audit Log', 'Export Reports', 'Role/Permission Management'] };\r\n\r\n  const menus = userDesignation === 'Fees Administrator' ? [...baseMenus.slice(0, 9), feesMenu, ...baseMenus.slice(9)] : baseMenus;\r\n\r\n  const componentMap = {\r\n    'Dashboard': Dashboard,\r\n    'Profile': Profile,\r\n    'Upload Photo': UploadPhoto,\r\n    'Assign Class/Subject': AssignClass,\r\n    'View Assignments': ViewAssignments,\r\n    'Attendance Entry': MarkAttendance,\r\n    'Attendance View': AttendanceReport,\r\n    'Daily/Monthly Reports': AttendanceReport,\r\n    'Apply for Leave': LeaveManagement,\r\n    'View Leave History': LeaveManagement,\r\n    'Send/Receive Messages': Messaging,\r\n    'Alerts': Messaging,\r\n    'Timetable': Timetable,\r\n    'View Notices': Circulars,\r\n    'Download': Circulars,\r\n    'Assignments': CreateAssignment,\r\n    'Reports': ViewAssignments,\r\n    'View Documents': StaffViewDocuments,\r\n    'Verify Documents': StaffVerifyDocuments,\r\n    'Total Fee Collection Summary': FeeCollectionSummary,\r\n    'Active/Pending/Overdue Fees': FeeStatusOverview,\r\n    'Detailed Transactions Report': () => (\r\n      <div>\r\n        <h2>Detailed Transactions Report</h2>\r\n        <p>Sabhi students ke individual transactions: date, amount, mode (cash, card, online), payment status.</p>\r\n        <p>Filters for courses, batches, payment dates, fee status.</p>\r\n      </div>\r\n    ),\r\n    'Fee Structure Management': () => (\r\n      <div>\r\n        <h2>Fee Structure Management</h2>\r\n        <p>Create/update fee heads and amounts for every course/batch/semester/year.</p>\r\n        <p>Change history log (kis admin/staff ne kya update kiya).</p>\r\n      </div>\r\n    ),\r\n    'Receipt Management': () => (\r\n      <div>\r\n        <h2>Receipt Management</h2>\r\n        <p>Generate, view, download, print receipts for all transactions.</p>\r\n        <p>Re-issue or correct receipts (with approval system).</p>\r\n      </div>\r\n    ),\r\n    'Scholarship/Concession Monitoring': () => (\r\n      <div>\r\n        <h2>Scholarship/Concession Monitoring</h2>\r\n        <p>Kis student ko kya concession/scholarship mila, total concession amount ka summary.</p>\r\n      </div>\r\n    ),\r\n    'Refund/Adjustment Tracking': () => (\r\n      <div>\r\n        <h2>Refund/Adjustment Tracking</h2>\r\n        <p>Kis cases me refund/adjustment hua, reason, approval status.</p>\r\n      </div>\r\n    ),\r\n    'Alerts & Notifications': () => (\r\n      <div>\r\n        <h2>Alerts & Notifications</h2>\r\n        <p>Due fee reminders, overdue alerts, communication logs (SMS, Email).</p>\r\n      </div>\r\n    ),\r\n    'Audit Log': () => (\r\n      <div>\r\n        <h2>Audit Log</h2>\r\n        <p>All changes/actions performed in fee systemcomplete activity trail.</p>\r\n      </div>\r\n    ),\r\n    'Export Reports': () => (\r\n      <div>\r\n        <h2>Export Reports</h2>\r\n        <p>Download reports in PDF/Excel (collection, dues, batch-wise, etc.).</p>\r\n      </div>\r\n    ),\r\n    'Role/Permission Management': () => (\r\n      <div>\r\n        <h2>Role/Permission Management</h2>\r\n        <p>Kis staff/admin ko kya access haiuser management panel.</p>\r\n      </div>\r\n    ),\r\n    'Report Card': ReportCard,\r\n    'View Salary': Payroll,\r\n    'Payslip': Payroll,\r\n    'Preferences': Settings,\r\n    'Logout': () => { localStorage.removeItem('token'); window.location.href = '/login'; }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    const Component = componentMap[activeMenu];\r\n    if (typeof Component === 'function' && Component.name === 'Logout') {\r\n      Component();\r\n      return <div>Logging out...</div>;\r\n    }\r\n    return Component ? <Component /> : <Dashboard />;\r\n  };\r\n\r\n  const handleSubClick = (subName) => {\r\n    setActiveMenu(subName);\r\n  };\r\n\r\n  const handleMainClick = (menu) => {\r\n    if (menu.sub.length === 0) {\r\n      setActiveMenu(menu.name);\r\n      setOpenMenu(null);\r\n    } else {\r\n      setOpenMenu(prev => prev === menu.name ? null : menu.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-panel\">\r\n      <nav className=\"side-nav\">\r\n        <h2>Staff Panel</h2>\r\n        <ul className=\"nav-menu\">\r\n          {menus.map(menu => (\r\n            <li key={menu.name} className={menu.sub.length > 0 && openMenu === menu.name ? 'open' : ''}>\r\n              <button\r\n                className={menu.sub.length === 0 && activeMenu === menu.name ? 'active' : ''}\r\n                onClick={() => handleMainClick(menu)}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  {menu.sub.length === 0 ? <FaDotCircle /> : <FaFolder />} {menu.name}\r\n                </div>\r\n                {menu.sub.length > 0 && (\r\n                  <span className={`arrow ${openMenu === menu.name ? 'rotated' : ''}`}></span>\r\n                )}\r\n              </button>\r\n              {menu.sub.length > 0 && (\r\n                <ul className={`sub-menu ${openMenu === menu.name ? 'open' : ''}`}>\r\n                  {menu.sub.map(sub => (\r\n                    <li key={sub}>\r\n                      <button\r\n                        className={activeMenu === sub ? 'active' : ''}\r\n                        onClick={() => handleSubClick(sub)}\r\n                      >\r\n                        {sub}\r\n                      </button>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n      <main className=\"content\">\r\n        {renderContent()}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffPanel;\r\n"],"names":["ViewFees","feeStructure","setFeeStructure","useState","payments","setPayments","studentInfo","setStudentInfo","loading","setLoading","message","setMessage","activeTab","setActiveTab","paymentType","setPaymentType","useEffect","fetchStudentInfo","fetchPayments","department","fetchFeeStructure","async","token","localStorage","getItem","response","fetch","headers","concat","ok","data","json","error","console","course","getStudentFeeStructure","calculateFeeAmount","structure","type","total","totalFee","getStatusColor","status","currentFeeAmount","_jsxs","className","children","_jsx","style","padding","margin","border","borderRadius","backgroundColor","includes","color","marginBottom","onClick","marginRight","cursor","overflowX","width","borderCollapse","textAlign","Object","entries","feeComponents","map","_ref","key","value","fontWeight","tuitionFee","libraryFee","laboratoryFee","examinationFee","sportsFee","developmentFee","miscellaneousFee","toLocaleString","fontSize","display","gap","alignItems","checked","onChange","e","target","amount","method","body","JSON","stringify","year","semester","disabled","maxHeight","overflowY","length","payment","Date","createdAt","toLocaleDateString","_id","UploadPhoto","selectedFile","setSelectedFile","preview","setPreview","uploading","setUploading","setError","fileInputRef","useRef","ref","event","file","files","size","reader","FileReader","onload","result","readAsDataURL","accept","src","alt","maxWidth","objectFit","formData","FormData","append","config","Authorization","axios","post","current","setTimeout","window","location","reload","_error$response","_error$response$data","handleCancel","marginTop","onClose","duration","timer","clearTimeout","getAlertClass","Dashboard","alerts","setAlerts","showAlerts","setShowAlerts","assignedClasses","setAssignedClasses","todayTimetable","setTodayTimetable","pendingAssignments","setPendingAssignments","unreadMessages","setUnreadMessages","attendanceSummary","setAttendanceSummary","present","fetchAlerts","classesRes","get","today","weekday","timetableRes","pending","filter","a","dueDate","now","unread","m","isRead","month","toISOString","slice","attendanceRes","summary","totalPresent","reduce","sum","s","totalDays","fetchDashboardData","alert","Alert","dismissAlert","alertId","slot","idx","period","class","subject","time","Math","round","Profile","profile","setProfile","name","designation","qualifications","joiningDate","email","phone","address","profilePicture","editing","setEditing","saving","setSaving","fetchProfile","res","log","handleChange","_objectSpread","height","onError","nextSibling","justifyContent","href","textDecoration","onSubmit","preventDefault","put","staffId","required","date","split","formatDateForInput","CreateAssignment","classes","setClasses","setFormData","title","description","fetchClasses","c","cls","ViewAssignments","assignments","setAssignments","selectedAssignment","setSelectedAssignment","submissions","setSubmissions","fetchAssignments","fetchSubmissions","assignmentId","assignment","sub","studentName","submittedAt","grade","submissionId","updateGrade","placeholder","Circulars","circulars","setCirculars","fetchCirculars","circular","fileUrl","downloadCircular","url","document","createElement","download","click","MarkAttendance","courses","setCourses","semesters","setSemesters","subjects","setSubjects","students","setStudents","attendance","setAttendance","filters","setFilters","searchTerm","setSearchTerm","markAllPresent","setMarkAllPresent","success","setSuccess","fetchCourses","fetchSemesters","fetchSubjects","fetchStudents","initialAttendance","forEach","student","rollNo","remarks","err","id","handleFilterChange","prev","handleAttendanceChange","field","filteredStudents","toLowerCase","htmlFor","sem","_Fragment","_attendance$student$r","_attendance$student$r2","keys","payload","AttendanceReport","attendanceData","setAttendanceData","setSummary","absent","leave","percentage","dateFrom","dateTo","viewMode","setViewMode","params","URLSearchParams","records","fetchAttendance","toFixed","record","index","exportToPDF","doc","jsPDF","text","autoTable","head","save","exportToCSV","csvContent","join","encodedUri","encodeURI","link","setAttribute","appendChild","Messaging","setSubject","setBody","sections","setSections","selectedCourse","setSelectedCourse","selectedSemester","setSelectedSemester","selectedSection","setSelectedSection","selectedStudents","setSelectedStudents","label","resetForm","maxLength","ReactQuill","modules","toolbar","formats","Select","selectedOption","options","isClearable","sec","fetchSections","isDisabled","stu","selectedOptions","isMulti","trim","toast","ReportCard","selectedStudent","setSelectedStudent","reportCard","setReportCard","attendancePercentage","overallGrade","overallAttendance","Settings","preferences","setPreferences","language","notifications","theme","savePreferences","setItem","logout","removeItem","LeaveManagement","leaves","setLeaves","startDate","endDate","reason","fetchLeaves","start","end","days","ceil","Timetable","timetable","setTimetable","selectedDay","setSelectedDay","fetchTimetable","day","room","Payroll","payrolls","setPayrolls","selectedMonth","setSelectedMonth","fetchPayrolls","payroll","baseSalary","allowances","allow","deductions","deduct","netSalary","payslipUrl","rel","staticClasses","class_id","class_name","section","academic_year","staticSubjects","subject_id","subject_name","subject_code","subject_type","AssignClass","selectedClass","setSelectedClass","showPanel","setShowPanel","handleClassClick","classItem","tabIndex","onKeyDown","colSpan","handleClosePanel","StaffViewDocuments","documents","setDocuments","staffCourse","setStaffCourse","fetchDocuments","studentId","fileName","documentType","encodeURIComponent","blob","URL","createObjectURL","revokeObjectURL","removeChild","handleDownload","StaffVerifyDocuments","Error","docType","replace","prevDocuments","handleVerify","handleReject","StaffPanel","activeMenu","setActiveMenu","openMenu","setOpenMenu","userDesignation","setUserDesignation","parse","atob","auth","getCurrentUser","apiError","fetchUserDesignation","baseMenus","menus","componentMap","FeeCollectionSummary","FeeStatusOverview","Detailed Transactions Report","Fee Structure Management","Receipt Management","Scholarship/Concession Monitoring","Refund/Adjustment Tracking","Alerts & Notifications","Audit Log","Export Reports","Role/Permission Management","Logout","menu","handleMainClick","FaDotCircle","FaFolder","renderContent","Component"],"sourceRoot":""}