{"version":3,"file":"static/js/368.436f78fa.chunk.js","mappings":"oKAGA,MA6UA,EA7UuBA,KACrB,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,KAChCK,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,SACpCO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,CACvCS,UAAW,GACXC,gBAAiB,QAEZC,EAAgBC,IAAqBZ,EAAAA,EAAAA,UAAS,OAC9Ca,EAAiBC,IAAsBd,EAAAA,EAAAA,UAAS,KAChDe,EAAcC,IAAmBhB,EAAAA,EAAAA,WAAS,IAC1CiB,EAAcC,IAAmBlB,EAAAA,EAAAA,UAAS,CAAC,IAC3CmB,EAAUC,IAAepB,EAAAA,EAAAA,UAAS,KAClCqB,EAASC,IAActB,EAAAA,EAAAA,UAAS,CACrCuB,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,OAAQ,GACRC,UAAW,MAGbC,EAAAA,EAAAA,WAAU,KACRC,IACAC,KACC,IAEH,MAAMA,EAAgBC,UACpB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,yCAA0C,CACrEC,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5BrB,EAAYoB,EACd,CACF,CAAE,MAAOE,GACPC,QAAQD,MAAM,2BAA4BA,EAC5C,GAGIb,EAAgBE,UACpB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BU,EAAc,IAAIC,gBAEpBxB,EAAQE,QAAQqB,EAAYE,OAAO,SAAUzB,EAAQE,QACrDF,EAAQG,MAAMoB,EAAYE,OAAO,OAAQzB,EAAQG,MACjDH,EAAQI,UAAUmB,EAAYE,OAAO,WAAYzB,EAAQI,UACzDJ,EAAQK,QAAQkB,EAAYE,OAAO,SAAUzB,EAAQK,QACrDL,EAAQM,WAAWiB,EAAYE,OAAO,YAAazB,EAAQM,WAE/D,MAAMoB,EAAG,qCAAAT,OAAwCM,EAAYI,WAAa,IAAMJ,EAAYI,WAAa,IACnGb,QAAiBC,MAAMW,EAAK,CAChCV,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5B1C,EAAYyC,GAGZ,MAAMS,EAAoB,GACpBC,EAAQ,CAAC,EAEf,IAAK,MAAMC,KAAWX,EAChBW,EAAQC,aAAuC,wBAAxBD,EAAQC,aAAwE,KAA/BD,EAAQC,YAAYC,OAC9FH,EAAMC,EAAQ1C,WAAa0C,EAAQC,YAE9BH,EAAkBK,SAASH,EAAQ1C,YACtCwC,EAAkBM,KAAKJ,EAAQ1C,WAMrC,IAAK,MAAMA,KAAawC,EACtB,IACE,MAAMO,QAAwBpB,MAAM,sDAADE,OAAuD7B,GAAa,CACrG4B,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIwB,EAAgBjB,GAAI,CACtB,MAAMkB,QAAoBD,EAAgBf,OAC1CS,EAAMzC,GAAagD,EAAYC,MAAQ,SACzC,CACF,CAAE,MAAOhB,GACPC,QAAQD,MAAM,+BAAgCA,GAC9CQ,EAAMzC,GAAa,SACrB,CAGFS,EAAgBgC,EAClB,CACF,CAAE,MAAOR,GACPC,QAAQD,MAAM,2BAA4BA,GAC1CtC,EAAW,4BAA8BsC,EAAMvC,QACjD,GAGIwD,EAAsBC,IAC1B,MAAM,KAAEF,EAAI,MAAEG,GAAUD,EAAEE,OAC1BxC,EAAWyC,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVD,GAAI,IACP,CAACL,GAAOG,MA8EZ,OACEI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wBAEHhE,IACC8D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASC,SAAA,CACrBhE,GACDiE,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAMjE,EAAW,IAAK8D,UAAU,gBAAeC,SAAC,aAIrEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,SAASG,MAAOxC,EAAQE,OAAQ+C,SAAUX,EAAmBQ,SAAA,EACxEC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,MAAKM,SAAC,SACpBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,UACrBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,gBAIzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,WACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,OAAOG,MAAOxC,EAAQG,KAAM8C,SAAUX,EAAmBQ,SAAA,EACpEC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,eACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,oBAItBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,eACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,WAAWG,MAAOxC,EAAQI,SAAU6C,SAAUX,EAAmBQ,SAAA,EAC5EC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,mBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,kBAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,wBAItBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,SAASG,MAAOxC,EAAQK,OAAQ4C,SAAUX,EAAmBQ,SAAA,EACxEC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,gBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,SAAQM,SAAC,YACvBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,YAAWM,SAAC,qBAI9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,cACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,YAAYG,MAAOxC,EAAQM,UAAW2C,SAAUX,EAAmBQ,SAAA,EAC9EC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBAChBhD,EAASoD,IAAIC,IACZP,EAAAA,EAAAA,MAAA,UAA0BJ,MAAOW,EAAQC,IAAIN,SAAA,CAC1CK,EAAQ7C,UAAU,KAAG,IAAI+C,KAAKF,EAAQG,WAAWC,cAAc,IAAE,IAAIF,KAAKF,EAAQK,SAASD,cAAc,MAD/FJ,EAAQC,aAO3BL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,KAAA,UAAQC,QA3ISS,KACzBjD,KA0I6CqC,UAAU,oBAAmBC,SAAC,2BAOzEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACHlE,GACCmE,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wBACDrE,EAASiF,OAAS,GACpBX,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,iBAAgBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,UACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBAGRC,EAAAA,EAAAA,KAAA,SAAAD,SACGrE,EAASyE,IAAIpB,IAAO,IAAA6B,EAAA,OACnBf,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQ8B,iBACbb,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQ1C,aACb2D,EAAAA,EAAAA,KAAA,MAAAD,SAAKlD,EAAakC,EAAQ1C,YAAc,gBACxC2D,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQ5B,UACb0C,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAKhB,EAAQ3B,KAAK,IAAE2B,EAAQ1B,aAC5B2C,EAAAA,EAAAA,KAAA,MAAAD,UAAsB,QAAjBa,EAAA7B,EAAQxB,iBAAS,IAAAqD,OAAA,EAAjBA,EAAmBrD,YAAa,SACrCsC,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,SAAEhB,EAAQ+B,WACdd,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAS,gBAAA5B,OAAqC,WAAnBa,EAAQzB,OAAsB,gBAAkB,oBAAqByC,SACnGhB,EAAQzB,YAGb0C,EAAAA,EAAAA,KAAA,MAAAD,SAAK,IAAIO,KAAKvB,EAAQgC,WAAWC,wBACjCnB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IArLDtC,WAC5B,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,sCAADE,OAAuC+C,EAAS,aAAa,CACvFhD,QAAS,CACP,cAAgB,UAADC,OAAYN,MAI/B,GAAIG,EAASI,GAAI,CACf,MAAM+C,QAAanD,EAASmD,OACtBvC,EAAMwC,OAAOC,IAAIC,gBAAgBH,GACjCI,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAO9C,EACT2C,EAAEI,SAAQ,WAAAxD,OAAc+C,EAAS,QACjCM,SAASI,KAAKC,YAAYN,GAC1BA,EAAEO,QACFV,OAAOC,IAAIU,gBAAgBnD,GAC3B4C,SAASI,KAAKI,YAAYT,EAC5B,MACEtF,EAAW,6BAEf,CAAE,MAAOsC,GACPtC,EAAW,8BAAgCsC,EAAMvC,QACnD,GA6JmCiG,CAAsBjD,EAAQsB,KAC7CP,UAAU,gCAA+BC,SAC1C,aAGmB,WAAnBhB,EAAQzB,SACPuC,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAAlC,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAlKJtC,WAC7B,IACE,MAAMC,EAAQC,aAAaC,QAAQ,gBACZE,MAAM,sCAADE,OAAuC+C,EAAS,cAAc,CACxFiB,OAAQ,OACRjE,QAAS,CACP,cAAgB,UAADC,OAAYN,OAIlBO,IACXnC,EAAW,4CACXyB,KAEAzB,EAAW,8BAEf,CAAE,MAAOsC,GACPtC,EAAW,8BAAgCsC,EAAMvC,QACnD,GAgJuCoG,CAAuBpD,EAAQsB,KAC9CP,UAAU,iCAAgCC,SAC3C,eAGDC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAnJPtC,WAC1B,IACE,MAAMC,EAAQC,aAAaC,QAAQ,gBACZE,MAAM,sCAADE,OAAuC+C,EAAS,WAAW,CACrFiB,OAAQ,MACRjE,QAAS,CACP,cAAgB,UAADC,OAAYN,IAE7B+D,KAAMS,KAAKC,UAAU,CAAEC,OAAQ,0BAGpBnE,IACXnC,EAAW,kCACXyB,KAEAzB,EAAW,2BAEf,CAAE,MAAOsC,GACPtC,EAAW,6BAA+BsC,EAAMvC,QAClD,GAgIuCwG,CAAoBxD,EAAQsB,KAC3CP,UAAU,8BAA6BC,SACxC,mBAhCAhB,EAAQsB,eA4CzBL,EAAAA,EAAAA,KAAA,KAAGF,UAAU,cAAaC,SAAC,6B,mECtUrC,MAqEA,EArEsByC,IAAgF,IAA/E,gBAAEC,EAAe,YAAEC,EAAc,wCAAwCF,EAC9F,MAAOG,EAAOC,IAAYhH,EAAAA,EAAAA,UAAS,KAC5BiH,EAAaC,IAAkBlH,EAAAA,EAAAA,UAAS,KACxCmH,EAAWC,IAAgBpH,EAAAA,EAAAA,WAAS,IACpCqH,EAAiBC,IAAsBtH,EAAAA,EAAAA,WAAS,IAEvD4B,EAAAA,EAAAA,WAAU,KACR,MAmBM2F,EAAgBC,WAnBCzF,UACrB,GAAIgF,EAAMhC,OAAS,EAEjB,YADAmC,EAAe,IAIjBE,GAAa,GACb,MAAMK,QAAeC,EAAAA,GAAQC,cAAcZ,GAG3C,GAFAK,GAAa,GAETK,EAAOG,QAAS,CAElB,MAAMC,EAAmBJ,EAAOjF,KAAKsF,OAAOC,GAAWA,EAAQtH,WAA0C,KAA7BsH,EAAQtH,UAAU4C,QAC9F6D,EAAeW,EACjB,MACEX,EAAe,KAI8B,KACjD,MAAO,IAAMc,aAAaT,IACzB,CAACR,IAQJ,OACE9C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,SACE6D,KAAK,OACLpE,MAAOkD,EACPzC,SAAWV,GAAMoD,EAASpD,EAAEE,OAAOD,OACnCqE,QAASA,IAAMZ,GAAmB,GAClCa,OAAQA,IAAMX,WAAW,IAAMF,GAAmB,GAAQ,KAC1DR,YAAaA,EACb5C,UAAU,yBAEXiD,IAAa/C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,SAAC,iBACtCkD,GAAmBJ,EAAYlC,OAAS,IACvCX,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mBAAkBC,SAC7B8C,EAAY1C,IAAKwD,IAChB3D,EAAAA,EAAAA,KAAA,MAEEC,QAASA,IAvBC0D,KACpBf,EAAS,GAAD1E,OAAIyF,EAAQtH,UAAS,OAAA6B,OAAMyF,EAAQrE,OAC3C4D,GAAmB,GACnBT,EAAgBkB,IAoBSK,CAAaL,GAC5B7D,UAAU,kBAAiBC,UAE3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,aAAYC,SAAE4D,EAAQtH,aACtC2D,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAE4D,EAAQrE,QACxCO,EAAAA,EAAAA,MAAA,QAAMC,UAAU,gBAAeC,SAAA,CAAE4D,EAAQM,MAAM,MAAIN,EAAQvD,eAPxDuD,EAAQtD,W,6ECrD3B,MAyBA,EAzB0BmC,IAAsD,IAArD,OAAE0B,EAAM,MAAEC,EAAK,QAAEpI,EAAO,UAAEqI,EAAS,SAAEC,GAAU7B,EACxE,OAAK0B,GAGHlE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAKoE,OAEPnE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAA,KAAAD,SAAIhE,OAEN8D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,oBAAoBG,QAASoE,EAAStE,SAAC,YAGzDC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,iBAAiBG,QAASmE,EAAUrE,SAAC,oBAf3C,MCsUtB,EApUsBuE,KACpB,MAAO5I,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,KAChCmB,EAAUC,IAAepB,EAAAA,EAAAA,UAAS,KAClCqB,EAASC,IAActB,EAAAA,EAAAA,UAAS,CACrCuB,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,OAAQ,GACRC,UAAW,MAENgH,EAAkBC,IAAuB5I,EAAAA,EAAAA,WAAS,IAClD6I,EAAiBC,IAAsB9I,EAAAA,EAAAA,UAAS,OAChD+I,EAAcC,IAAmBhJ,EAAAA,EAAAA,UAAS,KAEjD4B,EAAAA,EAAAA,WAAU,KACRC,IACAC,KACC,IAEH,MAAMA,EAAgBC,UACpB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,yCAA0C,CACrEC,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5BrB,EAAYoB,EACd,CACF,CAAE,MAAOE,GACPC,QAAQD,MAAM,2BAA4BA,EAC5C,GAGIb,EAAgBE,UACpB,IACE7B,GAAW,GACX,MAAM8B,EAAQC,aAAaC,QAAQ,SAC7BU,EAAc,IAAIC,gBAAgBxB,GAAS2B,WAC3CD,EAAG,qCAAAT,OAAwCM,EAAW,IAAAN,OAAOM,GAAgB,IAE7ET,QAAiBC,MAAMW,EAAK,CAChCV,QAAS,CACP,cAAgB,UAADC,OAAYN,MAI/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5B1C,EAAYyC,EACd,MACEpC,EAAW,2BAEf,CAAE,MAAOsC,GACPC,QAAQD,MAAM,2BAA4BA,GAC1CtC,EAAW,4BAA8BsC,EAAMvC,QACjD,CAAC,QACCD,GAAW,EACb,GAGIyD,EAAsBC,IAC1B,MAAM,KAAEF,EAAI,MAAEG,GAAUD,EAAEE,OAC1BxC,EAAWyC,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVD,GAAI,IACP,CAACL,GAAOG,MAwENoF,EAAyB,UADdhH,aAAaC,QAAQ,QAGtC,OACE+B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,0EAGJhE,IACCiE,EAAAA,EAAAA,KAAA,OAAKF,UAAS,WAAA5B,OAAanC,EAAQmD,SAAS,UAAYnD,EAAQmD,SAAS,UAAY,QAAU,IAAKa,SACjGhE,KAIH8I,IACA7E,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4DAIN8E,IACChF,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAAlC,SAAA,EAEEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,SACLG,MAAOxC,EAAQE,OACf+C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,MAAKM,SAAC,SACpBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,UACrBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,gBAG7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,WACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,OAAOG,MAAOxC,EAAQG,KAAM8C,SAAUX,EAAmBQ,SAAA,EACpEC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,eACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,oBAGtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,eACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,WAAWG,MAAOxC,EAAQI,SAAU6C,SAAUX,EAAmBQ,SAAA,EAC5EC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,mBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,kBAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,wBAGlBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,SACLG,MAAOxC,EAAQK,OACf4C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,gBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,SAAQM,SAAC,YACvBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,YAAWM,SAAC,qBAG9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,cACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,YACLG,MAAOxC,EAAQM,UACf2C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBAChBhD,EAASoD,IAAIC,IACZP,EAAAA,EAAAA,MAAA,UAA0BJ,MAAOW,EAAQC,IAAIN,SAAA,CAC1CK,EAAQ7C,UAAU,KAAG,IAAI+C,KAAKF,EAAQG,WAAWC,cAAc,IAAE,IAAIF,KAAKF,EAAQK,SAASD,cAAc,MAD/FJ,EAAQC,aAM3BL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,KAAA,UAAQC,QAzJKS,KACzBjD,KAwJiDqC,UAAU,uBAAsBC,SAAC,2BAQ5EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACHlE,GACCmE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,SAAC,yBAEzBC,EAAAA,EAAAA,KAAA,OAAK8E,MAAO,CAAEC,UAAW,QAASC,UAAW,QAASjF,SACnDrE,EAASiF,OAAS,GACjBd,EAAAA,EAAAA,MAAA,SAAOC,UAAU,wBAAuBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,UACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBAGRC,EAAAA,EAAAA,KAAA,SAAAD,SACGrE,EAASyE,IAAIpB,IAAO,IAAA6B,EAAA,OACnBf,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQ8B,iBACbb,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQ1C,aACb2D,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAQC,eACbgB,EAAAA,EAAAA,KAAA,MAAAD,UAAsB,QAAjBa,EAAA7B,EAAQxB,iBAAS,IAAAqD,OAAA,EAAjBA,EAAmBrD,YAAa,SACrCsC,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,SAAEhB,EAAQ+B,WACdd,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAS,gBAAA5B,OAAqC,WAAnBa,EAAQzB,OAAsB,gBAAkB,oBAAqByC,SACnGhB,EAAQzB,YAGb0C,EAAAA,EAAAA,KAAA,MAAAD,SAAK,IAAIO,KAAKvB,EAAQgC,WAAWC,wBACjCnB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IA7JPtC,WAC5B,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,sCAADE,OAAuC+C,EAAS,aAAa,CACvFhD,QAAS,CACP,cAAgB,UAADC,OAAYN,MAI/B,GAAIG,EAASI,GAAI,CACf,MAAM+C,QAAanD,EAASmD,OACtBvC,EAAMwC,OAAOC,IAAIC,gBAAgBH,GACjCI,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAO9C,EACT2C,EAAEI,SAAQ,WAAAxD,OAAc+C,EAAS,QACjCM,SAASI,KAAKC,YAAYN,GAC1BA,EAAEO,QACFV,OAAOC,IAAIU,gBAAgBnD,GAC3B4C,SAASI,KAAKI,YAAYT,EAC5B,MACEtF,EAAW,6BAEf,CAAE,MAAOsC,GACPtC,EAAW,8BAAgCsC,EAAMvC,QACnD,GAqIyCiG,CAAsBjD,EAAQsB,KAC7CP,UAAU,gCAA+BC,SAC1C,aAGmB,WAAnBhB,EAAQzB,SACP0C,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAxMVlB,KAC3B2F,EAAmB3F,GACnB6F,EAAgB,IAChBJ,GAAoB,IAqMuBjC,CAAoBxD,GACnCe,UAAU,8BAA6BC,SACxC,gBAvBEhB,EAAQsB,aAiCvBL,EAAAA,EAAAA,KAAA,KAAGF,UAAU,cAAaC,SAAC,gCAQvCC,EAAAA,EAAAA,KAACiF,EAAiB,CAChBf,OAAQK,EACRJ,MAAM,uBACNpI,SACE8D,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,4CAAwCC,EAAAA,EAAAA,KAAA,UAAAD,SAAwB,OAAf0E,QAAe,IAAfA,OAAe,EAAfA,EAAiB5D,gBAAuB,sCAC5FhB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,yCACPC,EAAAA,EAAAA,KAAA,YACEP,MAAOkF,EACPzE,SAAWV,GAAMoF,EAAgBpF,EAAEE,OAAOD,OAC1CyF,KAAK,IACLxC,YAAY,kEACZyC,UAAQ,UAKhBf,UAxOsBzG,UAC1B,GAAKgH,EAAa1F,OAKlB,IACE,MAAMrB,EAAQC,aAAaC,QAAQ,gBACZE,MAAM,sCAADE,OAAuCuG,EAAgBpE,IAAG,WAAW,CAC/F6B,OAAQ,MACRjE,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAADC,OAAYN,IAE7B+D,KAAMS,KAAKC,UAAU,CAAEC,OAAQqC,OAGpBxG,IACXnC,EAAW,mCACXyB,IACA+G,GAAoB,GACpBE,EAAmB,OAEnB1I,EAAW,2BAEf,CAAE,MAAOsC,GACPtC,EAAW,6BAA+BsC,EAAMvC,QAClD,MAzBEC,EAAW,6CAuOTqI,SAAUA,IAAMG,GAAoB,GACpCY,YAAY,iBACZC,WAAW,oB,uFChUnB,MAwFA,EAxFsB7C,IAAoC,IAAnC,QAAEzD,EAAO,QAAEuG,EAAO,QAAEC,GAAS/C,EAClD,OAAKzD,GAGHiB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yBAAwBC,UACrCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yBACJC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,YAAYG,QAASqF,EAAQvF,SAAC,aAGlDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,qBACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAEhB,EAAQ8B,oBAEnChB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,WACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAE,IAAIO,KAAKvB,EAAQyG,MAAMxE,2BAElDnB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,iBACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAEhB,EAAQ1C,gBAEnCwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,mBACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAEhB,EAAQC,kBAEnCa,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,mBACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAEhB,EAAQ0G,kBAEnC5F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,kBACxBF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,QAAOC,SAAA,CAAC,SAAEhB,EAAQ+B,OAAO4E,uBAE1C3G,EAAQ4G,UACP9F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAC,cACxBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAEhB,EAAQ4G,gBAKtC5G,EAAQ6G,WAAa7G,EAAQ6G,UAAUjF,OAAS,IAC/Cd,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mBACJF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBAGRF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CACGhB,EAAQ6G,UAAUzF,IAAI,CAAC0F,EAAMC,KAC5BjG,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAK8F,EAAKE,QACVlG,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,SAAE8F,EAAK/E,OAAO4E,sBAFXI,KAKXjG,EAAAA,EAAAA,MAAA,MAAIC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,MAAAD,UAAIC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,aACZC,EAAAA,EAAAA,KAAA,MAAAD,UAAIF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,CAAQ,SAAEhB,EAAQ+B,OAAO4E,sCAQzC7F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,2CACHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,oBAAoBG,QAASsF,EAAQxF,SAAC,mBAGxDC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,kBAAkBG,QAASqF,EAAQvF,SAAC,qBA7E3C,M,wBCIvB,MA+VA,EA/VoBiG,KAClB,MAAOC,EAAiBC,IAAsBtK,EAAAA,EAAAA,UAAS,OAChDW,EAAgBC,IAAqBZ,EAAAA,EAAAA,UAAS,OAC9CuK,EAAMC,IAAWxK,EAAAA,EAAAA,UAAS,KAC1ByK,EAAcC,IAAmB1K,EAAAA,EAAAA,UAAS,OAC1C2K,EAAaC,IAAkB5K,EAAAA,EAAAA,UAAS,CAC7CkF,OAAQ,GACR2E,YAAa,GACbE,QAAS,MAEJ5G,EAAS0H,IAAc7K,EAAAA,EAAAA,UAAS,OAChC8K,EAAaC,IAAkB/K,EAAAA,EAAAA,WAAS,IACxCgL,EAAOC,IAAYjL,EAAAA,EAAAA,UAAS,OAC5BmH,EAAWC,IAAgBpH,EAAAA,EAAAA,WAAS,IAI3C4B,EAAAA,EAAAA,WAAU,KACJyI,GAAmBA,EAAgB5J,WACrCyK,IACAC,IACAF,EAAS,QACAZ,GAAqBA,EAAgB5J,WAAkD,KAArC4J,EAAgB5J,UAAU4C,QAOrF4H,EAAS,MACTrK,EAAkB,MAClB8J,EAAgB,MAChBF,EAAQ,MARRS,EAAS,CAAE9K,QAAS,uEAAwE8H,KAAM,YAClGrH,EAAkB,MAClB8J,EAAgB,MAChBF,EAAQ,MAOT,CAACH,KAEJzI,EAAAA,EAAAA,WAAU,KACJyI,GAAmBA,EAAgB5J,WAAagK,EAClDW,IAEAZ,EAAQ,KAET,CAACH,EAAiBI,IAErB,MAAMS,EAAsBnJ,UAC1B,IAAKsI,IAAoBA,EAAgB5J,UAAW,OACpD2G,GAAa,GACb,MAAMK,QAAeC,EAAAA,GAAQ2D,kBAAkBhB,EAAgB5J,UAAW,WAE1E,GADA2G,GAAa,GACTK,EAAOG,QAAS,CAClB,MAAMG,EAAUN,EAAOjF,KACvB5B,EAAkB,CAChB0K,MAAOvD,EAAQwD,cAAgB,MAC/BC,MAAOzD,EAAQyD,OAAS,MACxBC,QAAS1D,EAAQ0D,QAAO,GAAAnJ,OAAMyF,EAAQ0D,QAAQC,OAAM,MAAApJ,OAAKyF,EAAQ0D,QAAQE,KAAI,MAAArJ,OAAKyF,EAAQ0D,QAAQG,MAAK,OAAAtJ,OAAMyF,EAAQ0D,QAAQI,SAAY,MACzIC,IAAK/D,EAAQgE,YAAc,IAAIrH,KAAKqD,EAAQgE,aAAa3G,qBAAuB,MAChF4G,WAAYjE,EAAQkE,cAAgB,MACpCC,WAAY,OAEhB,MACEjB,EAAS,CAAE9K,QAAS,kCAAmC8H,KAAM,UAC7DrH,EAAkB,OAIhBuK,EAAoBpJ,UACxB,IAAKsI,IAAoBA,EAAgBhC,MAAO,OAChD,MAAM9G,EAAS8I,EAAgBhC,MAAM8D,MAAM,KAAK,GAChD,IACE,MAAMnK,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,kCAADE,OAAmCf,GAAU,CACvEc,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5BiI,EAAgBlI,EAClB,MACEkI,EAAgB,KAEpB,CAAE,MAAOhI,GACPC,QAAQD,MAAM,gCAAiCA,GAC/CgI,EAAgB,KAClB,GAGIU,EAAmBrJ,UACvB,IAAKsI,IAAoBA,EAAgB5J,UAGvC,OAFAwK,EAAS,CAAE9K,QAAS,8CAA+C8H,KAAM,eACzEuC,EAAQ,IAGVpD,GAAa,GACb,MAAMK,QAAeC,EAAAA,GAAQ0E,eAAe/B,EAAgB5J,WAE5D,GADA2G,GAAa,GACTK,EAAOG,QAAS,CAClB,MAAMyE,EAAaC,EAAoB7E,EAAOjF,MAC9CgI,EAAQ6B,EACV,MACEpB,EAAS,CAAE9K,QAAS,+BAAgC8H,KAAM,UAC1DuC,EAAQ,KAIN8B,EAAuBC,IAC3B,IAAIC,EAAW,GAGbA,EADE/B,GAAgBA,EAAagC,cACpBC,OAAOC,QAAQlC,EAAagC,eAAelI,IAAIqC,IAAA,IAAEgG,EAAK/I,GAAM+C,EAAA,MAAM,CAC3EuD,KAAMyC,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,GAAGC,QAAQ,WAAY,OACrEC,MAAOC,KAAKC,MAAiC,KAA1BC,WAAWvJ,IAAU,IAAY,OAG3C,CACT,CAAEsG,KAAM,cAAe8C,MAAO,KAC9B,CAAE9C,KAAM,cAAe8C,MAAO,KAC9B,CAAE9C,KAAM,aAAc8C,MAAO,KAC7B,CAAE9C,KAAM,WAAY8C,MAAO,OAW/B,IAAII,EAPcH,KAAKC,MAKf,IALqBZ,EAASe,OAAO,CAACC,EAAKC,IAC1B,SAAnBA,EAAQ9L,OACH6L,GAAOH,WAAWI,EAAQtI,SAAW,GAEvCqI,EACN,IAAY,IAGf,OAAOf,EAASjI,IAAIkJ,IAClB,MAAMC,EAAiBR,KAAKS,IAAIN,EAAeI,EAAIR,OAEnD,OADAI,GAAiBK,EACV,CACLvD,KAAMsD,EAAItD,KACVjF,OAAQuI,EAAIR,MACZW,KAAMV,KAAKC,MAAuB,IAAjBO,GAAwB,IACzCG,QAASX,KAAKC,MAAgD,IAA1CD,KAAKY,IAAI,EAAGL,EAAIR,MAAQS,IAAyB,QAyErEK,EAAqBnK,IACzB,MAAM,KAAEF,EAAI,MAAEG,GAAUD,EAAEE,OAC1B8G,EAAe7G,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAE,CAACL,GAAOG,MAGvCmK,EAAWzD,EAAK+C,OAAO,CAACC,EAAKE,IAAQF,EAAME,EAAII,QAAS,GAE9D,OACE5J,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBAEH6G,IACC5G,EAAAA,EAAAA,KAAC6J,EAAAA,EAAK,CACJ9N,QAAS6K,EAAM7K,QACf8H,KAAM+C,EAAM/C,KACZyB,QAASA,IAAMuB,EAAS,SAI5BhH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBC,UAC7BC,EAAAA,EAAAA,KAAC8J,EAAAA,EAAa,CACZrH,gBAAiByD,EACjBxD,YAAY,wCAIfuD,IACCpG,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAAlC,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,YAAUkG,EAAgB3G,KAAK,IAAE2G,EAAgB5J,UAAS,IAAA6B,OAAO+H,EAAgB5J,UAAS,KAAM,sBACpGwD,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,UAAQkG,EAAgBhC,MAAM,eAAagC,EAAgB7F,WAC7D7D,IACCsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,WAAe,IAAExD,EAAe2K,OAAS,UACpDrH,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,WAAe,IAAExD,EAAe6K,OAAS,UACpDvH,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,aAAiB,IAAExD,EAAe8K,SAAW,UACxDxH,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,mBAAuB,IAAExD,EAAemL,KAAO,UAC1D7H,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,mBAAuB,IAAExD,EAAeqL,YAAc,UACjE/H,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,mBAAuB,IAAExD,EAAeuL,YAAc,eAK5E/E,GACC/C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,SAAC,4BAEzBC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAe,CAAC5D,KAAMA,KAGzBnG,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,SAC5B2G,GA4EA1G,EAAAA,EAAAA,KAACgK,EAAa,CACZjL,QAASA,EACTuG,QAASA,IAAMqB,GAAe,GAC9BpB,QAASA,IAAMsB,EAAS,CAAE9K,QAAS,gCAAiC8H,KAAM,eA9E5EhE,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAAlC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mBACJF,EAAAA,EAAAA,MAAA,QAAMoK,SA1HMtM,UAC1B6B,EAAE0K,iBAEF,MAAMN,EAAWzD,EAAK+C,OAAO,CAACC,EAAKE,IAAQF,EAAME,EAAII,QAAS,GACxD3I,EAASkI,WAAWzC,EAAYzF,QAEtC,GAAIA,GAAU,GAAKA,EAAS8I,EAE1B,YADA/C,EAAS,CAAE9K,QAAS,yBAA0B8H,KAAM,UAItD,IAAK0C,EAAYd,YAEf,YADAoB,EAAS,CAAE9K,QAAS,6BAA8B8H,KAAM,UAM1D,GAFAb,GAAa,IAERiD,IAAoBA,EAAgB5J,UAGvC,OAFAwK,EAAS,CAAE9K,QAAS,4BAA6B8H,KAAM,eACvDb,GAAa,GAIf,MAAMmH,EAAiB,CACrB9N,UAAW4J,EAAgB5J,UAC3Bc,OAAQ8I,EAAgBhC,MAAM8D,MAAM,KAAK,GACzC3K,KAAMgN,SAASnE,EAAgBhC,MAAM8D,MAAM,KAAK,KAAO,EACvD1K,SAAU,EACVgN,YAAa,OACbC,cAAe/D,EAAYd,YAAY8E,cACvC5E,QAASY,EAAYZ,SAAW,GAChC7E,OAAQA,EACRxD,OAAQ,OACRkN,aAAa,IAAIlK,MAAOmK,eAGpBpH,QAAeC,EAAAA,GAAQoH,WAAWP,GAGxC,GAFAnH,GAAa,GAETK,EAAOG,QAAS,CAClB,MAAMmH,QAAsBrH,EAAAA,GAAQsH,gBAAgBvH,EAAOjF,KAAKyM,WAC5DF,EAAcnH,SAChBiD,EAAW,CACT5F,cAAe8J,EAAcvM,KAAKW,QAAQ8B,cAC1C2E,KAAMmF,EAAcvM,KAAKW,QAAQ+L,WACjCzO,UAAW4J,EAAgB5J,UAC3B2C,YAAaiH,EAAgB3G,KAC7BwB,OAAQA,EACR2E,YAAac,EAAYd,YACzBE,QAASY,EAAYZ,SAAW,aAChCkF,UAAWxH,EAAOjF,KAAKyM,UACvBjF,UAAWO,EAAKzC,OAAO2F,GAAOA,EAAII,QAAU,GAAGtJ,IAAIkJ,IAAG,CACpDtD,KAAMsD,EAAItD,KACVjF,OAAQgI,KAAKS,IAAIF,EAAII,QAAS3I,QAGlC+F,EAAS,CAAE9K,QAAS,sFAAuF8H,KAAM,aAEjHgD,EAAS,CAAE9K,QAAS,mDAAoD8H,KAAM,YAEhF2C,EAAe,CAAE1F,OAAQ,GAAI2E,YAAa,GAAIE,QAAS,KACvDqB,GACF,MACEH,EAAS,CAAE9K,QAASsH,EAAO/E,MAAOuF,KAAM,WA0DS/D,UAAU,eAAcC,SAAA,EAC3DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,6BACPC,EAAAA,EAAAA,KAAA,SACE6D,KAAK,SACLvE,KAAK,SACLG,MAAO8G,EAAYzF,OACnBZ,SAAUyJ,EACVJ,IAAI,IACJG,IAAKE,EACLmB,KAAK,OACL5F,UAAQ,EACR6F,UAAW/E,IAAoBA,EAAgB5J,aAEjDwD,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CAAO,oBAAa6J,EAASlE,wBAG/B7F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,mBACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,cACLG,MAAO8G,EAAYd,YACnBvF,SAAUyJ,EACVxE,UAAQ,EACR6F,UAAW/E,IAAoBA,EAAgB5J,UAAU0D,SAAA,EAEzDC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,wBAnRlB,CAAC,SAAU,WAoRII,IAAI8K,IAChBjL,EAAAA,EAAAA,KAAA,UAAmBP,MAAOwL,EAAKlL,SAAEkL,GAApBA,WAKnBpL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,yBACPC,EAAAA,EAAAA,KAAA,YACEV,KAAK,UACLG,MAAO8G,EAAYZ,QACnBzF,SAAUyJ,EACVzE,KAAK,IACLxC,YAAY,uBACZsI,UAAW/E,IAAoBA,EAAgB5J,gBAInD2D,EAAAA,EAAAA,KAAA,UACE6D,KAAK,SACL/D,UAAU,kBACVkL,SAAUjI,IAAcwD,EAAYzF,SAAWyF,EAAYd,cAAgBQ,IAAoBA,EAAgB5J,UAAU0D,SAExHgD,EAAY,gBAAkB,oBAIlChE,IACCc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qCACJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,gBAAoB,IAAEhB,EAAQ8B,kBACzChB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,YAAgB,UAAGhB,EAAQ+B,OAAO4E,qBAC7C7F,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,kBAAsB,IAAEhB,EAAQ0G,gBAC3C5F,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,UAAc,IAAE,IAAIO,KAAKvB,EAAQyG,MAAMxE,4BAEpDhB,EAAAA,EAAAA,KAAA,UACEF,UAAU,oBACVG,QAASA,IAAM0G,GAAe,GAAM5G,SACrC,sC,uDC/UvB,MA4BA,EA5BcyC,IAAiC,IAAhC,QAAEzG,EAAO,KAAE8H,EAAI,QAAEyB,GAAS9C,EAgBvC,OACE3C,EAAAA,EAAAA,MAAA,OAAKC,UAAS,SAAA5B,OAhBMgN,MACpB,OAAQrH,GACN,IAAK,UACH,MAAO,gBACT,IAAK,QACH,MAAO,cACT,IAAK,UACH,MAAO,gBAGT,QACE,MAAO,eAKcqH,IAAkBnL,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAEhE,IAChCuJ,IACCtF,EAAAA,EAAAA,KAAA,UAAQF,UAAU,cAAcG,QAASqF,EAAQvF,SAAC,Y,mECpB1D,MAgSA,EAhS0BoL,KACxB,MAAOC,EAAmBC,IAAwBzP,EAAAA,EAAAA,UAAS,KACpDC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,KAChC0P,EAASC,IAAc3P,EAAAA,EAAAA,UAAS,KAChCmB,EAAUC,IAAepB,EAAAA,EAAAA,UAAS,KAClCqB,EAASC,IAActB,EAAAA,EAAAA,UAAS,CACrCuB,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,OAAQ,GACRC,UAAW,MAGbC,EAAAA,EAAAA,WAAU,KACRgO,IACA9N,KACC,IAEH,MAAMA,EAAgBC,UACpB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,yCAA0C,CACrEC,QAAS,CACP,cAAgB,UAADC,OAAYN,MAG/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5BrB,EAAYoB,EACd,CACF,CAAE,MAAOE,GACPC,QAAQD,MAAM,2BAA4BA,EAC5C,GAGIkN,EAAyB7N,UAC7B,IACE7B,GAAW,GACX,MAAM8B,EAAQC,aAAaC,QAAQ,SAC7BU,EAAc,IAAIC,gBAAgBxB,GAAS2B,WAC3CD,EAAG,oDAAAT,OAAuDM,EAAW,IAAAN,OAAOM,GAAgB,IAE5FT,QAAiBC,MAAMW,EAAK,CAChCV,QAAS,CACP,cAAgB,UAADC,OAAYN,MAI/B,GAAIG,EAASI,GAAI,CACf,MAAMC,QAAaL,EAASM,OAC5BgN,EAAqBjN,EACvB,MACEpC,EAAW,qCAEf,CAAE,MAAOsC,GACPC,QAAQD,MAAM,qCAAsCA,GACpDtC,EAAW,sCAAwCsC,EAAMvC,QAC3D,CAAC,QACCD,GAAW,EACb,GAGIyD,EAAsBC,IAC1B,MAAM,KAAEF,EAAI,MAAEG,GAAUD,EAAEE,OAC1BxC,EAAWyC,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVD,GAAI,IACP,CAACL,GAAOG,MA0DZ,OACEI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mEAGJhE,IACCiE,EAAAA,EAAAA,KAAA,OAAKF,UAAS,WAAA5B,OAAanC,EAAQmD,SAAS,UAAYnD,EAAQmD,SAAS,UAAY,QAAU,IAAKa,SACjGhE,KAKL8D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,SACLG,MAAOxC,EAAQE,OACf+C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,MAAKM,SAAC,SACpBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,UACrBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,OAAMM,SAAC,gBAGzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,WACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,OAAOG,MAAOxC,EAAQG,KAAM8C,SAAUX,EAAmBQ,SAAA,EACpEC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,eACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,cAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,oBAGtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,eACPF,EAAAA,EAAAA,MAAA,UAAQP,KAAK,WAAWG,MAAOxC,EAAQI,SAAU6C,SAAUX,EAAmBQ,SAAA,EAC5EC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,mBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,kBAClBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,IAAGM,SAAC,wBAGtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,aACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,SACLG,MAAOxC,EAAQK,OACf4C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,gBACjBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,SAAQM,SAAC,YACvBC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,YAAWM,SAAC,qBAG9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,cACPF,EAAAA,EAAAA,MAAA,UACEP,KAAK,YACLG,MAAOxC,EAAQM,UACf2C,SAAUX,EAAmBQ,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,UAAQP,MAAM,GAAEM,SAAC,iBAChBhD,EAASoD,IAAIC,IACZP,EAAAA,EAAAA,MAAA,UAA0BJ,MAAOW,EAAQC,IAAIN,SAAA,CAC1CK,EAAQ7C,UAAU,KAAG,IAAI+C,KAAKF,EAAQG,WAAWC,cAAc,IAAE,IAAIF,KAAKF,EAAQK,SAASD,cAAc,MAD/FJ,EAAQC,aAM3BL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,KAAA,UAAQC,QAjISS,KACzB8K,KAgI6C1L,UAAU,uBAAsBC,SAAC,2BAQ5EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,4BACHlE,GACCmE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,SAAC,mCAEzBC,EAAAA,EAAAA,KAAA,OAAK8E,MAAO,CAAEC,UAAW,QAASC,UAAW,QAASjF,SACnDqL,EAAkBzK,OAAS,GAC1Bd,EAAAA,EAAAA,MAAA,SAAOC,UAAU,2BAA0BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,0BACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBAGRC,EAAAA,EAAAA,KAAA,SAAAD,SACGqL,EAAkBjL,IAAIpB,IAAO,IAAA0M,EAAA7K,EAAA,OAC5Bf,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SACGhB,EAAQ8B,iBAEXb,EAAAA,EAAAA,KAAA,MAAAD,UAC4B,QAAzB0L,EAAA1M,EAAQ2M,yBAAiB,IAAAD,OAAA,EAAzBA,EAA2B5K,gBAAiB,SAE/Cb,EAAAA,EAAAA,KAAA,MAAAD,SACGhB,EAAQ1C,aAEX2D,EAAAA,EAAAA,KAAA,MAAAD,SACGhB,EAAQC,eAEXgB,EAAAA,EAAAA,KAAA,MAAAD,UACoB,QAAjBa,EAAA7B,EAAQxB,iBAAS,IAAAqD,OAAA,EAAjBA,EAAmBrD,YAAa,SAEnCsC,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,SACAhB,EAAQ+B,WAEZd,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAS,gBAAA5B,OAAqC,WAAnBa,EAAQzB,OAAsB,gBAAkB,oBAAqByC,SACnGhB,EAAQzB,YAGb0C,EAAAA,EAAAA,KAAA,MAAAD,SACG,IAAIO,KAAKvB,EAAQgC,WAAWC,wBAE/BnB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAzLHtC,WAC5B,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,sCAADE,OAAuC+C,EAAS,aAAa,CACvFhD,QAAS,CACP,cAAgB,UAADC,OAAYN,MAI/B,GAAIG,EAASI,GAAI,CACf,MAAM+C,QAAanD,EAASmD,OACtBvC,EAAMwC,OAAOC,IAAIC,gBAAgBH,GACjCI,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAO9C,EACT2C,EAAEI,SAAQ,qBAAAxD,OAAwB+C,EAAS,QAC3CM,SAASI,KAAKC,YAAYN,GAC1BA,EAAEO,QACFV,OAAOC,IAAIU,gBAAgBnD,GAC3B4C,SAASI,KAAKI,YAAYT,EAC5B,MACEtF,EAAW,6BAEf,CAAE,MAAOsC,GACPtC,EAAW,8BAAgCsC,EAAMvC,QACnD,GAiKqCiG,CAAsBjD,EAAQsB,KAC7CP,UAAU,gCAA+BC,SAC1C,aAGmB,WAAnBhB,EAAQzB,SACP0C,EAAAA,EAAAA,KAAA,UACEC,QAASA,IArKPtC,WAC1B,GAAKwD,OAAOwK,QAAQ,2DAEpB,IACE,MAAM/N,EAAQC,aAAaC,QAAQ,gBACZE,MAAM,sCAADE,OAAuC+C,EAAS,WAAW,CACrFiB,OAAQ,MACRjE,QAAS,CACP,cAAgB,UAADC,OAAYN,OAIlBO,IACXnC,EAAW,6CACXwP,KAEAxP,EAAW,2BAEf,CAAE,MAAOsC,GACPtC,EAAW,6BAA+BsC,EAAMvC,QAClD,GAiJuCwG,CAAoBxD,EAAQsB,KAC3CP,UAAU,8BAA6BC,SACxC,gBAtCEhB,EAAQsB,aAgDvBL,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAuBC,SAAC,yC","sources":["components/Admin Pannel/ManageReceipts.js","components/Admin Pannel/StudentSearch.js","components/Admin Pannel/ConfirmationModal.js","components/Admin Pannel/CancelReceipt.js","components/Admin Pannel/ReceiptViewer.js","components/Admin Pannel/CollectFees.js","components/Admin Pannel/Alert.js","components/Admin Pannel/DuplicateReceipts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../../styles/ManageReceipts.css';\r\n\r\nconst ManageReceipts = () => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('list');\r\n  const [formData, setFormData] = useState({\r\n    studentId: '',\r\n    selectedPayment: null\r\n  });\r\n  const [studentDetails, setStudentDetails] = useState(null);\r\n  const [studentPayments, setStudentPayments] = useState([]);\r\n  const [fetchingData, setFetchingData] = useState(false);\r\n  const [studentNames, setStudentNames] = useState({});\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchReceipts = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams();\r\n\r\n      if (filters.course) queryParams.append('course', filters.course);\r\n      if (filters.year) queryParams.append('year', filters.year);\r\n      if (filters.semester) queryParams.append('semester', filters.semester);\r\n      if (filters.status) queryParams.append('status', filters.status);\r\n      if (filters.sessionId) queryParams.append('sessionId', filters.sessionId);\r\n\r\n      const url = `http://localhost:5000/api/receipts${queryParams.toString() ? '?' + queryParams.toString() : ''}`;\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReceipts(data);\r\n\r\n        // Collect studentIds that need name fetching\r\n        const studentIdsToFetch = [];\r\n        const names = {};\r\n\r\n        for (const receipt of data) {\r\n          if (receipt.studentName && receipt.studentName !== 'undefined undefined' && receipt.studentName.trim() !== '') {\r\n            names[receipt.studentId] = receipt.studentName;\r\n          } else {\r\n            if (!studentIdsToFetch.includes(receipt.studentId)) {\r\n              studentIdsToFetch.push(receipt.studentId);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Fetch names for missing ones\r\n        for (const studentId of studentIdsToFetch) {\r\n          try {\r\n            const studentResponse = await fetch(`http://localhost:5000/api/payments/student-details/${studentId}`, {\r\n              headers: {\r\n                'Authorization': `Bearer ${token}`\r\n              }\r\n            });\r\n            if (studentResponse.ok) {\r\n              const studentData = await studentResponse.json();\r\n              names[studentId] = studentData.name || 'Unknown';\r\n            }\r\n          } catch (error) {\r\n            console.error('Error fetching student name:', error);\r\n            names[studentId] = 'Unknown';\r\n          }\r\n        }\r\n\r\n        setStudentNames(names);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching receipts:', error);\r\n      setMessage('Error fetching receipts: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchReceipts();\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleDuplicateReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/duplicate`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Duplicate receipt generated successfully');\r\n        fetchReceipts();\r\n      } else {\r\n        setMessage('Failed to duplicate receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error duplicating receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleCancelReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ reason: 'Cancelled by admin' })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Receipt cancelled successfully');\r\n        fetchReceipts();\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"manage-receipts\">\r\n      <h2>Manage Fee Receipts</h2>\r\n\r\n      {message && (\r\n        <div className=\"message\">\r\n          {message}\r\n          <button onClick={() => setMessage('')} className=\"close-message\">&times;</button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filters-grid\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select name=\"course\" value={filters.course} onChange={handleFilterChange}>\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Status:</label>\r\n            <select name=\"status\" value={filters.status} onChange={handleFilterChange}>\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Session:</label>\r\n            <select name=\"sessionId\" value={filters.sessionId} onChange={handleFilterChange}>\r\n              <option value=\"\">All Sessions</option>\r\n              {sessions.map(session => (\r\n                <option key={session._id} value={session._id}>\r\n                  {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <button onClick={handleApplyFilters} className=\"apply-filters-btn\">\r\n              Apply Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"receipts-section\">\r\n        <h3>Receipts List</h3>\r\n        {loading ? (\r\n          <p>Loading receipts...</p>\r\n        ) : receipts.length > 0 ? (\r\n          <div className=\"table-container\">\r\n            <table className=\"receipts-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Receipt No</th>\r\n                  <th>Student ID</th>\r\n                  <th>Student Name</th>\r\n                  <th>Course</th>\r\n                  <th>Year/Sem</th>\r\n                  <th>Session</th>\r\n                  <th>Amount</th>\r\n                  <th>Status</th>\r\n                  <th>Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {receipts.map(receipt => (\r\n                  <tr key={receipt._id}>\r\n                    <td>{receipt.receiptNumber}</td>\r\n                    <td>{receipt.studentId}</td>\r\n                    <td>{studentNames[receipt.studentId] || 'Loading...'}</td>\r\n                    <td>{receipt.course}</td>\r\n                    <td>{receipt.year}/{receipt.semester}</td>\r\n                    <td>{receipt.sessionId?.sessionId || 'N/A'}</td>\r\n                    <td>â‚¹{receipt.amount}</td>\r\n                    <td>\r\n                      <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                        {receipt.status}\r\n                      </span>\r\n                    </td>\r\n                    <td>{new Date(receipt.createdAt).toLocaleDateString()}</td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleDownloadReceipt(receipt._id)}\r\n                        className=\"action-button download-button\"\r\n                      >\r\n                        Download\r\n                      </button>\r\n                      {receipt.status === 'active' && (\r\n                        <>\r\n                          <button\r\n                            onClick={() => handleDuplicateReceipt(receipt._id)}\r\n                            className=\"action-button duplicate-button\"\r\n                          >\r\n                            Duplicate\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleCancelReceipt(receipt._id)}\r\n                            className=\"action-button cancel-button\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <p className=\"no-receipts\">No receipts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageReceipts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { feesApi } from '../../services/adminApi';\r\n\r\nconst StudentSearch = ({ onStudentSelect, placeholder = \"Search student by ID, name, class...\" }) => {\r\n  const [query, setQuery] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const searchStudents = async () => {\r\n      if (query.length < 2) {\r\n        setSuggestions([]);\r\n        return;\r\n      }\r\n\r\n      setIsLoading(true);\r\n      const result = await feesApi.searchStudent(query);\r\n      setIsLoading(false);\r\n\r\n      if (result.success) {\r\n        // Filter results to include only students with non-empty studentId\r\n        const filteredStudents = result.data.filter(student => student.studentId && student.studentId.trim() !== '');\r\n        setSuggestions(filteredStudents);\r\n      } else {\r\n        setSuggestions([]);\r\n      }\r\n    };\r\n\r\n    const debounceTimer = setTimeout(searchStudents, 300);\r\n    return () => clearTimeout(debounceTimer);\r\n  }, [query]);\r\n\r\n  const handleSelect = (student) => {\r\n    setQuery(`${student.studentId} - ${student.name}`);\r\n    setShowSuggestions(false);\r\n    onStudentSelect(student);\r\n  };\r\n\r\n  return (\r\n    <div className=\"student-search\">\r\n      <input\r\n        type=\"text\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        onFocus={() => setShowSuggestions(true)}\r\n        onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\r\n        placeholder={placeholder}\r\n        className=\"student-search-input\"\r\n      />\r\n      {isLoading && <div className=\"loading\">Searching...</div>}\r\n      {showSuggestions && suggestions.length > 0 && (\r\n        <ul className=\"suggestions-list\">\r\n          {suggestions.map((student) => (\r\n            <li\r\n              key={student._id}\r\n              onClick={() => handleSelect(student)}\r\n              className=\"suggestion-item\"\r\n            >\r\n              <div className=\"student-info\">\r\n                <span className=\"student-id\">{student.studentId}</span>\r\n                <span className=\"student-name\">{student.name}</span>\r\n                <span className=\"student-class\">{student.class} - {student.session}</span>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentSearch;\r\n","import React from 'react';\r\n\r\nconst ConfirmationModal = ({ isOpen, title, message, onConfirm, onCancel }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"confirmation-modal\">\r\n        <div className=\"modal-header\">\r\n          <h3>{title}</h3>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <p>{message}</p>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button className=\"btn btn-secondary\" onClick={onCancel}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"btn btn-danger\" onClick={onConfirm}>\r\n            Confirm\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Alert from './Alert';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport '../../styles/CancelReceipts.css';\r\n\r\nconst CancelReceipt = () => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [selectedReceipt, setSelectedReceipt] = useState(null);\r\n  const [cancelReason, setCancelReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchReceipts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters).toString();\r\n      const url = `http://localhost:5000/api/receipts${queryParams ? `?${queryParams}` : ''}`;\r\n\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReceipts(data);\r\n      } else {\r\n        setMessage('Failed to fetch receipts');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching receipts:', error);\r\n      setMessage('Error fetching receipts: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchReceipts();\r\n  };\r\n\r\n  const handleCancelReceipt = (receipt) => {\r\n    setSelectedReceipt(receipt);\r\n    setCancelReason('');\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleConfirmCancel = async () => {\r\n    if (!cancelReason.trim()) {\r\n      setMessage('Please provide a reason for cancellation');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${selectedReceipt._id}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ reason: cancelReason })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Receipt cancelled successfully!');\r\n        fetchReceipts();\r\n        setShowConfirmModal(false);\r\n        setSelectedReceipt(null);\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const userRole = localStorage.getItem('role');\r\n  const canCancel = userRole === 'admin';\r\n\r\n  return (\r\n    <div className=\"cancel-receipts-container\">\r\n      <div className=\"cancel-receipts-header\">\r\n        <h1>Cancel Receipts</h1>\r\n        <p>View and cancel issued fee receipts. This action cannot be undone.</p>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : ''}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {!canCancel && (\r\n        <div className=\"warning-message\">\r\n          <p>âš ï¸ Only administrators can cancel receipts.</p>\r\n        </div>\r\n      )}\r\n\r\n      {canCancel && (\r\n        <>\r\n          {/* Filters */}\r\n          <div className=\"filters-section\">\r\n            <h3>Filters</h3>\r\n            <div className=\"filters-grid\">\r\n              <div className=\"filter-group\">\r\n                <label>Course:</label>\r\n                <select\r\n                  name=\"course\"\r\n                  value={filters.course}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Courses</option>\r\n                  <option value=\"B.A\">B.A</option>\r\n                  <option value=\"B.Sc\">B.Sc</option>\r\n                  <option value=\"B.Ed\">B.Ed</option>\r\n                </select>\r\n              </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n              <div className=\"filter-group\">\r\n                <label>Status:</label>\r\n                <select\r\n                  name=\"status\"\r\n                  value={filters.status}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Status</option>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"cancelled\">Cancelled</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <label>Session:</label>\r\n                <select\r\n                  name=\"sessionId\"\r\n                  value={filters.sessionId}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Sessions</option>\r\n                  {sessions.map(session => (\r\n                    <option key={session._id} value={session._id}>\r\n                      {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <button onClick={handleApplyFilters} className=\"apply-filters-button\">\r\n                  Apply Filters\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Receipts List */}\r\n          <div className=\"cancel-receipts-list\">\r\n            <h3>Receipts List</h3>\r\n            {loading ? (\r\n              <div className=\"loading\">Loading receipts...</div>\r\n            ) : (\r\n              <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n                {receipts.length > 0 ? (\r\n                  <table className=\"cancel-receipts-table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Receipt No</th>\r\n                        <th>Student ID</th>\r\n                        <th>Student Name</th>\r\n                        <th>Session</th>\r\n                        <th>Amount</th>\r\n                        <th>Status</th>\r\n                        <th>Date</th>\r\n                        <th>Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {receipts.map(receipt => (\r\n                        <tr key={receipt._id}>\r\n                          <td>{receipt.receiptNumber}</td>\r\n                          <td>{receipt.studentId}</td>\r\n                          <td>{receipt.studentName}</td>\r\n                          <td>{receipt.sessionId?.sessionId || 'N/A'}</td>\r\n                          <td>â‚¹{receipt.amount}</td>\r\n                          <td>\r\n                            <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                              {receipt.status}\r\n                            </span>\r\n                          </td>\r\n                          <td>{new Date(receipt.createdAt).toLocaleDateString()}</td>\r\n                          <td>\r\n                            <button\r\n                              onClick={() => handleDownloadReceipt(receipt._id)}\r\n                              className=\"action-button download-button\"\r\n                            >\r\n                              Download\r\n                            </button>\r\n                            {receipt.status === 'active' && (\r\n                              <button\r\n                                onClick={() => handleCancelReceipt(receipt)}\r\n                                className=\"action-button cancel-button\"\r\n                              >\r\n                                Cancel\r\n                              </button>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <p className=\"no-receipts\">No receipts found.</p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <ConfirmationModal\r\n        isOpen={showConfirmModal}\r\n        title=\"Confirm Cancellation\"\r\n        message={\r\n          <div>\r\n            <p>Are you sure you want to cancel receipt <strong>{selectedReceipt?.receiptNumber}</strong>? This action cannot be undone.</p>\r\n            <div className=\"form-group\">\r\n              <label>Reason for Cancellation (Required):</label>\r\n              <textarea\r\n                value={cancelReason}\r\n                onChange={(e) => setCancelReason(e.target.value)}\r\n                rows=\"4\"\r\n                placeholder=\"Please provide a detailed reason for cancelling this receipt...\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        }\r\n        onConfirm={handleConfirmCancel}\r\n        onCancel={() => setShowConfirmModal(false)}\r\n        confirmText=\"Cancel Receipt\"\r\n        cancelText=\"Keep Receipt\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CancelReceipt;\r\n","import React from 'react';\r\nimport '../../styles/ReceiptViewer.css';\r\n\r\nconst ReceiptViewer = ({ receipt, onClose, onPrint }) => {\r\n  if (!receipt) return null;\r\n\r\n  return (\r\n    <div className=\"receipt-viewer-overlay\">\r\n      <div className=\"receipt-viewer\">\r\n        <div className=\"receipt-header\">\r\n          <h2>College Fee Receipt</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>Ã—</button>\r\n        </div>\r\n\r\n        <div className=\"receipt-content\">\r\n          <div className=\"receipt-details\">\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Receipt Number:</span>\r\n              <span className=\"value\">{receipt.receiptNumber}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Date:</span>\r\n              <span className=\"value\">{new Date(receipt.date).toLocaleDateString()}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Student ID:</span>\r\n              <span className=\"value\">{receipt.studentId}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Student Name:</span>\r\n              <span className=\"value\">{receipt.studentName}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Payment Mode:</span>\r\n              <span className=\"value\">{receipt.paymentMode}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Amount Paid:</span>\r\n              <span className=\"value\">â‚¹{receipt.amount.toLocaleString()}</span>\r\n            </div>\r\n            {receipt.remarks && (\r\n              <div className=\"detail-row\">\r\n                <span className=\"label\">Remarks:</span>\r\n                <span className=\"value\">{receipt.remarks}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {receipt.breakdown && receipt.breakdown.length > 0 && (\r\n            <div className=\"fee-breakdown\">\r\n              <h3>Fee Breakdown</h3>\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Fee Head</th>\r\n                    <th>Amount</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {receipt.breakdown.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td>{item.head}</td>\r\n                      <td>â‚¹{item.amount.toLocaleString()}</td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr className=\"total-row\">\r\n                    <td><strong>Total</strong></td>\r\n                    <td><strong>â‚¹{receipt.amount.toLocaleString()}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"receipt-footer\">\r\n          <p>This is a computer generated receipt.</p>\r\n          <div className=\"receipt-actions\">\r\n            <button className=\"btn btn-secondary\" onClick={onPrint}>\r\n              Print Receipt\r\n            </button>\r\n            <button className=\"btn btn-primary\" onClick={onClose}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptViewer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport StudentSearch from './StudentSearch';\r\nimport FeeSummaryTable from './FeeSummaryTable';\r\nimport ReceiptViewer from './ReceiptViewer';\r\nimport Alert from './Alert';\r\nimport { feesApi } from '../../services/adminApi';\r\nimport './CollectFees.css';\r\n\r\nconst CollectFees = () => {\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [studentDetails, setStudentDetails] = useState(null);\r\n  const [fees, setFees] = useState([]);\r\n  const [feeStructure, setFeeStructure] = useState(null);\r\n  const [paymentData, setPaymentData] = useState({\r\n    amount: '',\r\n    paymentMode: '',\r\n    remarks: ''\r\n  });\r\n  const [receipt, setReceipt] = useState(null);\r\n  const [showReceipt, setShowReceipt] = useState(false);\r\n  const [alert, setAlert] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const paymentModes = ['Online', 'Offline'];\r\n\r\n  useEffect(() => {\r\n    if (selectedStudent && selectedStudent.studentId) {\r\n      fetchStudentDetails();\r\n      fetchFeeStructure();\r\n      setAlert(null); // clear any previous alert\r\n    } else if (selectedStudent && (!selectedStudent.studentId || selectedStudent.studentId.trim() === '')) {\r\n      // Show alert for missing student ID\r\n      setAlert({ message: 'Selected student has no student ID, fee summary cannot be displayed.', type: 'warning' });\r\n      setStudentDetails(null);\r\n      setFeeStructure(null);\r\n      setFees([]);\r\n    } else {\r\n      setAlert(null);\r\n      setStudentDetails(null);\r\n      setFeeStructure(null);\r\n      setFees([]);\r\n    }\r\n  }, [selectedStudent]);\r\n\r\n  useEffect(() => {\r\n    if (selectedStudent && selectedStudent.studentId && feeStructure) {\r\n      fetchStudentFees();\r\n    } else {\r\n      setFees([]);\r\n    }\r\n  }, [selectedStudent, feeStructure]);\r\n\r\n  const fetchStudentDetails = async () => {\r\n    if (!selectedStudent || !selectedStudent.studentId) return;\r\n    setIsLoading(true);\r\n    const result = await feesApi.getStudentDetails(selectedStudent.studentId, 'student');\r\n    setIsLoading(false);\r\n    if (result.success) {\r\n      const student = result.data;\r\n      setStudentDetails({\r\n        phone: student.mobileNumber || 'N/A',\r\n        email: student.email || 'N/A',\r\n        address: student.address ? `${student.address.street}, ${student.address.city}, ${student.address.state} - ${student.address.pincode}` : 'N/A',\r\n        dob: student.dateOfBirth ? new Date(student.dateOfBirth).toLocaleDateString() : 'N/A',\r\n        fatherName: student.guardianName || 'N/A',\r\n        motherName: 'N/A'\r\n      });\r\n    } else {\r\n      setAlert({ message: 'Failed to fetch student details', type: 'error' });\r\n      setStudentDetails(null);\r\n    }\r\n  };\r\n\r\n  const fetchFeeStructure = async () => {\r\n    if (!selectedStudent || !selectedStudent.class) return;\r\n    const course = selectedStudent.class.split(' ')[0];\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/fees/${course}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFeeStructure(data);\r\n      } else {\r\n        setFeeStructure(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee structure:', error);\r\n      setFeeStructure(null);\r\n    }\r\n  };\r\n\r\n  const fetchStudentFees = async () => {\r\n    if (!selectedStudent || !selectedStudent.studentId) {\r\n      setAlert({ message: 'No valid student selected for fetching fees', type: 'error' });\r\n      setFees([]);\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    const result = await feesApi.getStudentFees(selectedStudent.studentId);\r\n    setIsLoading(false);\r\n    if (result.success) {\r\n      const feeSummary = calculateFeeSummary(result.data);\r\n      setFees(feeSummary);\r\n    } else {\r\n      setAlert({ message: 'Failed to fetch student fees', type: 'error' });\r\n      setFees([]);\r\n    }\r\n  };\r\n\r\n  const calculateFeeSummary = (payments) => {\r\n    let feeHeads = [];\r\n\r\n    if (feeStructure && feeStructure.feeComponents) {\r\n      feeHeads = Object.entries(feeStructure.feeComponents).map(([key, value]) => ({\r\n        head: key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1'),\r\n        total: Math.round((parseFloat(value) || 0) * 100) / 100\r\n      }));\r\n    } else {\r\n      feeHeads = [\r\n        { head: 'Tuition Fee', total: 5000 },\r\n        { head: 'Library Fee', total: 500 },\r\n        { head: 'Sports Fee', total: 1000 },\r\n        { head: 'Exam Fee', total: 1500 }\r\n      ];\r\n    }\r\n\r\n    const totalPaid = Math.round(payments.reduce((sum, payment) => {\r\n      if (payment.status === 'Paid') {\r\n        return sum + (parseFloat(payment.amount) || 0);\r\n      }\r\n      return sum;\r\n    }, 0) * 100) / 100;\r\n\r\n    let remainingPaid = totalPaid;\r\n    return feeHeads.map(fee => {\r\n      const paidForThisFee = Math.min(remainingPaid, fee.total);\r\n      remainingPaid -= paidForThisFee;\r\n      return {\r\n        head: fee.head,\r\n        amount: fee.total,\r\n        paid: Math.round(paidForThisFee * 100) / 100,\r\n        balance: Math.round(Math.max(0, fee.total - paidForThisFee) * 100) / 100\r\n      };\r\n    });\r\n  };\r\n\r\n  const handlePaymentSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const totalDue = fees.reduce((sum, fee) => sum + fee.balance, 0);\r\n    const amount = parseFloat(paymentData.amount);\r\n\r\n    if (amount <= 0 || amount > totalDue) {\r\n      setAlert({ message: 'Invalid payment amount', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!paymentData.paymentMode) {\r\n      setAlert({ message: 'Please select payment mode', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    if (!selectedStudent || !selectedStudent.studentId) {\r\n      setAlert({ message: 'No valid student selected', type: 'error' });\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    const paymentPayload = {\r\n      studentId: selectedStudent.studentId,\r\n      course: selectedStudent.class.split(' ')[0],\r\n      year: parseInt(selectedStudent.class.split(' ')[1]) || 1,\r\n      semester: 1,\r\n      paymentType: 'year',\r\n      paymentMethod: paymentData.paymentMode.toLowerCase(),\r\n      remarks: paymentData.remarks || '',\r\n      amount: amount,\r\n      status: 'Paid',\r\n      paymentDate: new Date().toISOString()\r\n    };\r\n\r\n    const result = await feesApi.collectFee(paymentPayload);\r\n    setIsLoading(false);\r\n\r\n    if (result.success) {\r\n      const receiptResult = await feesApi.generateReceipt(result.data.paymentId);\r\n      if (receiptResult.success) {\r\n        setReceipt({\r\n          receiptNumber: receiptResult.data.receipt.receiptNumber,\r\n          date: receiptResult.data.receipt.issuedDate,\r\n          studentId: selectedStudent.studentId,\r\n          studentName: selectedStudent.name,\r\n          amount: amount,\r\n          paymentMode: paymentData.paymentMode,\r\n          remarks: paymentData.remarks || 'No remarks',\r\n          paymentId: result.data.paymentId,\r\n          breakdown: fees.filter(fee => fee.balance > 0).map(fee => ({\r\n            head: fee.head,\r\n            amount: Math.min(fee.balance, amount)\r\n          }))\r\n        });\r\n        setAlert({ message: 'Payment collected successfully! Click \"Generate Receipt\" to view/print the receipt.', type: 'success' });\r\n      } else {\r\n        setAlert({ message: 'Payment collected but failed to generate receipt', type: 'warning' });\r\n      }\r\n      setPaymentData({ amount: '', paymentMode: '', remarks: '' });\r\n      fetchStudentFees();\r\n    } else {\r\n      setAlert({ message: result.error, type: 'error' });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPaymentData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const totalDue = fees.reduce((sum, fee) => sum + fee.balance, 0);\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Collect Fees</h1>\r\n\r\n      {alert && (\r\n        <Alert\r\n          message={alert.message}\r\n          type={alert.type}\r\n          onClose={() => setAlert(null)}\r\n        />\r\n      )}\r\n\r\n      <div className=\"collect-fees-container\">\r\n        <div className=\"search-section\">\r\n          <StudentSearch\r\n            onStudentSelect={setSelectedStudent}\r\n            placeholder=\"Search student to collect fees...\"\r\n          />\r\n        </div>\r\n\r\n        {selectedStudent && (\r\n          <>\r\n            <div className=\"student-info\">\r\n                    <h3>Student: {selectedStudent.name} {selectedStudent.studentId ? `(${selectedStudent.studentId})` : '(No Student ID)'}</h3>\r\n                    <p>Class: {selectedStudent.class} | Session: {selectedStudent.session}</p>\r\n                    {studentDetails && (\r\n                      <div className=\"additional-details\">\r\n                        <p><strong>Phone:</strong> {studentDetails.phone || 'N/A'}</p>\r\n                        <p><strong>Email:</strong> {studentDetails.email || 'N/A'}</p>\r\n                        <p><strong>Address:</strong> {studentDetails.address || 'N/A'}</p>\r\n                        <p><strong>Date of Birth:</strong> {studentDetails.dob || 'N/A'}</p>\r\n                        <p><strong>Father's Name:</strong> {studentDetails.fatherName || 'N/A'}</p>\r\n                        <p><strong>Mother's Name:</strong> {studentDetails.motherName || 'N/A'}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n            {isLoading ? (\r\n              <div className=\"loading\">Loading fee details...</div>\r\n            ) : (\r\n              <FeeSummaryTable fees={fees} />\r\n            )}\r\n\r\n            <div className=\"payment-section\">\r\n              {!showReceipt ? (\r\n                <>\r\n                  <h3>Payment Entry</h3>\r\n                  <form onSubmit={handlePaymentSubmit} className=\"payment-form\">\r\n                    <div className=\"form-group\">\r\n                      <label>Amount to Pay (â‚¹):</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"amount\"\r\n                        value={paymentData.amount}\r\n                        onChange={handleInputChange}\r\n                        min=\"0\"\r\n                        max={totalDue}\r\n                        step=\"0.01\"\r\n                        required\r\n                        disabled={!selectedStudent || !selectedStudent.studentId}\r\n                      />\r\n                      <small>Total due: â‚¹{totalDue.toLocaleString()}</small>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Payment Mode:</label>\r\n                      <select\r\n                        name=\"paymentMode\"\r\n                        value={paymentData.paymentMode}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        disabled={!selectedStudent || !selectedStudent.studentId}\r\n                      >\r\n                        <option value=\"\">Select payment mode</option>\r\n                        {paymentModes.map(mode => (\r\n                          <option key={mode} value={mode}>{mode}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Remarks (Optional):</label>\r\n                      <textarea\r\n                        name=\"remarks\"\r\n                        value={paymentData.remarks}\r\n                        onChange={handleInputChange}\r\n                        rows=\"3\"\r\n                        placeholder=\"Enter any remarks...\"\r\n                        disabled={!selectedStudent || !selectedStudent.studentId}\r\n                      />\r\n                    </div>\r\n\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-primary\"\r\n                      disabled={isLoading || !paymentData.amount || !paymentData.paymentMode || !selectedStudent || !selectedStudent.studentId}\r\n                    >\r\n                      {isLoading ? 'Processing...' : 'Collect Fees'}\r\n                    </button>\r\n                  </form>\r\n\r\n                  {receipt && (\r\n                    <div className=\"receipt-preview\">\r\n                      <h3>Receipt Generated Successfully!</h3>\r\n                      <div className=\"receipt-info\">\r\n                        <p><strong>Receipt No:</strong> {receipt.receiptNumber}</p>\r\n                        <p><strong>Amount:</strong> â‚¹{receipt.amount.toLocaleString()}</p>\r\n                        <p><strong>Payment Mode:</strong> {receipt.paymentMode}</p>\r\n                        <p><strong>Date:</strong> {new Date(receipt.date).toLocaleDateString()}</p>\r\n                      </div>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setShowReceipt(true)}\r\n                      >\r\n                        Generate Receipt\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <ReceiptViewer\r\n                  receipt={receipt}\r\n                  onClose={() => setShowReceipt(false)}\r\n                  onPrint={() => setAlert({ message: 'Receipt printed successfully!', type: 'success' })}\r\n                />\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectFees;\r\n","import React from 'react';\r\nimport '../../styles/Alert.css';\r\n\r\nconst Alert = ({ message, type, onClose }) => {\r\n  const getAlertClass = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return 'alert-success';\r\n      case 'error':\r\n        return 'alert-error';\r\n      case 'warning':\r\n        return 'alert-warning';\r\n      case 'info':\r\n        return 'alert-info';\r\n      default:\r\n        return 'alert-info';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`alert ${getAlertClass()}`}>\r\n      <span className=\"alert-message\">{message}</span>\r\n      {onClose && (\r\n        <button className=\"alert-close\" onClick={onClose}>\r\n          Ã—\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/DuplicateReceipts.css';\r\n\r\nconst DuplicateReceipts = () => {\r\n  const [duplicateReceipts, setDuplicateReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [batches, setBatches] = useState([]);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchDuplicateReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchDuplicateReceipts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters).toString();\r\n      const url = `http://localhost:5000/api/receipts/duplicates/all${queryParams ? `?${queryParams}` : ''}`;\r\n\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDuplicateReceipts(data);\r\n      } else {\r\n        setMessage('Failed to fetch duplicate receipts');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching duplicate receipts:', error);\r\n      setMessage('Error fetching duplicate receipts: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchDuplicateReceipts();\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `duplicate_receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleCancelReceipt = async (receiptId) => {\r\n    if (!window.confirm('Are you sure you want to cancel this duplicate receipt?')) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Duplicate receipt cancelled successfully!');\r\n        fetchDuplicateReceipts();\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"duplicate-receipts-container\">\r\n      <div className=\"duplicate-receipts-header\">\r\n        <h1>Duplicate Receipts</h1>\r\n        <p>View and manage automatically generated duplicate receipts.</p>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : ''}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filters-grid\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              name=\"course\"\r\n              value={filters.course}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Status:</label>\r\n            <select\r\n              name=\"status\"\r\n              value={filters.status}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Session:</label>\r\n            <select\r\n              name=\"sessionId\"\r\n              value={filters.sessionId}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Sessions</option>\r\n              {sessions.map(session => (\r\n                <option key={session._id} value={session._id}>\r\n                  {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <button onClick={handleApplyFilters} className=\"apply-filters-button\">\r\n              Apply Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Duplicate Receipts List */}\r\n      <div className=\"duplicate-receipts-list\">\r\n        <h3>Duplicate Receipts List</h3>\r\n        {loading ? (\r\n          <div className=\"loading\">Loading duplicate receipts...</div>\r\n        ) : (\r\n          <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n            {duplicateReceipts.length > 0 ? (\r\n              <table className=\"duplicate-receipts-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Duplicate Receipt No</th>\r\n                    <th>Original Receipt No</th>\r\n                    <th>Student ID</th>\r\n                    <th>Student Name</th>\r\n                    <th>Session</th>\r\n                    <th>Amount</th>\r\n                    <th>Status</th>\r\n                    <th>Generated Date</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {duplicateReceipts.map(receipt => (\r\n                    <tr key={receipt._id}>\r\n                      <td>\r\n                        {receipt.receiptNumber}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.originalReceiptId?.receiptNumber || 'N/A'}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.studentId}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.studentName}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.sessionId?.sessionId || 'N/A'}\r\n                      </td>\r\n                      <td>\r\n                        â‚¹{receipt.amount}\r\n                      </td>\r\n                      <td>\r\n                        <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                          {receipt.status}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        {new Date(receipt.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                      <td>\r\n                        <button\r\n                          onClick={() => handleDownloadReceipt(receipt._id)}\r\n                          className=\"action-button download-button\"\r\n                        >\r\n                          Download\r\n                        </button>\r\n                        {receipt.status === 'active' && (\r\n                          <button\r\n                            onClick={() => handleCancelReceipt(receipt._id)}\r\n                            className=\"action-button cancel-button\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p className=\"no-duplicate-receipts\">No duplicate receipts found.</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DuplicateReceipts;\r\n"],"names":["ManageReceipts","receipts","setReceipts","useState","loading","setLoading","message","setMessage","activeTab","setActiveTab","formData","setFormData","studentId","selectedPayment","studentDetails","setStudentDetails","studentPayments","setStudentPayments","fetchingData","setFetchingData","studentNames","setStudentNames","sessions","setSessions","filters","setFilters","course","year","semester","status","sessionId","useEffect","fetchReceipts","fetchSessions","async","token","localStorage","getItem","response","fetch","headers","concat","ok","data","json","error","console","queryParams","URLSearchParams","append","url","toString","studentIdsToFetch","names","receipt","studentName","trim","includes","push","studentResponse","studentData","name","handleFilterChange","e","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","onClick","onChange","map","session","_id","Date","startDate","getFullYear","endDate","handleApplyFilters","length","_receipt$sessionId","receiptNumber","amount","createdAt","toLocaleDateString","receiptId","blob","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","revokeObjectURL","removeChild","handleDownloadReceipt","_Fragment","method","handleDuplicateReceipt","JSON","stringify","reason","handleCancelReceipt","_ref","onStudentSelect","placeholder","query","setQuery","suggestions","setSuggestions","isLoading","setIsLoading","showSuggestions","setShowSuggestions","debounceTimer","setTimeout","result","feesApi","searchStudent","success","filteredStudents","filter","student","clearTimeout","type","onFocus","onBlur","handleSelect","class","isOpen","title","onConfirm","onCancel","CancelReceipt","showConfirmModal","setShowConfirmModal","selectedReceipt","setSelectedReceipt","cancelReason","setCancelReason","canCancel","style","maxHeight","overflowY","ConfirmationModal","rows","required","confirmText","cancelText","onClose","onPrint","date","paymentMode","toLocaleString","remarks","breakdown","item","index","head","CollectFees","selectedStudent","setSelectedStudent","fees","setFees","feeStructure","setFeeStructure","paymentData","setPaymentData","setReceipt","showReceipt","setShowReceipt","alert","setAlert","fetchStudentDetails","fetchFeeStructure","fetchStudentFees","getStudentDetails","phone","mobileNumber","email","address","street","city","state","pincode","dob","dateOfBirth","fatherName","guardianName","motherName","split","getStudentFees","feeSummary","calculateFeeSummary","payments","feeHeads","feeComponents","Object","entries","key","charAt","toUpperCase","slice","replace","total","Math","round","parseFloat","remainingPaid","reduce","sum","payment","fee","paidForThisFee","min","paid","balance","max","handleInputChange","totalDue","Alert","StudentSearch","FeeSummaryTable","ReceiptViewer","onSubmit","preventDefault","paymentPayload","parseInt","paymentType","paymentMethod","toLowerCase","paymentDate","toISOString","collectFee","receiptResult","generateReceipt","paymentId","issuedDate","step","disabled","mode","getAlertClass","DuplicateReceipts","duplicateReceipts","setDuplicateReceipts","batches","setBatches","fetchDuplicateReceipts","_receipt$originalRece","originalReceiptId","confirm"],"ignoreList":[],"sourceRoot":""}